ARM GAS  /tmp/ccT7RLP5.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 4
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"utils.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.patternSeparatorShortPos,"ax",%progbits
  18              		.align	1
  19              		.arch armv7e-m
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  23              		.fpu fpv4-sp-d16
  25              	patternSeparatorShortPos:
  26              	.LVL0:
  27              	.LFB21:
  28              		.file 1 "libscpi/src/utils.c"
   1:libscpi/src/utils.c **** /*-
   2:libscpi/src/utils.c ****  * BSD 2-Clause License
   3:libscpi/src/utils.c ****  *
   4:libscpi/src/utils.c ****  * Copyright (c) 2012-2018, Jan Breuer, Richard.hmm
   5:libscpi/src/utils.c ****  * All rights reserved.
   6:libscpi/src/utils.c ****  *
   7:libscpi/src/utils.c ****  * Redistribution and use in source and binary forms, with or without
   8:libscpi/src/utils.c ****  * modification, are permitted provided that the following conditions are met:
   9:libscpi/src/utils.c ****  *
  10:libscpi/src/utils.c ****  * * Redistributions of source code must retain the above copyright notice, this
  11:libscpi/src/utils.c ****  *   list of conditions and the following disclaimer.
  12:libscpi/src/utils.c ****  *
  13:libscpi/src/utils.c ****  * * Redistributions in binary form must reproduce the above copyright notice,
  14:libscpi/src/utils.c ****  *   this list of conditions and the following disclaimer in the documentation
  15:libscpi/src/utils.c ****  *   and/or other materials provided with the distribution.
  16:libscpi/src/utils.c ****  *
  17:libscpi/src/utils.c ****  * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
  18:libscpi/src/utils.c ****  * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
  19:libscpi/src/utils.c ****  * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
  20:libscpi/src/utils.c ****  * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE
  21:libscpi/src/utils.c ****  * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
  22:libscpi/src/utils.c ****  * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
  23:libscpi/src/utils.c ****  * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
  24:libscpi/src/utils.c ****  * CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
  25:libscpi/src/utils.c ****  * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
  26:libscpi/src/utils.c ****  * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  27:libscpi/src/utils.c ****  */
  28:libscpi/src/utils.c **** 
  29:libscpi/src/utils.c **** /**
  30:libscpi/src/utils.c ****  * @file   scpi_utils.c
ARM GAS  /tmp/ccT7RLP5.s 			page 2


  31:libscpi/src/utils.c ****  * @date   Thu Nov 15 10:58:45 UTC 2012
  32:libscpi/src/utils.c ****  *
  33:libscpi/src/utils.c ****  * @brief  Conversion routines and string manipulation routines
  34:libscpi/src/utils.c ****  *
  35:libscpi/src/utils.c ****  *
  36:libscpi/src/utils.c ****  */
  37:libscpi/src/utils.c **** 
  38:libscpi/src/utils.c **** #include <stdio.h>
  39:libscpi/src/utils.c **** #include <stdlib.h>
  40:libscpi/src/utils.c **** #include <string.h>
  41:libscpi/src/utils.c **** #include <ctype.h>
  42:libscpi/src/utils.c **** #include <math.h>
  43:libscpi/src/utils.c **** 
  44:libscpi/src/utils.c **** #include "utils_private.h"
  45:libscpi/src/utils.c **** #include "scpi/utils.h"
  46:libscpi/src/utils.c **** 
  47:libscpi/src/utils.c **** static size_t patternSeparatorShortPos(const char * pattern, size_t len);
  48:libscpi/src/utils.c **** static size_t patternSeparatorPos(const char * pattern, size_t len);
  49:libscpi/src/utils.c **** static size_t cmdSeparatorPos(const char * cmd, size_t len);
  50:libscpi/src/utils.c **** 
  51:libscpi/src/utils.c **** /**
  52:libscpi/src/utils.c ****  * Find the first occurrence in str of a character in set.
  53:libscpi/src/utils.c ****  * @param str
  54:libscpi/src/utils.c ****  * @param size
  55:libscpi/src/utils.c ****  * @param set
  56:libscpi/src/utils.c ****  * @return
  57:libscpi/src/utils.c ****  */
  58:libscpi/src/utils.c **** char * strnpbrk(const char *str, size_t size, const char *set) {
  59:libscpi/src/utils.c ****     const char *scanp;
  60:libscpi/src/utils.c ****     long c, sc;
  61:libscpi/src/utils.c ****     const char * strend = str + size;
  62:libscpi/src/utils.c **** 
  63:libscpi/src/utils.c ****     while ((strend != str) && ((c = *str++) != 0)) {
  64:libscpi/src/utils.c ****         for (scanp = set; (sc = *scanp++) != '\0';)
  65:libscpi/src/utils.c ****             if (sc == c)
  66:libscpi/src/utils.c ****                 return ((char *) (str - 1));
  67:libscpi/src/utils.c ****     }
  68:libscpi/src/utils.c ****     return (NULL);
  69:libscpi/src/utils.c **** }
  70:libscpi/src/utils.c **** 
  71:libscpi/src/utils.c **** /**
  72:libscpi/src/utils.c ****  * Converts signed/unsigned 32 bit integer value to string in specific base
  73:libscpi/src/utils.c ****  * @param val   integer value
  74:libscpi/src/utils.c ****  * @param str   converted textual representation
  75:libscpi/src/utils.c ****  * @param len   string buffer length
  76:libscpi/src/utils.c ****  * @param base  output base
  77:libscpi/src/utils.c ****  * @param sign
  78:libscpi/src/utils.c ****  * @return number of bytes written to str (without '\0')
  79:libscpi/src/utils.c ****  */
  80:libscpi/src/utils.c **** size_t UInt32ToStrBaseSign(uint32_t val, char * str, size_t len, int8_t base, scpi_bool_t sign) {
  81:libscpi/src/utils.c ****     const char digits[] = "0123456789ABCDEF";
  82:libscpi/src/utils.c **** 
  83:libscpi/src/utils.c **** #define ADD_CHAR(c) if (pos < len) str[pos++] = (c)
  84:libscpi/src/utils.c ****     uint32_t x = 0;
  85:libscpi/src/utils.c ****     int_fast8_t digit;
  86:libscpi/src/utils.c ****     size_t pos = 0;
  87:libscpi/src/utils.c ****     uint32_t uval = val;
ARM GAS  /tmp/ccT7RLP5.s 			page 3


  88:libscpi/src/utils.c **** 
  89:libscpi/src/utils.c ****     if (uval == 0) {
  90:libscpi/src/utils.c ****         ADD_CHAR('0');
  91:libscpi/src/utils.c ****     } else {
  92:libscpi/src/utils.c **** 
  93:libscpi/src/utils.c ****         switch (base) {
  94:libscpi/src/utils.c ****             case 2:
  95:libscpi/src/utils.c ****                 x = 0x80000000L;
  96:libscpi/src/utils.c ****                 break;
  97:libscpi/src/utils.c ****             case 8:
  98:libscpi/src/utils.c ****                 x = 0x40000000L;
  99:libscpi/src/utils.c ****                 break;
 100:libscpi/src/utils.c ****             default:
 101:libscpi/src/utils.c ****             case 10:
 102:libscpi/src/utils.c ****                 base = 10;
 103:libscpi/src/utils.c ****                 x = 1000000000L;
 104:libscpi/src/utils.c ****                 break;
 105:libscpi/src/utils.c ****             case 16:
 106:libscpi/src/utils.c ****                 x = 0x10000000L;
 107:libscpi/src/utils.c ****                 break;
 108:libscpi/src/utils.c ****         }
 109:libscpi/src/utils.c **** 
 110:libscpi/src/utils.c ****         /* add sign for numbers in base 10 */
 111:libscpi/src/utils.c ****         if (sign && ((int32_t) val < 0) && (base == 10)) {
 112:libscpi/src/utils.c ****             uval = -val;
 113:libscpi/src/utils.c ****             ADD_CHAR('-');
 114:libscpi/src/utils.c ****         }
 115:libscpi/src/utils.c **** 
 116:libscpi/src/utils.c ****         /* remove leading zeros */
 117:libscpi/src/utils.c ****         while ((uval / x) == 0) {
 118:libscpi/src/utils.c ****             x /= base;
 119:libscpi/src/utils.c ****         }
 120:libscpi/src/utils.c **** 
 121:libscpi/src/utils.c ****         do {
 122:libscpi/src/utils.c ****             digit = (uint8_t) (uval / x);
 123:libscpi/src/utils.c ****             ADD_CHAR(digits[digit]);
 124:libscpi/src/utils.c ****             uval -= digit * x;
 125:libscpi/src/utils.c ****             x /= base;
 126:libscpi/src/utils.c ****         } while (x && (pos < len));
 127:libscpi/src/utils.c ****     }
 128:libscpi/src/utils.c **** 
 129:libscpi/src/utils.c ****     if (pos < len) str[pos] = 0;
 130:libscpi/src/utils.c ****     return pos;
 131:libscpi/src/utils.c **** #undef ADD_CHAR
 132:libscpi/src/utils.c **** }
 133:libscpi/src/utils.c **** 
 134:libscpi/src/utils.c **** /**
 135:libscpi/src/utils.c ****  * Converts signed 32 bit integer value to string
 136:libscpi/src/utils.c ****  * @param val   integer value
 137:libscpi/src/utils.c ****  * @param str   converted textual representation
 138:libscpi/src/utils.c ****  * @param len   string buffer length
 139:libscpi/src/utils.c ****  * @return number of bytes written to str (without '\0')
 140:libscpi/src/utils.c ****  */
 141:libscpi/src/utils.c **** size_t SCPI_Int32ToStr(int32_t val, char * str, size_t len) {
 142:libscpi/src/utils.c ****     return UInt32ToStrBaseSign((uint32_t) val, str, len, 10, TRUE);
 143:libscpi/src/utils.c **** }
 144:libscpi/src/utils.c **** 
ARM GAS  /tmp/ccT7RLP5.s 			page 4


 145:libscpi/src/utils.c **** /**
 146:libscpi/src/utils.c ****  * Converts unsigned 32 bit integer value to string in specific base
 147:libscpi/src/utils.c ****  * @param val   integer value
 148:libscpi/src/utils.c ****  * @param str   converted textual representation
 149:libscpi/src/utils.c ****  * @param len   string buffer length
 150:libscpi/src/utils.c ****  * @param base  output base
 151:libscpi/src/utils.c ****  * @return number of bytes written to str (without '\0')
 152:libscpi/src/utils.c ****  */
 153:libscpi/src/utils.c **** size_t SCPI_UInt32ToStrBase(uint32_t val, char * str, size_t len, int8_t base) {
 154:libscpi/src/utils.c ****     return UInt32ToStrBaseSign(val, str, len, base, FALSE);
 155:libscpi/src/utils.c **** }
 156:libscpi/src/utils.c **** 
 157:libscpi/src/utils.c **** /**
 158:libscpi/src/utils.c ****  * Converts signed/unsigned 64 bit integer value to string in specific base
 159:libscpi/src/utils.c ****  * @param val   integer value
 160:libscpi/src/utils.c ****  * @param str   converted textual representation
 161:libscpi/src/utils.c ****  * @param len   string buffer length
 162:libscpi/src/utils.c ****  * @param base  output base
 163:libscpi/src/utils.c ****  * @param sign
 164:libscpi/src/utils.c ****  * @return number of bytes written to str (without '\0')
 165:libscpi/src/utils.c ****  */
 166:libscpi/src/utils.c **** size_t UInt64ToStrBaseSign(uint64_t val, char * str, size_t len, int8_t base, scpi_bool_t sign) {
 167:libscpi/src/utils.c ****     const char digits[] = "0123456789ABCDEF";
 168:libscpi/src/utils.c **** 
 169:libscpi/src/utils.c **** #define ADD_CHAR(c) if (pos < len) str[pos++] = (c)
 170:libscpi/src/utils.c ****     uint64_t x = 0;
 171:libscpi/src/utils.c ****     int_fast8_t digit;
 172:libscpi/src/utils.c ****     size_t pos = 0;
 173:libscpi/src/utils.c ****     uint64_t uval = val;
 174:libscpi/src/utils.c **** 
 175:libscpi/src/utils.c ****     if (uval == 0) {
 176:libscpi/src/utils.c ****         ADD_CHAR('0');
 177:libscpi/src/utils.c ****     } else {
 178:libscpi/src/utils.c **** 
 179:libscpi/src/utils.c ****         switch (base) {
 180:libscpi/src/utils.c ****             case 2:
 181:libscpi/src/utils.c ****                 x = 0x8000000000000000ULL;
 182:libscpi/src/utils.c ****                 break;
 183:libscpi/src/utils.c ****             case 8:
 184:libscpi/src/utils.c ****                 x = 0x8000000000000000ULL;
 185:libscpi/src/utils.c ****                 break;
 186:libscpi/src/utils.c ****             default:
 187:libscpi/src/utils.c ****             case 10:
 188:libscpi/src/utils.c ****                 x = 10000000000000000000ULL;
 189:libscpi/src/utils.c ****                 base = 10;
 190:libscpi/src/utils.c ****                 break;
 191:libscpi/src/utils.c ****             case 16:
 192:libscpi/src/utils.c ****                 x = 0x1000000000000000ULL;
 193:libscpi/src/utils.c ****                 break;
 194:libscpi/src/utils.c ****         }
 195:libscpi/src/utils.c **** 
 196:libscpi/src/utils.c ****         /* add sign for numbers in base 10 */
 197:libscpi/src/utils.c ****         if (sign && ((int64_t) val < 0) && (base == 10)) {
 198:libscpi/src/utils.c ****             uval = -val;
 199:libscpi/src/utils.c ****             ADD_CHAR('-');
 200:libscpi/src/utils.c ****         }
 201:libscpi/src/utils.c **** 
ARM GAS  /tmp/ccT7RLP5.s 			page 5


 202:libscpi/src/utils.c ****         /* remove leading zeros */
 203:libscpi/src/utils.c ****         while ((uval / x) == 0) {
 204:libscpi/src/utils.c ****             x /= base;
 205:libscpi/src/utils.c ****         }
 206:libscpi/src/utils.c **** 
 207:libscpi/src/utils.c ****         do {
 208:libscpi/src/utils.c ****             digit = (uint8_t) (uval / x);
 209:libscpi/src/utils.c ****             ADD_CHAR(digits[digit]);
 210:libscpi/src/utils.c ****             uval -= digit * x;
 211:libscpi/src/utils.c ****             x /= base;
 212:libscpi/src/utils.c ****         } while (x && (pos < len));
 213:libscpi/src/utils.c ****     }
 214:libscpi/src/utils.c **** 
 215:libscpi/src/utils.c ****     if (pos < len) str[pos] = 0;
 216:libscpi/src/utils.c ****     return pos;
 217:libscpi/src/utils.c **** #undef ADD_CHAR
 218:libscpi/src/utils.c **** }
 219:libscpi/src/utils.c **** 
 220:libscpi/src/utils.c **** /**
 221:libscpi/src/utils.c ****  * Converts signed 64 bit integer value to string
 222:libscpi/src/utils.c ****  * @param val   integer value
 223:libscpi/src/utils.c ****  * @param str   converted textual representation
 224:libscpi/src/utils.c ****  * @param len   string buffer length
 225:libscpi/src/utils.c ****  * @return number of bytes written to str (without '\0')
 226:libscpi/src/utils.c ****  */
 227:libscpi/src/utils.c **** size_t SCPI_Int64ToStr(int64_t val, char * str, size_t len) {
 228:libscpi/src/utils.c ****     return UInt64ToStrBaseSign((uint64_t) val, str, len, 10, TRUE);
 229:libscpi/src/utils.c **** }
 230:libscpi/src/utils.c **** 
 231:libscpi/src/utils.c **** /**
 232:libscpi/src/utils.c ****  * Converts signed/unsigned 64 bit integer value to string in specific base
 233:libscpi/src/utils.c ****  * @param val   integer value
 234:libscpi/src/utils.c ****  * @param str   converted textual representation
 235:libscpi/src/utils.c ****  * @param len   string buffer length
 236:libscpi/src/utils.c ****  * @param base  output base
 237:libscpi/src/utils.c ****  * @return number of bytes written to str (without '\0')
 238:libscpi/src/utils.c ****  */
 239:libscpi/src/utils.c **** size_t SCPI_UInt64ToStrBase(uint64_t val, char * str, size_t len, int8_t base) {
 240:libscpi/src/utils.c ****     return UInt64ToStrBaseSign(val, str, len, base, FALSE);
 241:libscpi/src/utils.c **** }
 242:libscpi/src/utils.c **** 
 243:libscpi/src/utils.c **** /**
 244:libscpi/src/utils.c ****  * Converts float (32 bit) value to string
 245:libscpi/src/utils.c ****  * @param val   long value
 246:libscpi/src/utils.c ****  * @param str   converted textual representation
 247:libscpi/src/utils.c ****  * @param len   string buffer length
 248:libscpi/src/utils.c ****  * @return number of bytes written to str (without '\0')
 249:libscpi/src/utils.c ****  */
 250:libscpi/src/utils.c **** size_t SCPI_FloatToStr(float val, char * str, size_t len) {
 251:libscpi/src/utils.c ****     SCPIDEFINE_floatToStr(val, str, len);
 252:libscpi/src/utils.c ****     return strlen(str);
 253:libscpi/src/utils.c **** }
 254:libscpi/src/utils.c **** 
 255:libscpi/src/utils.c **** /**
 256:libscpi/src/utils.c ****  * Converts double (64 bit) value to string
 257:libscpi/src/utils.c ****  * @param val   double value
 258:libscpi/src/utils.c ****  * @param str   converted textual representation
ARM GAS  /tmp/ccT7RLP5.s 			page 6


 259:libscpi/src/utils.c ****  * @param len   string buffer length
 260:libscpi/src/utils.c ****  * @return number of bytes written to str (without '\0')
 261:libscpi/src/utils.c ****  */
 262:libscpi/src/utils.c **** size_t SCPI_DoubleToStr(double val, char * str, size_t len) {
 263:libscpi/src/utils.c ****     SCPIDEFINE_doubleToStr(val, str, len);
 264:libscpi/src/utils.c ****     return strlen(str);
 265:libscpi/src/utils.c **** }
 266:libscpi/src/utils.c **** 
 267:libscpi/src/utils.c **** /**
 268:libscpi/src/utils.c ****  * Converts string to signed 32bit integer representation
 269:libscpi/src/utils.c ****  * @param str   string value
 270:libscpi/src/utils.c ****  * @param val   32bit integer result
 271:libscpi/src/utils.c ****  * @return      number of bytes used in string
 272:libscpi/src/utils.c ****  */
 273:libscpi/src/utils.c **** size_t strBaseToInt32(const char * str, int32_t * val, int8_t base) {
 274:libscpi/src/utils.c ****     char * endptr;
 275:libscpi/src/utils.c ****     *val = strtol(str, &endptr, base);
 276:libscpi/src/utils.c ****     return endptr - str;
 277:libscpi/src/utils.c **** }
 278:libscpi/src/utils.c **** 
 279:libscpi/src/utils.c **** /**
 280:libscpi/src/utils.c ****  * Converts string to unsigned 32bit integer representation
 281:libscpi/src/utils.c ****  * @param str   string value
 282:libscpi/src/utils.c ****  * @param val   32bit integer result
 283:libscpi/src/utils.c ****  * @return      number of bytes used in string
 284:libscpi/src/utils.c ****  */
 285:libscpi/src/utils.c **** size_t strBaseToUInt32(const char * str, uint32_t * val, int8_t base) {
 286:libscpi/src/utils.c ****     char * endptr;
 287:libscpi/src/utils.c ****     *val = strtoul(str, &endptr, base);
 288:libscpi/src/utils.c ****     return endptr - str;
 289:libscpi/src/utils.c **** }
 290:libscpi/src/utils.c **** 
 291:libscpi/src/utils.c **** /**
 292:libscpi/src/utils.c ****  * Converts string to signed 64bit integer representation
 293:libscpi/src/utils.c ****  * @param str   string value
 294:libscpi/src/utils.c ****  * @param val   64bit integer result
 295:libscpi/src/utils.c ****  * @return      number of bytes used in string
 296:libscpi/src/utils.c ****  */
 297:libscpi/src/utils.c **** size_t strBaseToInt64(const char * str, int64_t * val, int8_t base) {
 298:libscpi/src/utils.c ****     char * endptr;
 299:libscpi/src/utils.c ****     *val = SCPIDEFINE_strtoll(str, &endptr, base);
 300:libscpi/src/utils.c ****     return endptr - str;
 301:libscpi/src/utils.c **** }
 302:libscpi/src/utils.c **** 
 303:libscpi/src/utils.c **** /**
 304:libscpi/src/utils.c ****  * Converts string to unsigned 64bit integer representation
 305:libscpi/src/utils.c ****  * @param str   string value
 306:libscpi/src/utils.c ****  * @param val   64bit integer result
 307:libscpi/src/utils.c ****  * @return      number of bytes used in string
 308:libscpi/src/utils.c ****  */
 309:libscpi/src/utils.c **** size_t strBaseToUInt64(const char * str, uint64_t * val, int8_t base) {
 310:libscpi/src/utils.c ****     char * endptr;
 311:libscpi/src/utils.c ****     *val = SCPIDEFINE_strtoull(str, &endptr, base);
 312:libscpi/src/utils.c ****     return endptr - str;
 313:libscpi/src/utils.c **** }
 314:libscpi/src/utils.c **** 
 315:libscpi/src/utils.c **** /**
ARM GAS  /tmp/ccT7RLP5.s 			page 7


 316:libscpi/src/utils.c ****  * Converts string to float (32 bit) representation
 317:libscpi/src/utils.c ****  * @param str   string value
 318:libscpi/src/utils.c ****  * @param val   float result
 319:libscpi/src/utils.c ****  * @return      number of bytes used in string
 320:libscpi/src/utils.c ****  */
 321:libscpi/src/utils.c **** size_t strToFloat(const char * str, float * val) {
 322:libscpi/src/utils.c ****     char * endptr;
 323:libscpi/src/utils.c ****     *val = SCPIDEFINE_strtof(str, &endptr);
 324:libscpi/src/utils.c ****     return endptr - str;
 325:libscpi/src/utils.c **** }
 326:libscpi/src/utils.c **** 
 327:libscpi/src/utils.c **** /**
 328:libscpi/src/utils.c ****  * Converts string to double (64 bit) representation
 329:libscpi/src/utils.c ****  * @param str   string value
 330:libscpi/src/utils.c ****  * @param val   double result
 331:libscpi/src/utils.c ****  * @return      number of bytes used in string
 332:libscpi/src/utils.c ****  */
 333:libscpi/src/utils.c **** size_t strToDouble(const char * str, double * val) {
 334:libscpi/src/utils.c ****     char * endptr;
 335:libscpi/src/utils.c ****     *val = strtod(str, &endptr);
 336:libscpi/src/utils.c ****     return endptr - str;
 337:libscpi/src/utils.c **** }
 338:libscpi/src/utils.c **** 
 339:libscpi/src/utils.c **** /**
 340:libscpi/src/utils.c ****  * Compare two strings with exact length
 341:libscpi/src/utils.c ****  * @param str1
 342:libscpi/src/utils.c ****  * @param len1
 343:libscpi/src/utils.c ****  * @param str2
 344:libscpi/src/utils.c ****  * @param len2
 345:libscpi/src/utils.c ****  * @return TRUE if len1==len2 and "len" characters of both strings are equal
 346:libscpi/src/utils.c ****  */
 347:libscpi/src/utils.c **** scpi_bool_t compareStr(const char * str1, size_t len1, const char * str2, size_t len2) {
 348:libscpi/src/utils.c ****     if (len1 != len2) {
 349:libscpi/src/utils.c ****         return FALSE;
 350:libscpi/src/utils.c ****     }
 351:libscpi/src/utils.c **** 
 352:libscpi/src/utils.c ****     if (SCPIDEFINE_strncasecmp(str1, str2, len2) == 0) {
 353:libscpi/src/utils.c ****         return TRUE;
 354:libscpi/src/utils.c ****     }
 355:libscpi/src/utils.c **** 
 356:libscpi/src/utils.c ****     return FALSE;
 357:libscpi/src/utils.c **** }
 358:libscpi/src/utils.c **** 
 359:libscpi/src/utils.c **** /**
 360:libscpi/src/utils.c ****  * Compare two strings, one be longer but may contains only numbers in that section
 361:libscpi/src/utils.c ****  * @param str1
 362:libscpi/src/utils.c ****  * @param len1
 363:libscpi/src/utils.c ****  * @param str2
 364:libscpi/src/utils.c ****  * @param len2
 365:libscpi/src/utils.c ****  * @return TRUE if strings match
 366:libscpi/src/utils.c ****  */
 367:libscpi/src/utils.c **** scpi_bool_t compareStrAndNum(const char * str1, size_t len1, const char * str2, size_t len2, int32_
 368:libscpi/src/utils.c ****     scpi_bool_t result = FALSE;
 369:libscpi/src/utils.c ****     size_t i;
 370:libscpi/src/utils.c **** 
 371:libscpi/src/utils.c ****     if (len2 < len1) {
 372:libscpi/src/utils.c ****         return FALSE;
ARM GAS  /tmp/ccT7RLP5.s 			page 8


 373:libscpi/src/utils.c ****     }
 374:libscpi/src/utils.c **** 
 375:libscpi/src/utils.c ****     if (SCPIDEFINE_strncasecmp(str1, str2, len1) == 0) {
 376:libscpi/src/utils.c ****         result = TRUE;
 377:libscpi/src/utils.c **** 
 378:libscpi/src/utils.c ****         if (num) {
 379:libscpi/src/utils.c ****             if (len1 == len2) {
 380:libscpi/src/utils.c ****                 /* *num = 1; */
 381:libscpi/src/utils.c ****             } else {
 382:libscpi/src/utils.c ****                 int32_t tmpNum;
 383:libscpi/src/utils.c ****                 i = len1 + strBaseToInt32(str2 + len1, &tmpNum, 10);
 384:libscpi/src/utils.c ****                 if (i != len2) {
 385:libscpi/src/utils.c ****                     result = FALSE;
 386:libscpi/src/utils.c ****                 } else {
 387:libscpi/src/utils.c ****                     *num = tmpNum;
 388:libscpi/src/utils.c ****                 }
 389:libscpi/src/utils.c ****             }
 390:libscpi/src/utils.c ****         } else {
 391:libscpi/src/utils.c ****             for (i = len1; i < len2; i++) {
 392:libscpi/src/utils.c ****                 if (!isdigit((int) str2[i])) {
 393:libscpi/src/utils.c ****                     result = FALSE;
 394:libscpi/src/utils.c ****                     break;
 395:libscpi/src/utils.c ****                 }
 396:libscpi/src/utils.c ****             }
 397:libscpi/src/utils.c ****         }
 398:libscpi/src/utils.c ****     }
 399:libscpi/src/utils.c **** 
 400:libscpi/src/utils.c ****     return result;
 401:libscpi/src/utils.c **** }
 402:libscpi/src/utils.c **** 
 403:libscpi/src/utils.c **** /**
 404:libscpi/src/utils.c ****  * Count white spaces from the beggining
 405:libscpi/src/utils.c ****  * @param cmd - command
 406:libscpi/src/utils.c ****  * @param len - max search length
 407:libscpi/src/utils.c ****  * @return number of white spaces
 408:libscpi/src/utils.c ****  */
 409:libscpi/src/utils.c **** size_t skipWhitespace(const char * cmd, size_t len) {
 410:libscpi/src/utils.c ****     size_t i;
 411:libscpi/src/utils.c ****     for (i = 0; i < len; i++) {
 412:libscpi/src/utils.c ****         if (!isspace((unsigned char) cmd[i])) {
 413:libscpi/src/utils.c ****             return i;
 414:libscpi/src/utils.c ****         }
 415:libscpi/src/utils.c ****     }
 416:libscpi/src/utils.c ****     return len;
 417:libscpi/src/utils.c **** }
 418:libscpi/src/utils.c **** 
 419:libscpi/src/utils.c **** /**
 420:libscpi/src/utils.c ****  * Pattern is composed from upper case an lower case letters. This function
 421:libscpi/src/utils.c ****  * search the first lowercase letter
 422:libscpi/src/utils.c ****  * @param pattern
 423:libscpi/src/utils.c ****  * @param len - max search length
 424:libscpi/src/utils.c ****  * @return position of separator or len
 425:libscpi/src/utils.c ****  */
 426:libscpi/src/utils.c **** static size_t patternSeparatorShortPos(const char * pattern, size_t len) {
  29              		.loc 1 426 74 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 0
ARM GAS  /tmp/ccT7RLP5.s 			page 9


  32              		@ frame_needed = 0, uses_anonymous_args = 0
 427:libscpi/src/utils.c ****     size_t i;
  33              		.loc 1 427 5 view .LVU1
 428:libscpi/src/utils.c ****     for (i = 0; (i < len) && pattern[i]; i++) {
  34              		.loc 1 428 5 view .LVU2
 426:libscpi/src/utils.c ****     size_t i;
  35              		.loc 1 426 74 is_stmt 0 view .LVU3
  36 0000 10B5     		push	{r4, lr}
  37              	.LCFI0:
  38              		.cfi_def_cfa_offset 8
  39              		.cfi_offset 4, -8
  40              		.cfi_offset 14, -4
 429:libscpi/src/utils.c ****         if (islower((unsigned char) pattern[i])) {
  41              		.loc 1 429 13 view .LVU4
  42 0002 074C     		ldr	r4, .L8
 426:libscpi/src/utils.c ****     size_t i;
  43              		.loc 1 426 74 view .LVU5
  44 0004 0346     		mov	r3, r0
 428:libscpi/src/utils.c ****     for (i = 0; (i < len) && pattern[i]; i++) {
  45              		.loc 1 428 12 view .LVU6
  46 0006 0020     		movs	r0, #0
  47              	.LVL1:
  48              	.L2:
 428:libscpi/src/utils.c ****     for (i = 0; (i < len) && pattern[i]; i++) {
  49              		.loc 1 428 17 is_stmt 1 discriminator 1 view .LVU7
 428:libscpi/src/utils.c ****     for (i = 0; (i < len) && pattern[i]; i++) {
  50              		.loc 1 428 5 is_stmt 0 discriminator 1 view .LVU8
  51 0008 8842     		cmp	r0, r1
  52 000a 01D0     		beq	.L1
 428:libscpi/src/utils.c ****     for (i = 0; (i < len) && pattern[i]; i++) {
  53              		.loc 1 428 37 discriminator 3 view .LVU9
  54 000c 1A5C     		ldrb	r2, [r3, r0]	@ zero_extendqisi2
 428:libscpi/src/utils.c ****     for (i = 0; (i < len) && pattern[i]; i++) {
  55              		.loc 1 428 27 discriminator 3 view .LVU10
  56 000e 02B9     		cbnz	r2, .L5
  57              	.L1:
 430:libscpi/src/utils.c ****             return i;
 431:libscpi/src/utils.c ****         }
 432:libscpi/src/utils.c ****     }
 433:libscpi/src/utils.c ****     return i;
 434:libscpi/src/utils.c **** }
  58              		.loc 1 434 1 view .LVU11
  59 0010 10BD     		pop	{r4, pc}
  60              	.L5:
 429:libscpi/src/utils.c ****         if (islower((unsigned char) pattern[i])) {
  61              		.loc 1 429 9 is_stmt 1 view .LVU12
 429:libscpi/src/utils.c ****         if (islower((unsigned char) pattern[i])) {
  62              		.loc 1 429 12 is_stmt 0 view .LVU13
  63 0012 125D     		ldrb	r2, [r2, r4]	@ zero_extendqisi2
  64 0014 02F00302 		and	r2, r2, #3
  65 0018 022A     		cmp	r2, #2
  66 001a F9D0     		beq	.L1
 428:libscpi/src/utils.c ****         if (islower((unsigned char) pattern[i])) {
  67              		.loc 1 428 42 is_stmt 1 discriminator 2 view .LVU14
 428:libscpi/src/utils.c ****         if (islower((unsigned char) pattern[i])) {
  68              		.loc 1 428 43 is_stmt 0 discriminator 2 view .LVU15
  69 001c 0130     		adds	r0, r0, #1
ARM GAS  /tmp/ccT7RLP5.s 			page 10


  70              	.LVL2:
 428:libscpi/src/utils.c ****         if (islower((unsigned char) pattern[i])) {
  71              		.loc 1 428 43 discriminator 2 view .LVU16
  72 001e F3E7     		b	.L2
  73              	.L9:
  74              		.align	2
  75              	.L8:
  76 0020 01000000 		.word	_ctype_+1
  77              		.cfi_endproc
  78              	.LFE21:
  80              		.section	.text.strnpbrk,"ax",%progbits
  81              		.align	1
  82              		.global	strnpbrk
  83              		.hidden	strnpbrk
  84              		.syntax unified
  85              		.thumb
  86              		.thumb_func
  87              		.fpu fpv4-sp-d16
  89              	strnpbrk:
  90              	.LVL3:
  91              	.LFB3:
  58:libscpi/src/utils.c ****     const char *scanp;
  92              		.loc 1 58 64 is_stmt 1 view -0
  93              		.cfi_startproc
  94              		@ args = 0, pretend = 0, frame = 0
  95              		@ frame_needed = 0, uses_anonymous_args = 0
  59:libscpi/src/utils.c ****     long c, sc;
  96              		.loc 1 59 5 view .LVU18
  60:libscpi/src/utils.c ****     const char * strend = str + size;
  97              		.loc 1 60 5 view .LVU19
  61:libscpi/src/utils.c **** 
  98              		.loc 1 61 5 view .LVU20
  58:libscpi/src/utils.c ****     const char *scanp;
  99              		.loc 1 58 64 is_stmt 0 view .LVU21
 100 0000 70B5     		push	{r4, r5, r6, lr}
 101              	.LCFI1:
 102              		.cfi_def_cfa_offset 16
 103              		.cfi_offset 4, -16
 104              		.cfi_offset 5, -12
 105              		.cfi_offset 6, -8
 106              		.cfi_offset 14, -4
  61:libscpi/src/utils.c **** 
 107              		.loc 1 61 18 view .LVU22
 108 0002 0144     		add	r1, r1, r0
 109              	.LVL4:
  63:libscpi/src/utils.c ****         for (scanp = set; (sc = *scanp++) != '\0';)
 110              		.loc 1 63 5 is_stmt 1 view .LVU23
 111              	.L11:
  63:libscpi/src/utils.c ****         for (scanp = set; (sc = *scanp++) != '\0';)
 112              		.loc 1 63 11 view .LVU24
 113 0004 8842     		cmp	r0, r1
 114 0006 03D0     		beq	.L15
  63:libscpi/src/utils.c ****         for (scanp = set; (sc = *scanp++) != '\0';)
 115              		.loc 1 63 41 is_stmt 0 discriminator 1 view .LVU25
 116 0008 0446     		mov	r4, r0
 117              	.LVL5:
  63:libscpi/src/utils.c ****         for (scanp = set; (sc = *scanp++) != '\0';)
ARM GAS  /tmp/ccT7RLP5.s 			page 11


 118              		.loc 1 63 35 discriminator 1 view .LVU26
 119 000a 14F8013B 		ldrb	r3, [r4], #1	@ zero_extendqisi2
 120              	.LVL6:
  63:libscpi/src/utils.c ****         for (scanp = set; (sc = *scanp++) != '\0';)
 121              		.loc 1 63 28 discriminator 1 view .LVU27
 122 000e 23B9     		cbnz	r3, .L16
 123              	.LVL7:
 124              	.L15:
  68:libscpi/src/utils.c **** }
 125              		.loc 1 68 12 view .LVU28
 126 0010 0020     		movs	r0, #0
 127 0012 01E0     		b	.L10
 128              	.LVL8:
 129              	.L13:
  65:libscpi/src/utils.c ****                 return ((char *) (str - 1));
 130              		.loc 1 65 13 is_stmt 1 view .LVU29
  65:libscpi/src/utils.c ****                 return ((char *) (str - 1));
 131              		.loc 1 65 16 is_stmt 0 view .LVU30
 132 0014 AB42     		cmp	r3, r5
 133 0016 01D1     		bne	.L14
 134              	.LVL9:
 135              	.L10:
  69:libscpi/src/utils.c **** 
 136              		.loc 1 69 1 view .LVU31
 137 0018 70BD     		pop	{r4, r5, r6, pc}
 138              	.LVL10:
 139              	.L16:
  64:libscpi/src/utils.c ****             if (sc == c)
 140              		.loc 1 64 20 view .LVU32
 141 001a 1646     		mov	r6, r2
 142              	.L14:
 143              	.LVL11:
  64:libscpi/src/utils.c ****             if (sc == c)
 144              		.loc 1 64 27 is_stmt 1 discriminator 1 view .LVU33
  64:libscpi/src/utils.c ****             if (sc == c)
 145              		.loc 1 64 31 is_stmt 0 discriminator 1 view .LVU34
 146 001c 16F8015B 		ldrb	r5, [r6], #1	@ zero_extendqisi2
 147              	.LVL12:
  64:libscpi/src/utils.c ****             if (sc == c)
 148              		.loc 1 64 9 discriminator 1 view .LVU35
 149 0020 002D     		cmp	r5, #0
 150 0022 F7D1     		bne	.L13
 151 0024 2046     		mov	r0, r4
 152 0026 EDE7     		b	.L11
 153              		.cfi_endproc
 154              	.LFE3:
 156              		.section	.rodata.UInt32ToStrBaseSign.str1.1,"aMS",%progbits,1
 157              	.LC0:
 158 0000 30313233 		.ascii	"0123456789ABCDEF\000"
 158      34353637 
 158      38394142 
 158      43444546 
 158      00
 159              		.section	.text.UInt32ToStrBaseSign,"ax",%progbits
 160              		.align	1
 161              		.global	UInt32ToStrBaseSign
 162              		.hidden	UInt32ToStrBaseSign
ARM GAS  /tmp/ccT7RLP5.s 			page 12


 163              		.syntax unified
 164              		.thumb
 165              		.thumb_func
 166              		.fpu fpv4-sp-d16
 168              	UInt32ToStrBaseSign:
 169              	.LVL13:
 170              	.LFB4:
  80:libscpi/src/utils.c ****     const char digits[] = "0123456789ABCDEF";
 171              		.loc 1 80 97 is_stmt 1 view -0
 172              		.cfi_startproc
 173              		@ args = 4, pretend = 0, frame = 24
 174              		@ frame_needed = 0, uses_anonymous_args = 0
  81:libscpi/src/utils.c **** 
 175              		.loc 1 81 5 view .LVU37
  80:libscpi/src/utils.c ****     const char digits[] = "0123456789ABCDEF";
 176              		.loc 1 80 97 is_stmt 0 view .LVU38
 177 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 178              	.LCFI2:
 179              		.cfi_def_cfa_offset 24
 180              		.cfi_offset 4, -24
 181              		.cfi_offset 5, -20
 182              		.cfi_offset 6, -16
 183              		.cfi_offset 7, -12
 184              		.cfi_offset 8, -8
 185              		.cfi_offset 14, -4
 186 0004 86B0     		sub	sp, sp, #24
 187              	.LCFI3:
 188              		.cfi_def_cfa_offset 48
  81:libscpi/src/utils.c **** 
 189              		.loc 1 81 16 view .LVU39
 190 0006 304D     		ldr	r5, .L39
  80:libscpi/src/utils.c ****     const char digits[] = "0123456789ABCDEF";
 191              		.loc 1 80 97 view .LVU40
 192 0008 9DF83040 		ldrb	r4, [sp, #48]	@ zero_extendqisi2
 193 000c 0646     		mov	r6, r0
 194 000e 0F46     		mov	r7, r1
  81:libscpi/src/utils.c **** 
 195              		.loc 1 81 16 view .LVU41
 196 0010 0DF1040C 		add	ip, sp, #4
 197 0014 05F11008 		add	r8, r5, #16
 198              	.LVL14:
 199              	.L18:
  81:libscpi/src/utils.c **** 
 200              		.loc 1 81 16 view .LVU42
 201 0018 2868     		ldr	r0, [r5]	@ unaligned
 202 001a 6968     		ldr	r1, [r5, #4]	@ unaligned
 203 001c E646     		mov	lr, ip
 204 001e AEE80300 		stmia	lr!, {r0, r1}
 205 0022 0835     		adds	r5, r5, #8
 206 0024 4545     		cmp	r5, r8
 207 0026 F446     		mov	ip, lr
 208 0028 F6D1     		bne	.L18
 209 002a 2978     		ldrb	r1, [r5]	@ zero_extendqisi2
 210 002c 8EF80010 		strb	r1, [lr]
  84:libscpi/src/utils.c ****     int_fast8_t digit;
 211              		.loc 1 84 5 is_stmt 1 view .LVU43
 212              	.LVL15:
ARM GAS  /tmp/ccT7RLP5.s 			page 13


  85:libscpi/src/utils.c ****     size_t pos = 0;
 213              		.loc 1 85 5 view .LVU44
  86:libscpi/src/utils.c ****     uint32_t uval = val;
 214              		.loc 1 86 5 view .LVU45
  87:libscpi/src/utils.c **** 
 215              		.loc 1 87 5 view .LVU46
  89:libscpi/src/utils.c ****         ADD_CHAR('0');
 216              		.loc 1 89 5 view .LVU47
  89:libscpi/src/utils.c ****         ADD_CHAR('0');
 217              		.loc 1 89 8 is_stmt 0 view .LVU48
 218 0030 4EB9     		cbnz	r6, .L19
  90:libscpi/src/utils.c ****     } else {
 219              		.loc 1 90 9 is_stmt 1 view .LVU49
 220 0032 002A     		cmp	r2, #0
 221 0034 46D0     		beq	.L28
  90:libscpi/src/utils.c ****     } else {
 222              		.loc 1 90 9 discriminator 1 view .LVU50
 223              	.LVL16:
  90:libscpi/src/utils.c ****     } else {
 224              		.loc 1 90 9 is_stmt 0 discriminator 1 view .LVU51
 225 0036 3023     		movs	r3, #48
 226              	.LVL17:
  90:libscpi/src/utils.c ****     } else {
 227              		.loc 1 90 9 discriminator 1 view .LVU52
 228 0038 3B70     		strb	r3, [r7]
 229 003a 0120     		movs	r0, #1
 230              	.LVL18:
 231              	.L21:
 129:libscpi/src/utils.c ****     return pos;
 232              		.loc 1 129 5 is_stmt 1 view .LVU53
 129:libscpi/src/utils.c ****     return pos;
 233              		.loc 1 129 8 is_stmt 0 view .LVU54
 234 003c 9042     		cmp	r0, r2
 235 003e 2DD2     		bcs	.L17
 129:libscpi/src/utils.c ****     return pos;
 236              		.loc 1 129 20 is_stmt 1 discriminator 1 view .LVU55
 129:libscpi/src/utils.c ****     return pos;
 237              		.loc 1 129 29 is_stmt 0 discriminator 1 view .LVU56
 238 0040 0023     		movs	r3, #0
 239 0042 3B54     		strb	r3, [r7, r0]
 240 0044 2AE0     		b	.L17
 241              	.LVL19:
 242              	.L19:
  93:libscpi/src/utils.c ****             case 2:
 243              		.loc 1 93 9 is_stmt 1 view .LVU57
 244 0046 082B     		cmp	r3, #8
 245 0048 2BD0     		beq	.L29
 246 004a 102B     		cmp	r3, #16
 247 004c 2CD0     		beq	.L30
 248 004e 022B     		cmp	r3, #2
 249 0050 2DD1     		bne	.L31
 250 0052 4FF00045 		mov	r5, #-2147483648
 251              	.LVL20:
 252              	.L22:
 111:libscpi/src/utils.c ****             uval = -val;
 253              		.loc 1 111 9 view .LVU58
 111:libscpi/src/utils.c ****             uval = -val;
ARM GAS  /tmp/ccT7RLP5.s 			page 14


 254              		.loc 1 111 12 is_stmt 0 view .LVU59
 255 0056 6CB3     		cbz	r4, .L33
 111:libscpi/src/utils.c ****             uval = -val;
 256              		.loc 1 111 18 discriminator 1 view .LVU60
 257 0058 002E     		cmp	r6, #0
 258 005a 2BDA     		bge	.L33
 111:libscpi/src/utils.c ****             uval = -val;
 259              		.loc 1 111 41 discriminator 2 view .LVU61
 260 005c 0A2B     		cmp	r3, #10
 261 005e 2DD1     		bne	.L34
 112:libscpi/src/utils.c ****             ADD_CHAR('-');
 262              		.loc 1 112 13 is_stmt 1 view .LVU62
 112:libscpi/src/utils.c ****             ADD_CHAR('-');
 263              		.loc 1 112 18 is_stmt 0 view .LVU63
 264 0060 7642     		rsbs	r6, r6, #0
 265              	.LVL21:
 113:libscpi/src/utils.c ****         }
 266              		.loc 1 113 13 is_stmt 1 view .LVU64
 267 0062 4AB3     		cbz	r2, .L35
 113:libscpi/src/utils.c ****         }
 268              		.loc 1 113 13 discriminator 1 view .LVU65
 269              	.LVL22:
 113:libscpi/src/utils.c ****         }
 270              		.loc 1 113 13 is_stmt 0 discriminator 1 view .LVU66
 271 0064 2D21     		movs	r1, #45
 272 0066 3970     		strb	r1, [r7]
 273 0068 0120     		movs	r0, #1
 274              	.LVL23:
 275              	.L23:
  86:libscpi/src/utils.c ****     uint32_t uval = val;
 276              		.loc 1 86 12 view .LVU67
 277 006a 2946     		mov	r1, r5
 278              	.L25:
 279              	.LVL24:
 117:libscpi/src/utils.c ****             x /= base;
 280              		.loc 1 117 15 is_stmt 1 view .LVU68
 281 006c 0D46     		mov	r5, r1
 282 006e B542     		cmp	r5, r6
 283 0070 B1FBF3F1 		udiv	r1, r1, r3
 284              	.LVL25:
 117:libscpi/src/utils.c ****             x /= base;
 285              		.loc 1 117 15 is_stmt 0 view .LVU69
 286 0074 FAD8     		bhi	.L25
 287              	.LVL26:
 288              	.L27:
 121:libscpi/src/utils.c ****             digit = (uint8_t) (uval / x);
 289              		.loc 1 121 9 is_stmt 1 view .LVU70
 122:libscpi/src/utils.c ****             ADD_CHAR(digits[digit]);
 290              		.loc 1 122 13 view .LVU71
 123:libscpi/src/utils.c ****             uval -= digit * x;
 291              		.loc 1 123 13 is_stmt 0 view .LVU72
 292 0076 9042     		cmp	r0, r2
 122:libscpi/src/utils.c ****             ADD_CHAR(digits[digit]);
 293              		.loc 1 122 37 view .LVU73
 294 0078 B6FBF5F1 		udiv	r1, r6, r5
 295 007c C9B2     		uxtb	r1, r1
 296              	.LVL27:
ARM GAS  /tmp/ccT7RLP5.s 			page 15


 123:libscpi/src/utils.c ****             uval -= digit * x;
 297              		.loc 1 123 13 is_stmt 1 view .LVU74
 298 007e 05D2     		bcs	.L26
 123:libscpi/src/utils.c ****             uval -= digit * x;
 299              		.loc 1 123 13 discriminator 1 view .LVU75
 300              	.LVL28:
 123:libscpi/src/utils.c ****             uval -= digit * x;
 301              		.loc 1 123 13 is_stmt 0 discriminator 1 view .LVU76
 302 0080 06AC     		add	r4, sp, #24
 303 0082 0C44     		add	r4, r4, r1
 304 0084 14F8144C 		ldrb	r4, [r4, #-20]	@ zero_extendqisi2
 305 0088 3C54     		strb	r4, [r7, r0]
 306 008a 0130     		adds	r0, r0, #1
 307              	.LVL29:
 308              	.L26:
 124:libscpi/src/utils.c ****             x /= base;
 309              		.loc 1 124 13 is_stmt 1 view .LVU77
 126:libscpi/src/utils.c ****     }
 310              		.loc 1 126 9 is_stmt 0 view .LVU78
 311 008c AB42     		cmp	r3, r5
 124:libscpi/src/utils.c ****             x /= base;
 312              		.loc 1 124 18 view .LVU79
 313 008e 01FB1566 		mls	r6, r1, r5, r6
 314              	.LVL30:
 125:libscpi/src/utils.c ****         } while (x && (pos < len));
 315              		.loc 1 125 13 is_stmt 1 view .LVU80
 125:libscpi/src/utils.c ****         } while (x && (pos < len));
 316              		.loc 1 125 15 is_stmt 0 view .LVU81
 317 0092 B5FBF3F1 		udiv	r1, r5, r3
 318              	.LVL31:
 126:libscpi/src/utils.c ****     }
 319              		.loc 1 126 17 is_stmt 1 view .LVU82
 126:libscpi/src/utils.c ****     }
 320              		.loc 1 126 9 is_stmt 0 view .LVU83
 321 0096 D1D8     		bhi	.L21
 126:libscpi/src/utils.c ****     }
 322              		.loc 1 126 20 discriminator 1 view .LVU84
 323 0098 9042     		cmp	r0, r2
 324 009a 11D3     		bcc	.L36
 325              	.LVL32:
 326              	.L17:
 132:libscpi/src/utils.c **** 
 327              		.loc 1 132 1 view .LVU85
 328 009c 06B0     		add	sp, sp, #24
 329              	.LCFI4:
 330              		.cfi_remember_state
 331              		.cfi_def_cfa_offset 24
 332              		@ sp needed
 333 009e BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 334              	.LVL33:
 335              	.L29:
 336              	.LCFI5:
 337              		.cfi_restore_state
  98:libscpi/src/utils.c ****                 break;
 338              		.loc 1 98 19 view .LVU86
 339 00a2 4FF08045 		mov	r5, #1073741824
 340 00a6 D6E7     		b	.L22
ARM GAS  /tmp/ccT7RLP5.s 			page 16


 341              	.L30:
 106:libscpi/src/utils.c ****                 break;
 342              		.loc 1 106 19 view .LVU87
 343 00a8 4FF08055 		mov	r5, #268435456
 344 00ac D3E7     		b	.L22
 345              	.L31:
 103:libscpi/src/utils.c ****                 break;
 346              		.loc 1 103 19 view .LVU88
 347 00ae 074D     		ldr	r5, .L39+4
 102:libscpi/src/utils.c ****                 x = 1000000000L;
 348              		.loc 1 102 22 view .LVU89
 349 00b0 0A23     		movs	r3, #10
 350              	.LVL34:
 102:libscpi/src/utils.c ****                 x = 1000000000L;
 351              		.loc 1 102 22 view .LVU90
 352 00b2 D0E7     		b	.L22
 353              	.LVL35:
 354              	.L33:
  86:libscpi/src/utils.c ****     uint32_t uval = val;
 355              		.loc 1 86 12 view .LVU91
 356 00b4 0020     		movs	r0, #0
 357 00b6 D8E7     		b	.L23
 358              	.LVL36:
 359              	.L35:
  86:libscpi/src/utils.c ****     uint32_t uval = val;
 360              		.loc 1 86 12 view .LVU92
 361 00b8 1046     		mov	r0, r2
 362 00ba D6E7     		b	.L23
 363              	.LVL37:
 364              	.L34:
  86:libscpi/src/utils.c ****     uint32_t uval = val;
 365              		.loc 1 86 12 view .LVU93
 366 00bc 0020     		movs	r0, #0
 367              	.LVL38:
  86:libscpi/src/utils.c ****     uint32_t uval = val;
 368              		.loc 1 86 12 view .LVU94
 369 00be DAE7     		b	.L27
 370              	.LVL39:
 371              	.L36:
 125:libscpi/src/utils.c ****         } while (x && (pos < len));
 372              		.loc 1 125 15 view .LVU95
 373 00c0 0D46     		mov	r5, r1
 374 00c2 D8E7     		b	.L27
 375              	.LVL40:
 376              	.L28:
  86:libscpi/src/utils.c ****     uint32_t uval = val;
 377              		.loc 1 86 12 view .LVU96
 378 00c4 1046     		mov	r0, r2
 379              	.LVL41:
 130:libscpi/src/utils.c **** #undef ADD_CHAR
 380              		.loc 1 130 5 is_stmt 1 view .LVU97
 130:libscpi/src/utils.c **** #undef ADD_CHAR
 381              		.loc 1 130 12 is_stmt 0 view .LVU98
 382 00c6 E9E7     		b	.L17
 383              	.L40:
 384              		.align	2
 385              	.L39:
ARM GAS  /tmp/ccT7RLP5.s 			page 17


 386 00c8 00000000 		.word	.LC0
 387 00cc 00CA9A3B 		.word	1000000000
 388              		.cfi_endproc
 389              	.LFE4:
 391              		.section	.text.SCPI_Int32ToStr,"ax",%progbits
 392              		.align	1
 393              		.global	SCPI_Int32ToStr
 394              		.syntax unified
 395              		.thumb
 396              		.thumb_func
 397              		.fpu fpv4-sp-d16
 399              	SCPI_Int32ToStr:
 400              	.LVL42:
 401              	.LFB5:
 141:libscpi/src/utils.c ****     return UInt32ToStrBaseSign((uint32_t) val, str, len, 10, TRUE);
 402              		.loc 1 141 61 is_stmt 1 view -0
 403              		.cfi_startproc
 404              		@ args = 0, pretend = 0, frame = 0
 405              		@ frame_needed = 0, uses_anonymous_args = 0
 142:libscpi/src/utils.c **** }
 406              		.loc 1 142 5 view .LVU100
 141:libscpi/src/utils.c ****     return UInt32ToStrBaseSign((uint32_t) val, str, len, 10, TRUE);
 407              		.loc 1 141 61 is_stmt 0 view .LVU101
 408 0000 07B5     		push	{r0, r1, r2, lr}
 409              	.LCFI6:
 410              		.cfi_def_cfa_offset 16
 411              		.cfi_offset 14, -4
 142:libscpi/src/utils.c **** }
 412              		.loc 1 142 12 view .LVU102
 413 0002 0123     		movs	r3, #1
 414 0004 0093     		str	r3, [sp]
 415 0006 0A23     		movs	r3, #10
 416 0008 FFF7FEFF 		bl	UInt32ToStrBaseSign
 417              	.LVL43:
 143:libscpi/src/utils.c **** 
 418              		.loc 1 143 1 view .LVU103
 419 000c 03B0     		add	sp, sp, #12
 420              	.LCFI7:
 421              		.cfi_def_cfa_offset 4
 422              		@ sp needed
 423 000e 5DF804FB 		ldr	pc, [sp], #4
 424              		.cfi_endproc
 425              	.LFE5:
 427              		.section	.text.SCPI_UInt32ToStrBase,"ax",%progbits
 428              		.align	1
 429              		.global	SCPI_UInt32ToStrBase
 430              		.syntax unified
 431              		.thumb
 432              		.thumb_func
 433              		.fpu fpv4-sp-d16
 435              	SCPI_UInt32ToStrBase:
 436              	.LVL44:
 437              	.LFB6:
 153:libscpi/src/utils.c ****     return UInt32ToStrBaseSign(val, str, len, base, FALSE);
 438              		.loc 1 153 80 is_stmt 1 view -0
 439              		.cfi_startproc
 440              		@ args = 0, pretend = 0, frame = 0
ARM GAS  /tmp/ccT7RLP5.s 			page 18


 441              		@ frame_needed = 0, uses_anonymous_args = 0
 154:libscpi/src/utils.c **** }
 442              		.loc 1 154 5 view .LVU105
 153:libscpi/src/utils.c ****     return UInt32ToStrBaseSign(val, str, len, base, FALSE);
 443              		.loc 1 153 80 is_stmt 0 view .LVU106
 444 0000 13B5     		push	{r0, r1, r4, lr}
 445              	.LCFI8:
 446              		.cfi_def_cfa_offset 16
 447              		.cfi_offset 4, -8
 448              		.cfi_offset 14, -4
 154:libscpi/src/utils.c **** }
 449              		.loc 1 154 12 view .LVU107
 450 0002 0024     		movs	r4, #0
 451 0004 0094     		str	r4, [sp]
 452 0006 FFF7FEFF 		bl	UInt32ToStrBaseSign
 453              	.LVL45:
 155:libscpi/src/utils.c **** 
 454              		.loc 1 155 1 view .LVU108
 455 000a 02B0     		add	sp, sp, #8
 456              	.LCFI9:
 457              		.cfi_def_cfa_offset 8
 458              		@ sp needed
 459 000c 10BD     		pop	{r4, pc}
 460              		.cfi_endproc
 461              	.LFE6:
 463              		.global	__aeabi_uldivmod
 464              		.section	.text.UInt64ToStrBaseSign,"ax",%progbits
 465              		.align	1
 466              		.global	UInt64ToStrBaseSign
 467              		.hidden	UInt64ToStrBaseSign
 468              		.syntax unified
 469              		.thumb
 470              		.thumb_func
 471              		.fpu fpv4-sp-d16
 473              	UInt64ToStrBaseSign:
 474              	.LVL46:
 475              	.LFB7:
 166:libscpi/src/utils.c ****     const char digits[] = "0123456789ABCDEF";
 476              		.loc 1 166 97 is_stmt 1 view -0
 477              		.cfi_startproc
 478              		@ args = 8, pretend = 0, frame = 32
 479              		@ frame_needed = 0, uses_anonymous_args = 0
 167:libscpi/src/utils.c **** 
 480              		.loc 1 167 5 view .LVU110
 166:libscpi/src/utils.c ****     const char digits[] = "0123456789ABCDEF";
 481              		.loc 1 166 97 is_stmt 0 view .LVU111
 482 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 483              	.LCFI10:
 484              		.cfi_def_cfa_offset 36
 485              		.cfi_offset 4, -36
 486              		.cfi_offset 5, -32
 487              		.cfi_offset 6, -28
 488              		.cfi_offset 7, -24
 489              		.cfi_offset 8, -20
 490              		.cfi_offset 9, -16
 491              		.cfi_offset 10, -12
 492              		.cfi_offset 11, -8
ARM GAS  /tmp/ccT7RLP5.s 			page 19


 493              		.cfi_offset 14, -4
 494 0004 89B0     		sub	sp, sp, #36
 495              	.LCFI11:
 496              		.cfi_def_cfa_offset 72
 166:libscpi/src/utils.c ****     const char digits[] = "0123456789ABCDEF";
 497              		.loc 1 166 97 view .LVU112
 498 0006 1D46     		mov	r5, r3
 167:libscpi/src/utils.c **** 
 499              		.loc 1 167 16 view .LVU113
 500 0008 434B     		ldr	r3, .L64
 501              	.LVL47:
 166:libscpi/src/utils.c ****     const char digits[] = "0123456789ABCDEF";
 502              		.loc 1 166 97 view .LVU114
 503 000a 0192     		str	r2, [sp, #4]
 504 000c 9DF84C40 		ldrb	r4, [sp, #76]	@ zero_extendqisi2
 505 0010 9DF94820 		ldrsb	r2, [sp, #72]
 506              	.LVL48:
 166:libscpi/src/utils.c ****     const char digits[] = "0123456789ABCDEF";
 507              		.loc 1 166 97 view .LVU115
 508 0014 0646     		mov	r6, r0
 509 0016 0F46     		mov	r7, r1
 167:libscpi/src/utils.c **** 
 510              		.loc 1 167 16 view .LVU116
 511 0018 0DF10C0C 		add	ip, sp, #12
 512 001c 03F11008 		add	r8, r3, #16
 513              	.LVL49:
 514              	.L44:
 167:libscpi/src/utils.c **** 
 515              		.loc 1 167 16 view .LVU117
 516 0020 1868     		ldr	r0, [r3]	@ unaligned
 517 0022 5968     		ldr	r1, [r3, #4]	@ unaligned
 518 0024 E646     		mov	lr, ip
 519 0026 AEE80300 		stmia	lr!, {r0, r1}
 520 002a 0833     		adds	r3, r3, #8
 521 002c 4345     		cmp	r3, r8
 522 002e F446     		mov	ip, lr
 523 0030 F6D1     		bne	.L44
 524 0032 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 525 0034 8EF80030 		strb	r3, [lr]
 170:libscpi/src/utils.c ****     int_fast8_t digit;
 526              		.loc 1 170 5 is_stmt 1 view .LVU118
 527              	.LVL50:
 171:libscpi/src/utils.c ****     size_t pos = 0;
 528              		.loc 1 171 5 view .LVU119
 172:libscpi/src/utils.c ****     uint64_t uval = val;
 529              		.loc 1 172 5 view .LVU120
 173:libscpi/src/utils.c **** 
 530              		.loc 1 173 5 view .LVU121
 175:libscpi/src/utils.c ****         ADD_CHAR('0');
 531              		.loc 1 175 5 view .LVU122
 175:libscpi/src/utils.c ****         ADD_CHAR('0');
 532              		.loc 1 175 8 is_stmt 0 view .LVU123
 533 0038 56EA0703 		orrs	r3, r6, r7
 534 003c 0BD1     		bne	.L45
 176:libscpi/src/utils.c ****     } else {
 535              		.loc 1 176 9 is_stmt 1 view .LVU124
 536 003e 002D     		cmp	r5, #0
ARM GAS  /tmp/ccT7RLP5.s 			page 20


 537 0040 68D0     		beq	.L53
 176:libscpi/src/utils.c ****     } else {
 538              		.loc 1 176 9 discriminator 1 view .LVU125
 539              	.LVL51:
 176:libscpi/src/utils.c ****     } else {
 540              		.loc 1 176 9 is_stmt 0 discriminator 1 view .LVU126
 541 0042 019A     		ldr	r2, [sp, #4]
 542 0044 3023     		movs	r3, #48
 543 0046 1370     		strb	r3, [r2]
 544 0048 0124     		movs	r4, #1
 545              	.LVL52:
 546              	.L47:
 215:libscpi/src/utils.c ****     return pos;
 547              		.loc 1 215 5 is_stmt 1 view .LVU127
 215:libscpi/src/utils.c ****     return pos;
 548              		.loc 1 215 8 is_stmt 0 view .LVU128
 549 004a AC42     		cmp	r4, r5
 550 004c 4FD2     		bcs	.L43
 215:libscpi/src/utils.c ****     return pos;
 551              		.loc 1 215 20 is_stmt 1 discriminator 1 view .LVU129
 215:libscpi/src/utils.c ****     return pos;
 552              		.loc 1 215 29 is_stmt 0 discriminator 1 view .LVU130
 553 004e 019A     		ldr	r2, [sp, #4]
 554 0050 0023     		movs	r3, #0
 555 0052 1355     		strb	r3, [r2, r4]
 556 0054 4BE0     		b	.L43
 557              	.LVL53:
 558              	.L45:
 179:libscpi/src/utils.c ****             case 2:
 559              		.loc 1 179 9 is_stmt 1 view .LVU131
 560 0056 082A     		cmp	r2, #8
 561 0058 03D0     		beq	.L54
 562 005a 102A     		cmp	r2, #16
 563 005c 4BD0     		beq	.L55
 564 005e 022A     		cmp	r2, #2
 565 0060 4DD1     		bne	.L56
 566              	.L54:
 567 0062 0020     		movs	r0, #0
 568 0064 4FF00041 		mov	r1, #-2147483648
 569              	.L48:
 570              	.LVL54:
 197:libscpi/src/utils.c ****             uval = -val;
 571              		.loc 1 197 9 view .LVU132
 197:libscpi/src/utils.c ****             uval = -val;
 572              		.loc 1 197 12 is_stmt 0 view .LVU133
 573 0068 74B1     		cbz	r4, .L49
 197:libscpi/src/utils.c ****             uval = -val;
 574              		.loc 1 197 18 discriminator 1 view .LVU134
 575 006a 002E     		cmp	r6, #0
 576 006c 77F10003 		sbcs	r3, r7, #0
 577 0070 49DA     		bge	.L59
 197:libscpi/src/utils.c ****             uval = -val;
 578              		.loc 1 197 41 discriminator 2 view .LVU135
 579 0072 0A2A     		cmp	r2, #10
 580 0074 47D1     		bne	.L59
 198:libscpi/src/utils.c ****             ADD_CHAR('-');
 581              		.loc 1 198 13 is_stmt 1 view .LVU136
ARM GAS  /tmp/ccT7RLP5.s 			page 21


 198:libscpi/src/utils.c ****             ADD_CHAR('-');
 582              		.loc 1 198 18 is_stmt 0 view .LVU137
 583 0076 7642     		rsbs	r6, r6, #0
 584              	.LVL55:
 198:libscpi/src/utils.c ****             ADD_CHAR('-');
 585              		.loc 1 198 18 view .LVU138
 586 0078 67EB4707 		sbc	r7, r7, r7, lsl #1
 587              	.LVL56:
 199:libscpi/src/utils.c ****         }
 588              		.loc 1 199 13 is_stmt 1 view .LVU139
 589 007c 002D     		cmp	r5, #0
 590 007e 44D0     		beq	.L60
 199:libscpi/src/utils.c ****         }
 591              		.loc 1 199 13 discriminator 1 view .LVU140
 592              	.LVL57:
 199:libscpi/src/utils.c ****         }
 593              		.loc 1 199 13 is_stmt 0 discriminator 1 view .LVU141
 594 0080 019C     		ldr	r4, [sp, #4]
 595 0082 2D23     		movs	r3, #45
 596 0084 2370     		strb	r3, [r4]
 597 0086 0124     		movs	r4, #1
 598              	.LVL58:
 599              	.L49:
 199:libscpi/src/utils.c ****         }
 600              		.loc 1 199 13 discriminator 1 view .LVU142
 601 0088 4FFA82FA 		sxtb	r10, r2
 602 008c 4FEAEA7B 		asr	fp, r10, #31
 603              	.LVL59:
 604              	.L50:
 203:libscpi/src/utils.c ****             x /= base;
 605              		.loc 1 203 15 is_stmt 1 view .LVU143
 606 0090 8946     		mov	r9, r1
 607 0092 5246     		mov	r2, r10
 608 0094 5B46     		mov	r3, fp
 609 0096 8046     		mov	r8, r0
 610 0098 FFF7FEFF 		bl	__aeabi_uldivmod
 611              	.LVL60:
 203:libscpi/src/utils.c ****             x /= base;
 612              		.loc 1 203 15 is_stmt 0 view .LVU144
 613 009c 4F45     		cmp	r7, r9
 614 009e 08BF     		it	eq
 615 00a0 4645     		cmpeq	r6, r8
 616 00a2 F5D3     		bcc	.L50
 617              	.LVL61:
 618              	.L52:
 207:libscpi/src/utils.c ****             digit = (uint8_t) (uval / x);
 619              		.loc 1 207 9 is_stmt 1 view .LVU145
 208:libscpi/src/utils.c ****             ADD_CHAR(digits[digit]);
 620              		.loc 1 208 13 view .LVU146
 208:libscpi/src/utils.c ****             ADD_CHAR(digits[digit]);
 621              		.loc 1 208 37 is_stmt 0 view .LVU147
 622 00a4 4246     		mov	r2, r8
 623 00a6 4B46     		mov	r3, r9
 624 00a8 3046     		mov	r0, r6
 625 00aa 3946     		mov	r1, r7
 626 00ac FFF7FEFF 		bl	__aeabi_uldivmod
 627              	.LVL62:
ARM GAS  /tmp/ccT7RLP5.s 			page 22


 209:libscpi/src/utils.c ****             uval -= digit * x;
 628              		.loc 1 209 13 is_stmt 1 view .LVU148
 629 00b0 AC42     		cmp	r4, r5
 630 00b2 07D2     		bcs	.L51
 209:libscpi/src/utils.c ****             uval -= digit * x;
 631              		.loc 1 209 13 discriminator 1 view .LVU149
 632              	.LVL63:
 209:libscpi/src/utils.c ****             uval -= digit * x;
 633              		.loc 1 209 13 is_stmt 0 discriminator 1 view .LVU150
 634 00b4 08AB     		add	r3, sp, #32
 635 00b6 53FA80F3 		uxtab	r3, r3, r0
 636 00ba 019A     		ldr	r2, [sp, #4]
 637 00bc 13F8143C 		ldrb	r3, [r3, #-20]	@ zero_extendqisi2
 638 00c0 1355     		strb	r3, [r2, r4]
 639 00c2 0134     		adds	r4, r4, #1
 640              	.LVL64:
 641              	.L51:
 210:libscpi/src/utils.c ****             x /= base;
 642              		.loc 1 210 13 is_stmt 1 view .LVU151
 210:libscpi/src/utils.c ****             x /= base;
 643              		.loc 1 210 27 is_stmt 0 view .LVU152
 644 00c4 00F0FF00 		and	r0, r0, #255
 645              	.LVL65:
 210:libscpi/src/utils.c ****             x /= base;
 646              		.loc 1 210 27 view .LVU153
 647 00c8 A0FB0823 		umull	r2, r3, r0, r8
 210:libscpi/src/utils.c ****             x /= base;
 648              		.loc 1 210 18 view .LVU154
 649 00cc B61A     		subs	r6, r6, r2
 650              	.LVL66:
 210:libscpi/src/utils.c ****             x /= base;
 651              		.loc 1 210 27 view .LVU155
 652 00ce 00FB0933 		mla	r3, r0, r9, r3
 210:libscpi/src/utils.c ****             x /= base;
 653              		.loc 1 210 18 view .LVU156
 654 00d2 67EB0307 		sbc	r7, r7, r3
 655              	.LVL67:
 211:libscpi/src/utils.c ****         } while (x && (pos < len));
 656              		.loc 1 211 13 is_stmt 1 view .LVU157
 211:libscpi/src/utils.c ****         } while (x && (pos < len));
 657              		.loc 1 211 15 is_stmt 0 view .LVU158
 658 00d6 5246     		mov	r2, r10
 659 00d8 5B46     		mov	r3, fp
 660 00da 4046     		mov	r0, r8
 661 00dc 4946     		mov	r1, r9
 662 00de FFF7FEFF 		bl	__aeabi_uldivmod
 663              	.LVL68:
 212:libscpi/src/utils.c ****     }
 664              		.loc 1 212 17 is_stmt 1 view .LVU159
 212:libscpi/src/utils.c ****     }
 665              		.loc 1 212 9 is_stmt 0 view .LVU160
 666 00e2 D945     		cmp	r9, fp
 667 00e4 08BF     		it	eq
 668 00e6 D045     		cmpeq	r8, r10
 669 00e8 AFD3     		bcc	.L47
 212:libscpi/src/utils.c ****     }
 670              		.loc 1 212 20 discriminator 1 view .LVU161
ARM GAS  /tmp/ccT7RLP5.s 			page 23


 671 00ea AC42     		cmp	r4, r5
 672 00ec 0FD3     		bcc	.L61
 673              	.LVL69:
 674              	.L43:
 218:libscpi/src/utils.c **** 
 675              		.loc 1 218 1 view .LVU162
 676 00ee 2046     		mov	r0, r4
 677 00f0 09B0     		add	sp, sp, #36
 678              	.LCFI12:
 679              		.cfi_remember_state
 680              		.cfi_def_cfa_offset 36
 681              		@ sp needed
 682 00f2 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 683              	.LVL70:
 684              	.L55:
 685              	.LCFI13:
 686              		.cfi_restore_state
 192:libscpi/src/utils.c ****                 break;
 687              		.loc 1 192 19 view .LVU163
 688 00f6 0020     		movs	r0, #0
 689 00f8 4FF08051 		mov	r1, #268435456
 690 00fc B4E7     		b	.L48
 691              	.L56:
 188:libscpi/src/utils.c ****                 base = 10;
 692              		.loc 1 188 19 view .LVU164
 693 00fe 0748     		ldr	r0, .L64+4
 694 0100 0749     		ldr	r1, .L64+8
 189:libscpi/src/utils.c ****                 break;
 695              		.loc 1 189 22 view .LVU165
 696 0102 0A22     		movs	r2, #10
 697 0104 B0E7     		b	.L48
 698              	.LVL71:
 699              	.L59:
 172:libscpi/src/utils.c ****     uint64_t uval = val;
 700              		.loc 1 172 12 view .LVU166
 701 0106 0024     		movs	r4, #0
 702 0108 BEE7     		b	.L49
 703              	.L60:
 172:libscpi/src/utils.c ****     uint64_t uval = val;
 704              		.loc 1 172 12 view .LVU167
 705 010a 2C46     		mov	r4, r5
 706 010c BCE7     		b	.L49
 707              	.LVL72:
 708              	.L61:
 211:libscpi/src/utils.c ****         } while (x && (pos < len));
 709              		.loc 1 211 15 view .LVU168
 710 010e 8046     		mov	r8, r0
 711 0110 8946     		mov	r9, r1
 712 0112 C7E7     		b	.L52
 713              	.LVL73:
 714              	.L53:
 172:libscpi/src/utils.c ****     uint64_t uval = val;
 715              		.loc 1 172 12 view .LVU169
 716 0114 2C46     		mov	r4, r5
 717              	.LVL74:
 216:libscpi/src/utils.c **** #undef ADD_CHAR
 718              		.loc 1 216 5 is_stmt 1 view .LVU170
ARM GAS  /tmp/ccT7RLP5.s 			page 24


 216:libscpi/src/utils.c **** #undef ADD_CHAR
 719              		.loc 1 216 12 is_stmt 0 view .LVU171
 720 0116 EAE7     		b	.L43
 721              	.L65:
 722              		.align	2
 723              	.L64:
 724 0118 00000000 		.word	.LC0
 725 011c 0000E889 		.word	-1981284352
 726 0120 0423C78A 		.word	-1966660860
 727              		.cfi_endproc
 728              	.LFE7:
 730              		.section	.text.SCPI_Int64ToStr,"ax",%progbits
 731              		.align	1
 732              		.global	SCPI_Int64ToStr
 733              		.syntax unified
 734              		.thumb
 735              		.thumb_func
 736              		.fpu fpv4-sp-d16
 738              	SCPI_Int64ToStr:
 739              	.LVL75:
 740              	.LFB8:
 227:libscpi/src/utils.c ****     return UInt64ToStrBaseSign((uint64_t) val, str, len, 10, TRUE);
 741              		.loc 1 227 61 is_stmt 1 view -0
 742              		.cfi_startproc
 743              		@ args = 0, pretend = 0, frame = 0
 744              		@ frame_needed = 0, uses_anonymous_args = 0
 228:libscpi/src/utils.c **** }
 745              		.loc 1 228 5 view .LVU173
 227:libscpi/src/utils.c ****     return UInt64ToStrBaseSign((uint64_t) val, str, len, 10, TRUE);
 746              		.loc 1 227 61 is_stmt 0 view .LVU174
 747 0000 13B5     		push	{r0, r1, r4, lr}
 748              	.LCFI14:
 749              		.cfi_def_cfa_offset 16
 750              		.cfi_offset 4, -8
 751              		.cfi_offset 14, -4
 228:libscpi/src/utils.c **** }
 752              		.loc 1 228 12 view .LVU175
 753 0002 4FF0010C 		mov	ip, #1
 754 0006 0A24     		movs	r4, #10
 755 0008 CDE9004C 		strd	r4, ip, [sp]
 756 000c FFF7FEFF 		bl	UInt64ToStrBaseSign
 757              	.LVL76:
 229:libscpi/src/utils.c **** 
 758              		.loc 1 229 1 view .LVU176
 759 0010 02B0     		add	sp, sp, #8
 760              	.LCFI15:
 761              		.cfi_def_cfa_offset 8
 762              		@ sp needed
 763 0012 10BD     		pop	{r4, pc}
 764              		.cfi_endproc
 765              	.LFE8:
 767              		.section	.text.SCPI_UInt64ToStrBase,"ax",%progbits
 768              		.align	1
 769              		.global	SCPI_UInt64ToStrBase
 770              		.syntax unified
 771              		.thumb
 772              		.thumb_func
ARM GAS  /tmp/ccT7RLP5.s 			page 25


 773              		.fpu fpv4-sp-d16
 775              	SCPI_UInt64ToStrBase:
 776              	.LVL77:
 777              	.LFB9:
 239:libscpi/src/utils.c ****     return UInt64ToStrBaseSign(val, str, len, base, FALSE);
 778              		.loc 1 239 80 is_stmt 1 view -0
 779              		.cfi_startproc
 780              		@ args = 4, pretend = 0, frame = 0
 781              		@ frame_needed = 0, uses_anonymous_args = 0
 240:libscpi/src/utils.c **** }
 782              		.loc 1 240 5 view .LVU178
 239:libscpi/src/utils.c ****     return UInt64ToStrBaseSign(val, str, len, base, FALSE);
 783              		.loc 1 239 80 is_stmt 0 view .LVU179
 784 0000 13B5     		push	{r0, r1, r4, lr}
 785              	.LCFI16:
 786              		.cfi_def_cfa_offset 16
 787              		.cfi_offset 4, -8
 788              		.cfi_offset 14, -4
 240:libscpi/src/utils.c **** }
 789              		.loc 1 240 12 view .LVU180
 790 0002 0024     		movs	r4, #0
 791 0004 0194     		str	r4, [sp, #4]
 792 0006 9DF91040 		ldrsb	r4, [sp, #16]
 793 000a 0094     		str	r4, [sp]
 794 000c FFF7FEFF 		bl	UInt64ToStrBaseSign
 795              	.LVL78:
 241:libscpi/src/utils.c **** 
 796              		.loc 1 241 1 view .LVU181
 797 0010 02B0     		add	sp, sp, #8
 798              	.LCFI17:
 799              		.cfi_def_cfa_offset 8
 800              		@ sp needed
 801 0012 10BD     		pop	{r4, pc}
 241:libscpi/src/utils.c **** 
 802              		.loc 1 241 1 view .LVU182
 803              		.cfi_endproc
 804              	.LFE9:
 806              		.section	.rodata.SCPI_FloatToStr.str1.1,"aMS",%progbits,1
 807              	.LC1:
 808 0000 256700   		.ascii	"%g\000"
 809              		.global	__aeabi_f2d
 810              		.section	.text.SCPI_FloatToStr,"ax",%progbits
 811              		.align	1
 812              		.global	SCPI_FloatToStr
 813              		.syntax unified
 814              		.thumb
 815              		.thumb_func
 816              		.fpu fpv4-sp-d16
 818              	SCPI_FloatToStr:
 819              	.LVL79:
 820              	.LFB10:
 250:libscpi/src/utils.c ****     SCPIDEFINE_floatToStr(val, str, len);
 821              		.loc 1 250 59 is_stmt 1 view -0
 822              		.cfi_startproc
 823              		@ args = 0, pretend = 0, frame = 0
 824              		@ frame_needed = 0, uses_anonymous_args = 0
 251:libscpi/src/utils.c ****     return strlen(str);
ARM GAS  /tmp/ccT7RLP5.s 			page 26


 825              		.loc 1 251 5 view .LVU184
 250:libscpi/src/utils.c ****     SCPIDEFINE_floatToStr(val, str, len);
 826              		.loc 1 250 59 is_stmt 0 view .LVU185
 827 0000 37B5     		push	{r0, r1, r2, r4, r5, lr}
 828              	.LCFI18:
 829              		.cfi_def_cfa_offset 24
 830              		.cfi_offset 4, -12
 831              		.cfi_offset 5, -8
 832              		.cfi_offset 14, -4
 250:libscpi/src/utils.c ****     SCPIDEFINE_floatToStr(val, str, len);
 833              		.loc 1 250 59 view .LVU186
 834 0002 0446     		mov	r4, r0
 251:libscpi/src/utils.c ****     return strlen(str);
 835              		.loc 1 251 5 view .LVU187
 836 0004 10EE100A 		vmov	r0, s0
 837              	.LVL80:
 250:libscpi/src/utils.c ****     SCPIDEFINE_floatToStr(val, str, len);
 838              		.loc 1 250 59 view .LVU188
 839 0008 0D46     		mov	r5, r1
 251:libscpi/src/utils.c ****     return strlen(str);
 840              		.loc 1 251 5 view .LVU189
 841 000a FFF7FEFF 		bl	__aeabi_f2d
 842              	.LVL81:
 251:libscpi/src/utils.c ****     return strlen(str);
 843              		.loc 1 251 5 view .LVU190
 844 000e 064A     		ldr	r2, .L69
 845 0010 CDE90001 		strd	r0, [sp]
 846 0014 2946     		mov	r1, r5
 847 0016 2046     		mov	r0, r4
 848 0018 FFF7FEFF 		bl	snprintf
 849              	.LVL82:
 252:libscpi/src/utils.c **** }
 850              		.loc 1 252 5 is_stmt 1 view .LVU191
 252:libscpi/src/utils.c **** }
 851              		.loc 1 252 12 is_stmt 0 view .LVU192
 852 001c 2046     		mov	r0, r4
 253:libscpi/src/utils.c **** 
 853              		.loc 1 253 1 view .LVU193
 854 001e 03B0     		add	sp, sp, #12
 855              	.LCFI19:
 856              		.cfi_def_cfa_offset 12
 857              		@ sp needed
 858 0020 BDE83040 		pop	{r4, r5, lr}
 859              	.LCFI20:
 860              		.cfi_restore 14
 861              		.cfi_restore 5
 862              		.cfi_restore 4
 863              		.cfi_def_cfa_offset 0
 864              	.LVL83:
 252:libscpi/src/utils.c **** }
 865              		.loc 1 252 12 view .LVU194
 866 0024 FFF7FEBF 		b	strlen
 867              	.LVL84:
 868              	.L70:
 252:libscpi/src/utils.c **** }
 869              		.loc 1 252 12 view .LVU195
 870              		.align	2
ARM GAS  /tmp/ccT7RLP5.s 			page 27


 871              	.L69:
 872 0028 00000000 		.word	.LC1
 873              		.cfi_endproc
 874              	.LFE10:
 876              		.section	.rodata.SCPI_DoubleToStr.str1.1,"aMS",%progbits,1
 877              	.LC2:
 878 0000 252E3135 		.ascii	"%.15lg\000"
 878      6C6700
 879              		.section	.text.SCPI_DoubleToStr,"ax",%progbits
 880              		.align	1
 881              		.global	SCPI_DoubleToStr
 882              		.syntax unified
 883              		.thumb
 884              		.thumb_func
 885              		.fpu fpv4-sp-d16
 887              	SCPI_DoubleToStr:
 888              	.LVL85:
 889              	.LFB11:
 262:libscpi/src/utils.c ****     SCPIDEFINE_doubleToStr(val, str, len);
 890              		.loc 1 262 61 is_stmt 1 view -0
 891              		.cfi_startproc
 892              		@ args = 0, pretend = 0, frame = 0
 893              		@ frame_needed = 0, uses_anonymous_args = 0
 263:libscpi/src/utils.c ****     return strlen(str);
 894              		.loc 1 263 5 view .LVU197
 262:libscpi/src/utils.c ****     SCPIDEFINE_doubleToStr(val, str, len);
 895              		.loc 1 262 61 is_stmt 0 view .LVU198
 896 0000 13B5     		push	{r0, r1, r4, lr}
 897              	.LCFI21:
 898              		.cfi_def_cfa_offset 16
 899              		.cfi_offset 4, -8
 900              		.cfi_offset 14, -4
 263:libscpi/src/utils.c ****     return strlen(str);
 901              		.loc 1 263 5 view .LVU199
 902 0002 064A     		ldr	r2, .L72
 903 0004 8DED000B 		vstr.64	d0, [sp]
 262:libscpi/src/utils.c ****     SCPIDEFINE_doubleToStr(val, str, len);
 904              		.loc 1 262 61 view .LVU200
 905 0008 0446     		mov	r4, r0
 263:libscpi/src/utils.c ****     return strlen(str);
 906              		.loc 1 263 5 view .LVU201
 907 000a FFF7FEFF 		bl	snprintf
 908              	.LVL86:
 264:libscpi/src/utils.c **** }
 909              		.loc 1 264 5 is_stmt 1 view .LVU202
 264:libscpi/src/utils.c **** }
 910              		.loc 1 264 12 is_stmt 0 view .LVU203
 911 000e 2046     		mov	r0, r4
 265:libscpi/src/utils.c **** 
 912              		.loc 1 265 1 view .LVU204
 913 0010 02B0     		add	sp, sp, #8
 914              	.LCFI22:
 915              		.cfi_def_cfa_offset 8
 916              		@ sp needed
 917 0012 BDE81040 		pop	{r4, lr}
 918              	.LCFI23:
 919              		.cfi_restore 14
ARM GAS  /tmp/ccT7RLP5.s 			page 28


 920              		.cfi_restore 4
 921              		.cfi_def_cfa_offset 0
 922              	.LVL87:
 264:libscpi/src/utils.c **** }
 923              		.loc 1 264 12 view .LVU205
 924 0016 FFF7FEBF 		b	strlen
 925              	.LVL88:
 926              	.L73:
 264:libscpi/src/utils.c **** }
 927              		.loc 1 264 12 view .LVU206
 928 001a 00BF     		.align	2
 929              	.L72:
 930 001c 00000000 		.word	.LC2
 931              		.cfi_endproc
 932              	.LFE11:
 934              		.section	.text.strBaseToInt32,"ax",%progbits
 935              		.align	1
 936              		.global	strBaseToInt32
 937              		.hidden	strBaseToInt32
 938              		.syntax unified
 939              		.thumb
 940              		.thumb_func
 941              		.fpu fpv4-sp-d16
 943              	strBaseToInt32:
 944              	.LVL89:
 945              	.LFB12:
 273:libscpi/src/utils.c ****     char * endptr;
 946              		.loc 1 273 69 is_stmt 1 view -0
 947              		.cfi_startproc
 948              		@ args = 0, pretend = 0, frame = 8
 949              		@ frame_needed = 0, uses_anonymous_args = 0
 274:libscpi/src/utils.c ****     *val = strtol(str, &endptr, base);
 950              		.loc 1 274 5 view .LVU208
 275:libscpi/src/utils.c ****     return endptr - str;
 951              		.loc 1 275 5 view .LVU209
 273:libscpi/src/utils.c ****     char * endptr;
 952              		.loc 1 273 69 is_stmt 0 view .LVU210
 953 0000 37B5     		push	{r0, r1, r2, r4, r5, lr}
 954              	.LCFI24:
 955              		.cfi_def_cfa_offset 24
 956              		.cfi_offset 4, -12
 957              		.cfi_offset 5, -8
 958              		.cfi_offset 14, -4
 273:libscpi/src/utils.c ****     char * endptr;
 959              		.loc 1 273 69 view .LVU211
 960 0002 0D46     		mov	r5, r1
 275:libscpi/src/utils.c ****     return endptr - str;
 961              		.loc 1 275 12 view .LVU212
 962 0004 01A9     		add	r1, sp, #4
 963              	.LVL90:
 273:libscpi/src/utils.c ****     char * endptr;
 964              		.loc 1 273 69 view .LVU213
 965 0006 0446     		mov	r4, r0
 275:libscpi/src/utils.c ****     return endptr - str;
 966              		.loc 1 275 12 view .LVU214
 967 0008 FFF7FEFF 		bl	strtol
 968              	.LVL91:
ARM GAS  /tmp/ccT7RLP5.s 			page 29


 275:libscpi/src/utils.c ****     return endptr - str;
 969              		.loc 1 275 10 view .LVU215
 970 000c 2860     		str	r0, [r5]
 276:libscpi/src/utils.c **** }
 971              		.loc 1 276 5 is_stmt 1 view .LVU216
 277:libscpi/src/utils.c **** 
 972              		.loc 1 277 1 is_stmt 0 view .LVU217
 973 000e 0198     		ldr	r0, [sp, #4]
 974 0010 001B     		subs	r0, r0, r4
 975 0012 03B0     		add	sp, sp, #12
 976              	.LCFI25:
 977              		.cfi_def_cfa_offset 12
 978              		@ sp needed
 979 0014 30BD     		pop	{r4, r5, pc}
 277:libscpi/src/utils.c **** 
 980              		.loc 1 277 1 view .LVU218
 981              		.cfi_endproc
 982              	.LFE12:
 984              		.section	.text.strBaseToUInt32,"ax",%progbits
 985              		.align	1
 986              		.global	strBaseToUInt32
 987              		.hidden	strBaseToUInt32
 988              		.syntax unified
 989              		.thumb
 990              		.thumb_func
 991              		.fpu fpv4-sp-d16
 993              	strBaseToUInt32:
 994              	.LVL92:
 995              	.LFB13:
 285:libscpi/src/utils.c ****     char * endptr;
 996              		.loc 1 285 71 is_stmt 1 view -0
 997              		.cfi_startproc
 998              		@ args = 0, pretend = 0, frame = 8
 999              		@ frame_needed = 0, uses_anonymous_args = 0
 286:libscpi/src/utils.c ****     *val = strtoul(str, &endptr, base);
 1000              		.loc 1 286 5 view .LVU220
 287:libscpi/src/utils.c ****     return endptr - str;
 1001              		.loc 1 287 5 view .LVU221
 285:libscpi/src/utils.c ****     char * endptr;
 1002              		.loc 1 285 71 is_stmt 0 view .LVU222
 1003 0000 37B5     		push	{r0, r1, r2, r4, r5, lr}
 1004              	.LCFI26:
 1005              		.cfi_def_cfa_offset 24
 1006              		.cfi_offset 4, -12
 1007              		.cfi_offset 5, -8
 1008              		.cfi_offset 14, -4
 285:libscpi/src/utils.c ****     char * endptr;
 1009              		.loc 1 285 71 view .LVU223
 1010 0002 0D46     		mov	r5, r1
 287:libscpi/src/utils.c ****     return endptr - str;
 1011              		.loc 1 287 12 view .LVU224
 1012 0004 01A9     		add	r1, sp, #4
 1013              	.LVL93:
 285:libscpi/src/utils.c ****     char * endptr;
 1014              		.loc 1 285 71 view .LVU225
 1015 0006 0446     		mov	r4, r0
 287:libscpi/src/utils.c ****     return endptr - str;
ARM GAS  /tmp/ccT7RLP5.s 			page 30


 1016              		.loc 1 287 12 view .LVU226
 1017 0008 FFF7FEFF 		bl	strtoul
 1018              	.LVL94:
 287:libscpi/src/utils.c ****     return endptr - str;
 1019              		.loc 1 287 10 view .LVU227
 1020 000c 2860     		str	r0, [r5]
 288:libscpi/src/utils.c **** }
 1021              		.loc 1 288 5 is_stmt 1 view .LVU228
 289:libscpi/src/utils.c **** 
 1022              		.loc 1 289 1 is_stmt 0 view .LVU229
 1023 000e 0198     		ldr	r0, [sp, #4]
 1024 0010 001B     		subs	r0, r0, r4
 1025 0012 03B0     		add	sp, sp, #12
 1026              	.LCFI27:
 1027              		.cfi_def_cfa_offset 12
 1028              		@ sp needed
 1029 0014 30BD     		pop	{r4, r5, pc}
 289:libscpi/src/utils.c **** 
 1030              		.loc 1 289 1 view .LVU230
 1031              		.cfi_endproc
 1032              	.LFE13:
 1034              		.section	.text.strBaseToInt64,"ax",%progbits
 1035              		.align	1
 1036              		.global	strBaseToInt64
 1037              		.hidden	strBaseToInt64
 1038              		.syntax unified
 1039              		.thumb
 1040              		.thumb_func
 1041              		.fpu fpv4-sp-d16
 1043              	strBaseToInt64:
 1044              	.LVL95:
 1045              	.LFB14:
 297:libscpi/src/utils.c ****     char * endptr;
 1046              		.loc 1 297 69 is_stmt 1 view -0
 1047              		.cfi_startproc
 1048              		@ args = 0, pretend = 0, frame = 8
 1049              		@ frame_needed = 0, uses_anonymous_args = 0
 298:libscpi/src/utils.c ****     *val = SCPIDEFINE_strtoll(str, &endptr, base);
 1050              		.loc 1 298 5 view .LVU232
 299:libscpi/src/utils.c ****     return endptr - str;
 1051              		.loc 1 299 5 view .LVU233
 297:libscpi/src/utils.c ****     char * endptr;
 1052              		.loc 1 297 69 is_stmt 0 view .LVU234
 1053 0000 37B5     		push	{r0, r1, r2, r4, r5, lr}
 1054              	.LCFI28:
 1055              		.cfi_def_cfa_offset 24
 1056              		.cfi_offset 4, -12
 1057              		.cfi_offset 5, -8
 1058              		.cfi_offset 14, -4
 297:libscpi/src/utils.c ****     char * endptr;
 1059              		.loc 1 297 69 view .LVU235
 1060 0002 0D46     		mov	r5, r1
 299:libscpi/src/utils.c ****     return endptr - str;
 1061              		.loc 1 299 12 view .LVU236
 1062 0004 01A9     		add	r1, sp, #4
 1063              	.LVL96:
 297:libscpi/src/utils.c ****     char * endptr;
ARM GAS  /tmp/ccT7RLP5.s 			page 31


 1064              		.loc 1 297 69 view .LVU237
 1065 0006 0446     		mov	r4, r0
 299:libscpi/src/utils.c ****     return endptr - str;
 1066              		.loc 1 299 12 view .LVU238
 1067 0008 FFF7FEFF 		bl	strtoll
 1068              	.LVL97:
 299:libscpi/src/utils.c ****     return endptr - str;
 1069              		.loc 1 299 10 view .LVU239
 1070 000c C5E90001 		strd	r0, [r5]
 300:libscpi/src/utils.c **** }
 1071              		.loc 1 300 5 is_stmt 1 view .LVU240
 301:libscpi/src/utils.c **** 
 1072              		.loc 1 301 1 is_stmt 0 view .LVU241
 1073 0010 0198     		ldr	r0, [sp, #4]
 1074 0012 001B     		subs	r0, r0, r4
 1075 0014 03B0     		add	sp, sp, #12
 1076              	.LCFI29:
 1077              		.cfi_def_cfa_offset 12
 1078              		@ sp needed
 1079 0016 30BD     		pop	{r4, r5, pc}
 301:libscpi/src/utils.c **** 
 1080              		.loc 1 301 1 view .LVU242
 1081              		.cfi_endproc
 1082              	.LFE14:
 1084              		.section	.text.strBaseToUInt64,"ax",%progbits
 1085              		.align	1
 1086              		.global	strBaseToUInt64
 1087              		.hidden	strBaseToUInt64
 1088              		.syntax unified
 1089              		.thumb
 1090              		.thumb_func
 1091              		.fpu fpv4-sp-d16
 1093              	strBaseToUInt64:
 1094              	.LVL98:
 1095              	.LFB15:
 309:libscpi/src/utils.c ****     char * endptr;
 1096              		.loc 1 309 71 is_stmt 1 view -0
 1097              		.cfi_startproc
 1098              		@ args = 0, pretend = 0, frame = 8
 1099              		@ frame_needed = 0, uses_anonymous_args = 0
 310:libscpi/src/utils.c ****     *val = SCPIDEFINE_strtoull(str, &endptr, base);
 1100              		.loc 1 310 5 view .LVU244
 311:libscpi/src/utils.c ****     return endptr - str;
 1101              		.loc 1 311 5 view .LVU245
 309:libscpi/src/utils.c ****     char * endptr;
 1102              		.loc 1 309 71 is_stmt 0 view .LVU246
 1103 0000 37B5     		push	{r0, r1, r2, r4, r5, lr}
 1104              	.LCFI30:
 1105              		.cfi_def_cfa_offset 24
 1106              		.cfi_offset 4, -12
 1107              		.cfi_offset 5, -8
 1108              		.cfi_offset 14, -4
 309:libscpi/src/utils.c ****     char * endptr;
 1109              		.loc 1 309 71 view .LVU247
 1110 0002 0D46     		mov	r5, r1
 311:libscpi/src/utils.c ****     return endptr - str;
 1111              		.loc 1 311 12 view .LVU248
ARM GAS  /tmp/ccT7RLP5.s 			page 32


 1112 0004 01A9     		add	r1, sp, #4
 1113              	.LVL99:
 309:libscpi/src/utils.c ****     char * endptr;
 1114              		.loc 1 309 71 view .LVU249
 1115 0006 0446     		mov	r4, r0
 311:libscpi/src/utils.c ****     return endptr - str;
 1116              		.loc 1 311 12 view .LVU250
 1117 0008 FFF7FEFF 		bl	strtoull
 1118              	.LVL100:
 311:libscpi/src/utils.c ****     return endptr - str;
 1119              		.loc 1 311 10 view .LVU251
 1120 000c C5E90001 		strd	r0, [r5]
 312:libscpi/src/utils.c **** }
 1121              		.loc 1 312 5 is_stmt 1 view .LVU252
 313:libscpi/src/utils.c **** 
 1122              		.loc 1 313 1 is_stmt 0 view .LVU253
 1123 0010 0198     		ldr	r0, [sp, #4]
 1124 0012 001B     		subs	r0, r0, r4
 1125 0014 03B0     		add	sp, sp, #12
 1126              	.LCFI31:
 1127              		.cfi_def_cfa_offset 12
 1128              		@ sp needed
 1129 0016 30BD     		pop	{r4, r5, pc}
 313:libscpi/src/utils.c **** 
 1130              		.loc 1 313 1 view .LVU254
 1131              		.cfi_endproc
 1132              	.LFE15:
 1134              		.section	.text.strToFloat,"ax",%progbits
 1135              		.align	1
 1136              		.global	strToFloat
 1137              		.hidden	strToFloat
 1138              		.syntax unified
 1139              		.thumb
 1140              		.thumb_func
 1141              		.fpu fpv4-sp-d16
 1143              	strToFloat:
 1144              	.LVL101:
 1145              	.LFB16:
 321:libscpi/src/utils.c ****     char * endptr;
 1146              		.loc 1 321 50 is_stmt 1 view -0
 1147              		.cfi_startproc
 1148              		@ args = 0, pretend = 0, frame = 8
 1149              		@ frame_needed = 0, uses_anonymous_args = 0
 322:libscpi/src/utils.c ****     *val = SCPIDEFINE_strtof(str, &endptr);
 1150              		.loc 1 322 5 view .LVU256
 323:libscpi/src/utils.c ****     return endptr - str;
 1151              		.loc 1 323 5 view .LVU257
 321:libscpi/src/utils.c ****     char * endptr;
 1152              		.loc 1 321 50 is_stmt 0 view .LVU258
 1153 0000 37B5     		push	{r0, r1, r2, r4, r5, lr}
 1154              	.LCFI32:
 1155              		.cfi_def_cfa_offset 24
 1156              		.cfi_offset 4, -12
 1157              		.cfi_offset 5, -8
 1158              		.cfi_offset 14, -4
 321:libscpi/src/utils.c ****     char * endptr;
 1159              		.loc 1 321 50 view .LVU259
ARM GAS  /tmp/ccT7RLP5.s 			page 33


 1160 0002 0D46     		mov	r5, r1
 323:libscpi/src/utils.c ****     return endptr - str;
 1161              		.loc 1 323 12 view .LVU260
 1162 0004 01A9     		add	r1, sp, #4
 1163              	.LVL102:
 321:libscpi/src/utils.c ****     char * endptr;
 1164              		.loc 1 321 50 view .LVU261
 1165 0006 0446     		mov	r4, r0
 323:libscpi/src/utils.c ****     return endptr - str;
 1166              		.loc 1 323 12 view .LVU262
 1167 0008 FFF7FEFF 		bl	strtof
 1168              	.LVL103:
 325:libscpi/src/utils.c **** 
 1169              		.loc 1 325 1 view .LVU263
 1170 000c 0198     		ldr	r0, [sp, #4]
 323:libscpi/src/utils.c ****     return endptr - str;
 1171              		.loc 1 323 10 view .LVU264
 1172 000e 85ED000A 		vstr.32	s0, [r5]
 324:libscpi/src/utils.c **** }
 1173              		.loc 1 324 5 is_stmt 1 view .LVU265
 325:libscpi/src/utils.c **** 
 1174              		.loc 1 325 1 is_stmt 0 view .LVU266
 1175 0012 001B     		subs	r0, r0, r4
 1176 0014 03B0     		add	sp, sp, #12
 1177              	.LCFI33:
 1178              		.cfi_def_cfa_offset 12
 1179              		@ sp needed
 1180 0016 30BD     		pop	{r4, r5, pc}
 325:libscpi/src/utils.c **** 
 1181              		.loc 1 325 1 view .LVU267
 1182              		.cfi_endproc
 1183              	.LFE16:
 1185              		.section	.text.strToDouble,"ax",%progbits
 1186              		.align	1
 1187              		.global	strToDouble
 1188              		.hidden	strToDouble
 1189              		.syntax unified
 1190              		.thumb
 1191              		.thumb_func
 1192              		.fpu fpv4-sp-d16
 1194              	strToDouble:
 1195              	.LVL104:
 1196              	.LFB17:
 333:libscpi/src/utils.c ****     char * endptr;
 1197              		.loc 1 333 52 is_stmt 1 view -0
 1198              		.cfi_startproc
 1199              		@ args = 0, pretend = 0, frame = 8
 1200              		@ frame_needed = 0, uses_anonymous_args = 0
 334:libscpi/src/utils.c ****     *val = strtod(str, &endptr);
 1201              		.loc 1 334 5 view .LVU269
 335:libscpi/src/utils.c ****     return endptr - str;
 1202              		.loc 1 335 5 view .LVU270
 333:libscpi/src/utils.c ****     char * endptr;
 1203              		.loc 1 333 52 is_stmt 0 view .LVU271
 1204 0000 37B5     		push	{r0, r1, r2, r4, r5, lr}
 1205              	.LCFI34:
 1206              		.cfi_def_cfa_offset 24
ARM GAS  /tmp/ccT7RLP5.s 			page 34


 1207              		.cfi_offset 4, -12
 1208              		.cfi_offset 5, -8
 1209              		.cfi_offset 14, -4
 333:libscpi/src/utils.c ****     char * endptr;
 1210              		.loc 1 333 52 view .LVU272
 1211 0002 0D46     		mov	r5, r1
 335:libscpi/src/utils.c ****     return endptr - str;
 1212              		.loc 1 335 12 view .LVU273
 1213 0004 01A9     		add	r1, sp, #4
 1214              	.LVL105:
 333:libscpi/src/utils.c ****     char * endptr;
 1215              		.loc 1 333 52 view .LVU274
 1216 0006 0446     		mov	r4, r0
 335:libscpi/src/utils.c ****     return endptr - str;
 1217              		.loc 1 335 12 view .LVU275
 1218 0008 FFF7FEFF 		bl	strtod
 1219              	.LVL106:
 337:libscpi/src/utils.c **** 
 1220              		.loc 1 337 1 view .LVU276
 1221 000c 0198     		ldr	r0, [sp, #4]
 1222 000e 001B     		subs	r0, r0, r4
 335:libscpi/src/utils.c ****     return endptr - str;
 1223              		.loc 1 335 10 view .LVU277
 1224 0010 85ED000B 		vstr.64	d0, [r5]
 336:libscpi/src/utils.c **** }
 1225              		.loc 1 336 5 is_stmt 1 view .LVU278
 337:libscpi/src/utils.c **** 
 1226              		.loc 1 337 1 is_stmt 0 view .LVU279
 1227 0014 03B0     		add	sp, sp, #12
 1228              	.LCFI35:
 1229              		.cfi_def_cfa_offset 12
 1230              		@ sp needed
 1231 0016 30BD     		pop	{r4, r5, pc}
 337:libscpi/src/utils.c **** 
 1232              		.loc 1 337 1 view .LVU280
 1233              		.cfi_endproc
 1234              	.LFE17:
 1236              		.section	.text.compareStr,"ax",%progbits
 1237              		.align	1
 1238              		.global	compareStr
 1239              		.hidden	compareStr
 1240              		.syntax unified
 1241              		.thumb
 1242              		.thumb_func
 1243              		.fpu fpv4-sp-d16
 1245              	compareStr:
 1246              	.LVL107:
 1247              	.LFB18:
 347:libscpi/src/utils.c ****     if (len1 != len2) {
 1248              		.loc 1 347 88 is_stmt 1 view -0
 1249              		.cfi_startproc
 1250              		@ args = 0, pretend = 0, frame = 0
 1251              		@ frame_needed = 0, uses_anonymous_args = 0
 348:libscpi/src/utils.c ****         return FALSE;
 1252              		.loc 1 348 5 view .LVU282
 347:libscpi/src/utils.c ****     if (len1 != len2) {
 1253              		.loc 1 347 88 is_stmt 0 view .LVU283
ARM GAS  /tmp/ccT7RLP5.s 			page 35


 1254 0000 10B5     		push	{r4, lr}
 1255              	.LCFI36:
 1256              		.cfi_def_cfa_offset 8
 1257              		.cfi_offset 4, -8
 1258              		.cfi_offset 14, -4
 347:libscpi/src/utils.c ****     if (len1 != len2) {
 1259              		.loc 1 347 88 view .LVU284
 1260 0002 0C46     		mov	r4, r1
 348:libscpi/src/utils.c ****         return FALSE;
 1261              		.loc 1 348 8 view .LVU285
 1262 0004 9C42     		cmp	r4, r3
 347:libscpi/src/utils.c ****     if (len1 != len2) {
 1263              		.loc 1 347 88 view .LVU286
 1264 0006 1146     		mov	r1, r2
 1265              	.LVL108:
 348:libscpi/src/utils.c ****         return FALSE;
 1266              		.loc 1 348 8 view .LVU287
 1267 0008 06D1     		bne	.L82
 1268              	.LVL109:
 1269              	.LBB5:
 1270              	.LBI5:
 347:libscpi/src/utils.c ****     if (len1 != len2) {
 1271              		.loc 1 347 13 is_stmt 1 view .LVU288
 1272              	.LBB6:
 352:libscpi/src/utils.c ****         return TRUE;
 1273              		.loc 1 352 5 view .LVU289
 352:libscpi/src/utils.c ****         return TRUE;
 1274              		.loc 1 352 9 is_stmt 0 view .LVU290
 1275 000a 2246     		mov	r2, r4
 1276              	.LVL110:
 352:libscpi/src/utils.c ****         return TRUE;
 1277              		.loc 1 352 9 view .LVU291
 1278 000c FFF7FEFF 		bl	strncasecmp
 1279              	.LVL111:
 352:libscpi/src/utils.c ****         return TRUE;
 1280              		.loc 1 352 8 view .LVU292
 1281 0010 B0FA80F0 		clz	r0, r0
 1282 0014 4009     		lsrs	r0, r0, #5
 1283              	.LVL112:
 1284              	.L81:
 352:libscpi/src/utils.c ****         return TRUE;
 1285              		.loc 1 352 8 view .LVU293
 1286              	.LBE6:
 1287              	.LBE5:
 357:libscpi/src/utils.c **** 
 1288              		.loc 1 357 1 view .LVU294
 1289 0016 10BD     		pop	{r4, pc}
 1290              	.LVL113:
 1291              	.L82:
 349:libscpi/src/utils.c ****     }
 1292              		.loc 1 349 16 view .LVU295
 1293 0018 0020     		movs	r0, #0
 1294              	.LVL114:
 349:libscpi/src/utils.c ****     }
 1295              		.loc 1 349 16 view .LVU296
 1296 001a FCE7     		b	.L81
 1297              		.cfi_endproc
ARM GAS  /tmp/ccT7RLP5.s 			page 36


 1298              	.LFE18:
 1300              		.section	.text.compareStrAndNum,"ax",%progbits
 1301              		.align	1
 1302              		.global	compareStrAndNum
 1303              		.hidden	compareStrAndNum
 1304              		.syntax unified
 1305              		.thumb
 1306              		.thumb_func
 1307              		.fpu fpv4-sp-d16
 1309              	compareStrAndNum:
 1310              	.LVL115:
 1311              	.LFB19:
 367:libscpi/src/utils.c ****     scpi_bool_t result = FALSE;
 1312              		.loc 1 367 109 is_stmt 1 view -0
 1313              		.cfi_startproc
 1314              		@ args = 4, pretend = 0, frame = 8
 1315              		@ frame_needed = 0, uses_anonymous_args = 0
 367:libscpi/src/utils.c ****     scpi_bool_t result = FALSE;
 1316              		.loc 1 367 109 is_stmt 0 view .LVU298
 1317 0000 2DE9F341 		push	{r0, r1, r4, r5, r6, r7, r8, lr}
 1318              	.LCFI37:
 1319              		.cfi_def_cfa_offset 32
 1320              		.cfi_offset 4, -24
 1321              		.cfi_offset 5, -20
 1322              		.cfi_offset 6, -16
 1323              		.cfi_offset 7, -12
 1324              		.cfi_offset 8, -8
 1325              		.cfi_offset 14, -4
 371:libscpi/src/utils.c ****         return FALSE;
 1326              		.loc 1 371 8 view .LVU299
 1327 0004 8B42     		cmp	r3, r1
 367:libscpi/src/utils.c ****     scpi_bool_t result = FALSE;
 1328              		.loc 1 367 109 view .LVU300
 1329 0006 DDF82080 		ldr	r8, [sp, #32]
 1330 000a 0D46     		mov	r5, r1
 368:libscpi/src/utils.c ****     size_t i;
 1331              		.loc 1 368 5 is_stmt 1 view .LVU301
 1332              	.LVL116:
 369:libscpi/src/utils.c **** 
 1333              		.loc 1 369 5 view .LVU302
 371:libscpi/src/utils.c ****         return FALSE;
 1334              		.loc 1 371 5 view .LVU303
 367:libscpi/src/utils.c ****     scpi_bool_t result = FALSE;
 1335              		.loc 1 367 109 is_stmt 0 view .LVU304
 1336 000c 1646     		mov	r6, r2
 1337 000e 1F46     		mov	r7, r3
 371:libscpi/src/utils.c ****         return FALSE;
 1338              		.loc 1 371 8 view .LVU305
 1339 0010 24D3     		bcc	.L90
 375:libscpi/src/utils.c ****         result = TRUE;
 1340              		.loc 1 375 5 is_stmt 1 view .LVU306
 375:libscpi/src/utils.c ****         result = TRUE;
 1341              		.loc 1 375 9 is_stmt 0 view .LVU307
 1342 0012 0A46     		mov	r2, r1
 1343              	.LVL117:
 375:libscpi/src/utils.c ****         result = TRUE;
 1344              		.loc 1 375 9 view .LVU308
ARM GAS  /tmp/ccT7RLP5.s 			page 37


 1345 0014 3146     		mov	r1, r6
 1346              	.LVL118:
 375:libscpi/src/utils.c ****         result = TRUE;
 1347              		.loc 1 375 9 view .LVU309
 1348 0016 FFF7FEFF 		bl	strncasecmp
 1349              	.LVL119:
 375:libscpi/src/utils.c ****         result = TRUE;
 1350              		.loc 1 375 8 view .LVU310
 1351 001a F8B9     		cbnz	r0, .L90
 376:libscpi/src/utils.c **** 
 1352              		.loc 1 376 9 is_stmt 1 view .LVU311
 1353              	.LVL120:
 378:libscpi/src/utils.c ****             if (len1 == len2) {
 1354              		.loc 1 378 9 view .LVU312
 378:libscpi/src/utils.c ****             if (len1 == len2) {
 1355              		.loc 1 378 12 is_stmt 0 view .LVU313
 1356 001c B8F1000F 		cmp	r8, #0
 1357 0020 0DD1     		bne	.L85
 1358              	.LBB11:
 1359              	.LBB12:
 392:libscpi/src/utils.c ****                     result = FALSE;
 1360              		.loc 1 392 22 view .LVU314
 1361 0022 0F4B     		ldr	r3, .L94
 1362 0024 3544     		add	r5, r5, r6
 1363              	.LVL121:
 392:libscpi/src/utils.c ****                     result = FALSE;
 1364              		.loc 1 392 22 view .LVU315
 1365 0026 3E44     		add	r6, r6, r7
 1366              	.LVL122:
 1367              	.L86:
 391:libscpi/src/utils.c ****                 if (!isdigit((int) str2[i])) {
 1368              		.loc 1 391 28 is_stmt 1 view .LVU316
 391:libscpi/src/utils.c ****                 if (!isdigit((int) str2[i])) {
 1369              		.loc 1 391 13 is_stmt 0 view .LVU317
 1370 0028 AE42     		cmp	r6, r5
 1371 002a 15D0     		beq	.L91
 392:libscpi/src/utils.c ****                     result = FALSE;
 1372              		.loc 1 392 17 is_stmt 1 view .LVU318
 392:libscpi/src/utils.c ****                     result = FALSE;
 1373              		.loc 1 392 22 is_stmt 0 view .LVU319
 1374 002c 15F8012B 		ldrb	r2, [r5], #1	@ zero_extendqisi2
 1375              	.LVL123:
 392:libscpi/src/utils.c ****                     result = FALSE;
 1376              		.loc 1 392 20 view .LVU320
 1377 0030 D05C     		ldrb	r0, [r2, r3]	@ zero_extendqisi2
 1378 0032 10F00400 		ands	r0, r0, #4
 1379 0036 F7D1     		bne	.L86
 1380              	.LVL124:
 1381              	.L84:
 392:libscpi/src/utils.c ****                     result = FALSE;
 1382              		.loc 1 392 20 view .LVU321
 1383              	.LBE12:
 1384              	.LBE11:
 401:libscpi/src/utils.c **** 
 1385              		.loc 1 401 1 view .LVU322
 1386 0038 02B0     		add	sp, sp, #8
 1387              	.LCFI38:
ARM GAS  /tmp/ccT7RLP5.s 			page 38


 1388              		.cfi_remember_state
 1389              		.cfi_def_cfa_offset 24
 1390              		@ sp needed
 1391 003a BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 1392              	.LVL125:
 1393              	.L85:
 1394              	.LCFI39:
 1395              		.cfi_restore_state
 379:libscpi/src/utils.c ****                 /* *num = 1; */
 1396              		.loc 1 379 13 is_stmt 1 view .LVU323
 379:libscpi/src/utils.c ****                 /* *num = 1; */
 1397              		.loc 1 379 16 is_stmt 0 view .LVU324
 1398 003e AF42     		cmp	r7, r5
 1399 0040 0AD0     		beq	.L91
 1400              	.LBB13:
 382:libscpi/src/utils.c ****                 i = len1 + strBaseToInt32(str2 + len1, &tmpNum, 10);
 1401              		.loc 1 382 17 is_stmt 1 view .LVU325
 383:libscpi/src/utils.c ****                 if (i != len2) {
 1402              		.loc 1 383 17 view .LVU326
 383:libscpi/src/utils.c ****                 if (i != len2) {
 1403              		.loc 1 383 28 is_stmt 0 view .LVU327
 1404 0042 0A22     		movs	r2, #10
 1405 0044 01A9     		add	r1, sp, #4
 1406 0046 7019     		adds	r0, r6, r5
 1407 0048 FFF7FEFF 		bl	strBaseToInt32
 1408              	.LVL126:
 384:libscpi/src/utils.c ****                     result = FALSE;
 1409              		.loc 1 384 17 is_stmt 1 view .LVU328
 383:libscpi/src/utils.c ****                 if (i != len2) {
 1410              		.loc 1 383 19 is_stmt 0 view .LVU329
 1411 004c 2844     		add	r0, r0, r5
 1412              	.LVL127:
 384:libscpi/src/utils.c ****                     result = FALSE;
 1413              		.loc 1 384 20 view .LVU330
 1414 004e 8742     		cmp	r7, r0
 1415 0050 04D1     		bne	.L90
 387:libscpi/src/utils.c ****                 }
 1416              		.loc 1 387 21 is_stmt 1 view .LVU331
 387:libscpi/src/utils.c ****                 }
 1417              		.loc 1 387 26 is_stmt 0 view .LVU332
 1418 0052 019B     		ldr	r3, [sp, #4]
 1419 0054 C8F80030 		str	r3, [r8]
 1420              	.LVL128:
 1421              	.L91:
 387:libscpi/src/utils.c ****                 }
 1422              		.loc 1 387 26 view .LVU333
 1423              	.LBE13:
 376:libscpi/src/utils.c **** 
 1424              		.loc 1 376 16 view .LVU334
 1425 0058 0120     		movs	r0, #1
 1426 005a EDE7     		b	.L84
 1427              	.LVL129:
 1428              	.L90:
 372:libscpi/src/utils.c ****     }
 1429              		.loc 1 372 16 view .LVU335
 1430 005c 0020     		movs	r0, #0
 1431 005e EBE7     		b	.L84
ARM GAS  /tmp/ccT7RLP5.s 			page 39


 1432              	.L95:
 1433              		.align	2
 1434              	.L94:
 1435 0060 01000000 		.word	_ctype_+1
 1436              		.cfi_endproc
 1437              	.LFE19:
 1439              		.section	.text.skipWhitespace,"ax",%progbits
 1440              		.align	1
 1441              		.global	skipWhitespace
 1442              		.hidden	skipWhitespace
 1443              		.syntax unified
 1444              		.thumb
 1445              		.thumb_func
 1446              		.fpu fpv4-sp-d16
 1448              	skipWhitespace:
 1449              	.LVL130:
 1450              	.LFB20:
 409:libscpi/src/utils.c ****     size_t i;
 1451              		.loc 1 409 53 is_stmt 1 view -0
 1452              		.cfi_startproc
 1453              		@ args = 0, pretend = 0, frame = 0
 1454              		@ frame_needed = 0, uses_anonymous_args = 0
 410:libscpi/src/utils.c ****     for (i = 0; i < len; i++) {
 1455              		.loc 1 410 5 view .LVU337
 411:libscpi/src/utils.c ****         if (!isspace((unsigned char) cmd[i])) {
 1456              		.loc 1 411 5 view .LVU338
 409:libscpi/src/utils.c ****     size_t i;
 1457              		.loc 1 409 53 is_stmt 0 view .LVU339
 1458 0000 10B5     		push	{r4, lr}
 1459              	.LCFI40:
 1460              		.cfi_def_cfa_offset 8
 1461              		.cfi_offset 4, -8
 1462              		.cfi_offset 14, -4
 412:libscpi/src/utils.c ****             return i;
 1463              		.loc 1 412 14 view .LVU340
 1464 0002 064A     		ldr	r2, .L103
 409:libscpi/src/utils.c ****     size_t i;
 1465              		.loc 1 409 53 view .LVU341
 1466 0004 0346     		mov	r3, r0
 411:libscpi/src/utils.c ****         if (!isspace((unsigned char) cmd[i])) {
 1467              		.loc 1 411 12 view .LVU342
 1468 0006 0020     		movs	r0, #0
 1469              	.LVL131:
 1470              	.L97:
 411:libscpi/src/utils.c ****         if (!isspace((unsigned char) cmd[i])) {
 1471              		.loc 1 411 17 is_stmt 1 discriminator 1 view .LVU343
 411:libscpi/src/utils.c ****         if (!isspace((unsigned char) cmd[i])) {
 1472              		.loc 1 411 5 is_stmt 0 discriminator 1 view .LVU344
 1473 0008 8842     		cmp	r0, r1
 1474 000a 00D1     		bne	.L99
 1475              	.L96:
 417:libscpi/src/utils.c **** 
 1476              		.loc 1 417 1 view .LVU345
 1477 000c 10BD     		pop	{r4, pc}
 1478              	.L99:
 412:libscpi/src/utils.c ****             return i;
 1479              		.loc 1 412 9 is_stmt 1 view .LVU346
ARM GAS  /tmp/ccT7RLP5.s 			page 40


 412:libscpi/src/utils.c ****             return i;
 1480              		.loc 1 412 14 is_stmt 0 view .LVU347
 1481 000e 1C5C     		ldrb	r4, [r3, r0]	@ zero_extendqisi2
 412:libscpi/src/utils.c ****             return i;
 1482              		.loc 1 412 12 view .LVU348
 1483 0010 A45C     		ldrb	r4, [r4, r2]	@ zero_extendqisi2
 1484 0012 2407     		lsls	r4, r4, #28
 1485 0014 FAD5     		bpl	.L96
 411:libscpi/src/utils.c ****         if (!isspace((unsigned char) cmd[i])) {
 1486              		.loc 1 411 26 is_stmt 1 discriminator 2 view .LVU349
 411:libscpi/src/utils.c ****         if (!isspace((unsigned char) cmd[i])) {
 1487              		.loc 1 411 27 is_stmt 0 discriminator 2 view .LVU350
 1488 0016 0130     		adds	r0, r0, #1
 1489              	.LVL132:
 411:libscpi/src/utils.c ****         if (!isspace((unsigned char) cmd[i])) {
 1490              		.loc 1 411 27 discriminator 2 view .LVU351
 1491 0018 F6E7     		b	.L97
 1492              	.L104:
 1493 001a 00BF     		.align	2
 1494              	.L103:
 1495 001c 01000000 		.word	_ctype_+1
 1496              		.cfi_endproc
 1497              	.LFE20:
 1499              		.section	.text.matchPattern,"ax",%progbits
 1500              		.align	1
 1501              		.global	matchPattern
 1502              		.hidden	matchPattern
 1503              		.syntax unified
 1504              		.thumb
 1505              		.thumb_func
 1506              		.fpu fpv4-sp-d16
 1508              	matchPattern:
 1509              	.LVL133:
 1510              	.LFB24:
 435:libscpi/src/utils.c **** 
 436:libscpi/src/utils.c **** /**
 437:libscpi/src/utils.c ****  * Find pattern separator position
 438:libscpi/src/utils.c ****  * @param pattern
 439:libscpi/src/utils.c ****  * @param len - max search length
 440:libscpi/src/utils.c ****  * @return position of separator or len
 441:libscpi/src/utils.c ****  */
 442:libscpi/src/utils.c **** static size_t patternSeparatorPos(const char * pattern, size_t len) {
 443:libscpi/src/utils.c **** 
 444:libscpi/src/utils.c ****     char * separator = strnpbrk(pattern, len, "?:[]");
 445:libscpi/src/utils.c ****     if (separator == NULL) {
 446:libscpi/src/utils.c ****         return len;
 447:libscpi/src/utils.c ****     } else {
 448:libscpi/src/utils.c ****         return separator - pattern;
 449:libscpi/src/utils.c ****     }
 450:libscpi/src/utils.c **** }
 451:libscpi/src/utils.c **** 
 452:libscpi/src/utils.c **** /**
 453:libscpi/src/utils.c ****  * Find command separator position
 454:libscpi/src/utils.c ****  * @param cmd - input command
 455:libscpi/src/utils.c ****  * @param len - max search length
 456:libscpi/src/utils.c ****  * @return position of separator or len
 457:libscpi/src/utils.c ****  */
ARM GAS  /tmp/ccT7RLP5.s 			page 41


 458:libscpi/src/utils.c **** static size_t cmdSeparatorPos(const char * cmd, size_t len) {
 459:libscpi/src/utils.c ****     char * separator = strnpbrk(cmd, len, ":?");
 460:libscpi/src/utils.c ****     size_t result;
 461:libscpi/src/utils.c ****     if (separator == NULL) {
 462:libscpi/src/utils.c ****         result = len;
 463:libscpi/src/utils.c ****     } else {
 464:libscpi/src/utils.c ****         result = separator - cmd;
 465:libscpi/src/utils.c ****     }
 466:libscpi/src/utils.c **** 
 467:libscpi/src/utils.c ****     return result;
 468:libscpi/src/utils.c **** }
 469:libscpi/src/utils.c **** 
 470:libscpi/src/utils.c **** /**
 471:libscpi/src/utils.c ****  * Match pattern and str. Pattern is in format UPPERCASElowercase
 472:libscpi/src/utils.c ****  * @param pattern
 473:libscpi/src/utils.c ****  * @param pattern_len
 474:libscpi/src/utils.c ****  * @param str
 475:libscpi/src/utils.c ****  * @param str_len
 476:libscpi/src/utils.c ****  * @return
 477:libscpi/src/utils.c ****  */
 478:libscpi/src/utils.c **** scpi_bool_t matchPattern(const char * pattern, size_t pattern_len, const char * str, size_t str_len
 1511              		.loc 1 478 117 is_stmt 1 view -0
 1512              		.cfi_startproc
 1513              		@ args = 4, pretend = 0, frame = 8
 1514              		@ frame_needed = 0, uses_anonymous_args = 0
 479:libscpi/src/utils.c ****     int pattern_sep_pos_short;
 1515              		.loc 1 479 5 view .LVU353
 480:libscpi/src/utils.c **** 
 481:libscpi/src/utils.c ****     if ((pattern_len > 0) && pattern[pattern_len - 1] == '#') {
 1516              		.loc 1 481 5 view .LVU354
 478:libscpi/src/utils.c ****     int pattern_sep_pos_short;
 1517              		.loc 1 478 117 is_stmt 0 view .LVU355
 1518 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 1519              	.LCFI41:
 1520              		.cfi_def_cfa_offset 20
 1521              		.cfi_offset 4, -20
 1522              		.cfi_offset 5, -16
 1523              		.cfi_offset 6, -12
 1524              		.cfi_offset 7, -8
 1525              		.cfi_offset 14, -4
 1526 0002 85B0     		sub	sp, sp, #20
 1527              	.LCFI42:
 1528              		.cfi_def_cfa_offset 40
 478:libscpi/src/utils.c ****     int pattern_sep_pos_short;
 1529              		.loc 1 478 117 view .LVU356
 1530 0004 0446     		mov	r4, r0
 1531 0006 0A9E     		ldr	r6, [sp, #40]
 1532              		.loc 1 481 8 view .LVU357
 1533 0008 0D46     		mov	r5, r1
 1534 000a D1B1     		cbz	r1, .L106
 1535              		.loc 1 481 37 discriminator 1 view .LVU358
 1536 000c 0139     		subs	r1, r1, #1
 1537              	.LVL134:
 1538              		.loc 1 481 27 discriminator 1 view .LVU359
 1539 000e 475C     		ldrb	r7, [r0, r1]	@ zero_extendqisi2
 1540 0010 232F     		cmp	r7, #35
 1541 0012 16D1     		bne	.L106
ARM GAS  /tmp/ccT7RLP5.s 			page 42


 1542 0014 CDE90223 		strd	r2, r3, [sp, #8]
 1543              	.LBB14:
 482:libscpi/src/utils.c ****         size_t new_pattern_len = pattern_len - 1;
 1544              		.loc 1 482 9 is_stmt 1 view .LVU360
 1545              	.LVL135:
 483:libscpi/src/utils.c **** 
 484:libscpi/src/utils.c ****         pattern_sep_pos_short = patternSeparatorShortPos(pattern, new_pattern_len);
 1546              		.loc 1 484 9 view .LVU361
 1547              		.loc 1 484 33 is_stmt 0 view .LVU362
 1548 0018 FFF7FEFF 		bl	patternSeparatorShortPos
 1549              	.LVL136:
 485:libscpi/src/utils.c **** 
 486:libscpi/src/utils.c ****         return compareStrAndNum(pattern, new_pattern_len, str, str_len, num) ||
 1550              		.loc 1 486 16 view .LVU363
 1551 001c DDE90223 		ldrd	r2, r3, [sp, #8]
 484:libscpi/src/utils.c **** 
 1552              		.loc 1 484 33 view .LVU364
 1553 0020 0546     		mov	r5, r0
 1554              	.LVL137:
 1555              		.loc 1 486 9 is_stmt 1 view .LVU365
 1556              		.loc 1 486 16 is_stmt 0 view .LVU366
 1557 0022 0096     		str	r6, [sp]
 1558 0024 2046     		mov	r0, r4
 1559              	.LVL138:
 1560              		.loc 1 486 16 view .LVU367
 1561 0026 FFF7FEFF 		bl	compareStrAndNum
 1562              	.LVL139:
 1563              		.loc 1 486 78 view .LVU368
 1564 002a DDE90223 		ldrd	r2, r3, [sp, #8]
 1565 002e D0B9     		cbnz	r0, .L111
 487:libscpi/src/utils.c ****                 compareStrAndNum(pattern, pattern_sep_pos_short, str, str_len, num);
 1566              		.loc 1 487 17 discriminator 2 view .LVU369
 1567 0030 0096     		str	r6, [sp]
 1568 0032 2946     		mov	r1, r5
 1569 0034 2046     		mov	r0, r4
 1570 0036 FFF7FEFF 		bl	compareStrAndNum
 1571              	.LVL140:
 1572              	.L109:
 1573              		.loc 1 487 17 discriminator 2 view .LVU370
 1574              	.LBE14:
 488:libscpi/src/utils.c ****     } else {
 489:libscpi/src/utils.c **** 
 490:libscpi/src/utils.c ****         pattern_sep_pos_short = patternSeparatorShortPos(pattern, pattern_len);
 491:libscpi/src/utils.c **** 
 492:libscpi/src/utils.c ****         return compareStr(pattern, pattern_len, str, str_len) ||
 1575              		.loc 1 492 63 discriminator 6 view .LVU371
 1576 003a 00F00100 		and	r0, r0, #1
 493:libscpi/src/utils.c ****                 compareStr(pattern, pattern_sep_pos_short, str, str_len);
 494:libscpi/src/utils.c ****     }
 495:libscpi/src/utils.c **** }
 1577              		.loc 1 495 1 discriminator 6 view .LVU372
 1578 003e 05B0     		add	sp, sp, #20
 1579              	.LCFI43:
 1580              		.cfi_remember_state
 1581              		.cfi_def_cfa_offset 20
 1582              		@ sp needed
 1583 0040 F0BD     		pop	{r4, r5, r6, r7, pc}
ARM GAS  /tmp/ccT7RLP5.s 			page 43


 1584              	.LVL141:
 1585              	.L106:
 1586              	.LCFI44:
 1587              		.cfi_restore_state
 490:libscpi/src/utils.c **** 
 1588              		.loc 1 490 9 is_stmt 1 view .LVU373
 492:libscpi/src/utils.c ****                 compareStr(pattern, pattern_sep_pos_short, str, str_len);
 1589              		.loc 1 492 9 view .LVU374
 492:libscpi/src/utils.c ****                 compareStr(pattern, pattern_sep_pos_short, str, str_len);
 1590              		.loc 1 492 16 is_stmt 0 view .LVU375
 1591 0042 2946     		mov	r1, r5
 1592 0044 2046     		mov	r0, r4
 1593              	.LVL142:
 492:libscpi/src/utils.c ****                 compareStr(pattern, pattern_sep_pos_short, str, str_len);
 1594              		.loc 1 492 16 view .LVU376
 1595 0046 CDE90223 		strd	r2, r3, [sp, #8]
 1596 004a FFF7FEFF 		bl	compareStr
 1597              	.LVL143:
 492:libscpi/src/utils.c ****                 compareStr(pattern, pattern_sep_pos_short, str, str_len);
 1598              		.loc 1 492 63 view .LVU377
 1599 004e 50B9     		cbnz	r0, .L111
 490:libscpi/src/utils.c **** 
 1600              		.loc 1 490 33 discriminator 2 view .LVU378
 1601 0050 2946     		mov	r1, r5
 1602 0052 2046     		mov	r0, r4
 1603 0054 FFF7FEFF 		bl	patternSeparatorShortPos
 1604              	.LVL144:
 493:libscpi/src/utils.c ****                 compareStr(pattern, pattern_sep_pos_short, str, str_len);
 1605              		.loc 1 493 17 discriminator 2 view .LVU379
 1606 0058 DDE90223 		ldrd	r2, r3, [sp, #8]
 490:libscpi/src/utils.c **** 
 1607              		.loc 1 490 33 discriminator 2 view .LVU380
 1608 005c 0146     		mov	r1, r0
 493:libscpi/src/utils.c ****                 compareStr(pattern, pattern_sep_pos_short, str, str_len);
 1609              		.loc 1 493 17 discriminator 2 view .LVU381
 1610 005e 2046     		mov	r0, r4
 1611 0060 FFF7FEFF 		bl	compareStr
 1612              	.LVL145:
 1613 0064 E9E7     		b	.L109
 1614              	.LVL146:
 1615              	.L111:
 492:libscpi/src/utils.c ****                 compareStr(pattern, pattern_sep_pos_short, str, str_len);
 1616              		.loc 1 492 63 view .LVU382
 1617 0066 0120     		movs	r0, #1
 1618 0068 E7E7     		b	.L109
 1619              		.cfi_endproc
 1620              	.LFE24:
 1622              		.section	.rodata.matchCommand.str1.1,"aMS",%progbits,1
 1623              	.LC3:
 1624 0000 3F3A5B5D 		.ascii	"?:[]\000"
 1624      00
 1625              	.LC4:
 1626 0005 3A3F00   		.ascii	":?\000"
 1627              		.section	.text.matchCommand,"ax",%progbits
 1628              		.align	1
 1629              		.global	matchCommand
 1630              		.hidden	matchCommand
ARM GAS  /tmp/ccT7RLP5.s 			page 44


 1631              		.syntax unified
 1632              		.thumb
 1633              		.thumb_func
 1634              		.fpu fpv4-sp-d16
 1636              	matchCommand:
 1637              	.LVL147:
 1638              	.LFB25:
 496:libscpi/src/utils.c **** 
 497:libscpi/src/utils.c **** /**
 498:libscpi/src/utils.c ****  * Compare pattern and command
 499:libscpi/src/utils.c ****  * @param pattern eg. [:MEASure]:VOLTage:DC?
 500:libscpi/src/utils.c ****  * @param cmd - command
 501:libscpi/src/utils.c ****  * @param len - max search length
 502:libscpi/src/utils.c ****  * @return TRUE if pattern matches, FALSE otherwise
 503:libscpi/src/utils.c ****  */
 504:libscpi/src/utils.c **** scpi_bool_t matchCommand(const char * pattern, const char * cmd, size_t len, int32_t *numbers, size
 1639              		.loc 1 504 139 is_stmt 1 view -0
 1640              		.cfi_startproc
 1641              		@ args = 8, pretend = 0, frame = 16
 1642              		@ frame_needed = 0, uses_anonymous_args = 0
 505:libscpi/src/utils.c **** #define SKIP_PATTERN(n) do {pattern_ptr += (n);  pattern_len -= (n);} while(0)
 506:libscpi/src/utils.c **** #define SKIP_CMD(n) do {cmd_ptr += (n);  cmd_len -= (n);} while(0)
 507:libscpi/src/utils.c **** 
 508:libscpi/src/utils.c ****     scpi_bool_t result = FALSE;
 1643              		.loc 1 508 5 view .LVU384
 509:libscpi/src/utils.c ****     int brackets = 0;
 1644              		.loc 1 509 5 view .LVU385
 510:libscpi/src/utils.c ****     int cmd_sep_pos = 0;
 1645              		.loc 1 510 5 view .LVU386
 511:libscpi/src/utils.c **** 
 512:libscpi/src/utils.c ****     size_t numbers_idx = 0;
 1646              		.loc 1 512 5 view .LVU387
 513:libscpi/src/utils.c ****     int32_t *number_ptr = NULL;
 1647              		.loc 1 513 5 view .LVU388
 514:libscpi/src/utils.c **** 
 515:libscpi/src/utils.c ****     const char * pattern_ptr = pattern;
 1648              		.loc 1 515 5 view .LVU389
 516:libscpi/src/utils.c ****     int pattern_len = strlen(pattern);
 1649              		.loc 1 516 5 view .LVU390
 504:libscpi/src/utils.c **** #define SKIP_PATTERN(n) do {pattern_ptr += (n);  pattern_len -= (n);} while(0)
 1650              		.loc 1 504 139 is_stmt 0 view .LVU391
 1651 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 1652              	.LCFI45:
 1653              		.cfi_def_cfa_offset 36
 1654              		.cfi_offset 4, -36
 1655              		.cfi_offset 5, -32
 1656              		.cfi_offset 6, -28
 1657              		.cfi_offset 7, -24
 1658              		.cfi_offset 8, -20
 1659              		.cfi_offset 9, -16
 1660              		.cfi_offset 10, -12
 1661              		.cfi_offset 11, -8
 1662              		.cfi_offset 14, -4
 1663 0004 87B0     		sub	sp, sp, #28
 1664              	.LCFI46:
 1665              		.cfi_def_cfa_offset 64
 504:libscpi/src/utils.c **** #define SKIP_PATTERN(n) do {pattern_ptr += (n);  pattern_len -= (n);} while(0)
ARM GAS  /tmp/ccT7RLP5.s 			page 45


 1666              		.loc 1 504 139 view .LVU392
 1667 0006 CDE90323 		strd	r2, r3, [sp, #12]
 1668 000a 8946     		mov	r9, r1
 1669 000c 0646     		mov	r6, r0
 1670              		.loc 1 516 23 view .LVU393
 1671 000e FFF7FEFF 		bl	strlen
 1672              	.LVL148:
 517:libscpi/src/utils.c **** 
 518:libscpi/src/utils.c ****     const char * cmd_ptr = cmd;
 519:libscpi/src/utils.c ****     size_t cmd_len = SCPIDEFINE_strnlen(cmd, len);
 1673              		.loc 1 519 22 view .LVU394
 1674 0012 0399     		ldr	r1, [sp, #12]
 516:libscpi/src/utils.c **** 
 1675              		.loc 1 516 23 view .LVU395
 1676 0014 0746     		mov	r7, r0
 1677              	.LVL149:
 518:libscpi/src/utils.c ****     size_t cmd_len = SCPIDEFINE_strnlen(cmd, len);
 1678              		.loc 1 518 5 is_stmt 1 view .LVU396
 1679              		.loc 1 519 5 view .LVU397
 1680              		.loc 1 519 22 is_stmt 0 view .LVU398
 1681 0016 4846     		mov	r0, r9
 1682              	.LVL150:
 1683              		.loc 1 519 22 view .LVU399
 1684 0018 FFF7FEFF 		bl	strnlen
 1685              	.LVL151:
 520:libscpi/src/utils.c **** 
 521:libscpi/src/utils.c ****     /* both commands are query commands? */
 522:libscpi/src/utils.c ****     if (pattern_ptr[pattern_len - 1] == '?') {
 1686              		.loc 1 522 20 view .LVU400
 1687 001c F319     		adds	r3, r6, r7
 519:libscpi/src/utils.c **** 
 1688              		.loc 1 519 22 view .LVU401
 1689 001e 0546     		mov	r5, r0
 1690              	.LVL152:
 1691              		.loc 1 522 5 is_stmt 1 view .LVU402
 1692              		.loc 1 522 8 is_stmt 0 view .LVU403
 1693 0020 13F8013C 		ldrb	r3, [r3, #-1]	@ zero_extendqisi2
 1694 0024 3F2B     		cmp	r3, #63
 1695 0026 06D1     		bne	.L116
 523:libscpi/src/utils.c ****         if (cmd_ptr[cmd_len - 1] == '?') {
 1696              		.loc 1 523 9 is_stmt 1 view .LVU404
 1697              		.loc 1 523 20 is_stmt 0 view .LVU405
 1698 0028 451E     		subs	r5, r0, #1
 1699              		.loc 1 523 12 view .LVU406
 1700 002a 19F80530 		ldrb	r3, [r9, r5]	@ zero_extendqisi2
 1701 002e 3F2B     		cmp	r3, #63
 1702 0030 40F08980 		bne	.L117
 524:libscpi/src/utils.c ****             cmd_len -= 1;
 1703              		.loc 1 524 13 is_stmt 1 view .LVU407
 1704              	.LVL153:
 525:libscpi/src/utils.c ****             pattern_len -= 1;
 1705              		.loc 1 525 13 view .LVU408
 1706              		.loc 1 525 25 is_stmt 0 view .LVU409
 1707 0034 013F     		subs	r7, r7, #1
 1708              	.LVL154:
 1709              	.L116:
 526:libscpi/src/utils.c ****         } else {
ARM GAS  /tmp/ccT7RLP5.s 			page 46


 527:libscpi/src/utils.c ****             return FALSE;
 528:libscpi/src/utils.c ****         }
 529:libscpi/src/utils.c ****     }
 530:libscpi/src/utils.c **** 
 531:libscpi/src/utils.c ****     /* now support optional keywords in pattern style, e.g. [:MEASure]:VOLTage:DC? */
 532:libscpi/src/utils.c ****     if (pattern_ptr[0] == '[') { /* skip first '[' */
 1710              		.loc 1 532 5 is_stmt 1 view .LVU410
 1711              		.loc 1 532 8 is_stmt 0 view .LVU411
 1712 0036 3378     		ldrb	r3, [r6]	@ zero_extendqisi2
 1713 0038 5B2B     		cmp	r3, #91
 533:libscpi/src/utils.c ****         SKIP_PATTERN(1);
 1714              		.loc 1 533 9 is_stmt 1 view .LVU412
 1715              		.loc 1 533 9 view .LVU413
 1716              	.LVL155:
 1717              		.loc 1 533 9 is_stmt 0 view .LVU414
 1718 003a 04BF     		itt	eq
 1719 003c 0136     		addeq	r6, r6, #1
 1720              	.LVL156:
 1721              		.loc 1 533 9 is_stmt 1 view .LVU415
 1722              		.loc 1 533 9 is_stmt 0 view .LVU416
 1723 003e 07F1FF37 		addeq	r7, r7, #-1
 1724              	.LVL157:
 1725              		.loc 1 533 9 is_stmt 1 view .LVU417
 534:libscpi/src/utils.c ****         brackets++;
 1726              		.loc 1 534 9 view .LVU418
 535:libscpi/src/utils.c ****     }
 536:libscpi/src/utils.c ****     if (pattern_ptr[0] == ':') { /* skip first ':' */
 1727              		.loc 1 536 8 is_stmt 0 view .LVU419
 1728 0042 3378     		ldrb	r3, [r6]	@ zero_extendqisi2
 534:libscpi/src/utils.c ****         brackets++;
 1729              		.loc 1 534 17 view .LVU420
 1730 0044 0CBF     		ite	eq
 1731 0046 4FF0010A 		moveq	r10, #1
 509:libscpi/src/utils.c ****     int cmd_sep_pos = 0;
 1732              		.loc 1 509 9 view .LVU421
 1733 004a 4FF0000A 		movne	r10, #0
 1734              	.LVL158:
 1735              		.loc 1 536 5 is_stmt 1 view .LVU422
 1736              		.loc 1 536 8 is_stmt 0 view .LVU423
 1737 004e 3A2B     		cmp	r3, #58
 537:libscpi/src/utils.c ****         SKIP_PATTERN(1);
 1738              		.loc 1 537 9 is_stmt 1 view .LVU424
 1739              		.loc 1 537 9 view .LVU425
 1740              	.LVL159:
 538:libscpi/src/utils.c ****     }
 539:libscpi/src/utils.c **** 
 540:libscpi/src/utils.c ****     if (cmd_ptr[0] == ':') {
 1741              		.loc 1 540 8 is_stmt 0 view .LVU426
 1742 0050 99F80030 		ldrb	r3, [r9]	@ zero_extendqisi2
 537:libscpi/src/utils.c ****         SKIP_PATTERN(1);
 1743              		.loc 1 537 9 view .LVU427
 1744 0054 04BF     		itt	eq
 1745 0056 0136     		addeq	r6, r6, #1
 1746              	.LVL160:
 537:libscpi/src/utils.c ****         SKIP_PATTERN(1);
 1747              		.loc 1 537 9 is_stmt 1 view .LVU428
 537:libscpi/src/utils.c ****         SKIP_PATTERN(1);
ARM GAS  /tmp/ccT7RLP5.s 			page 47


 1748              		.loc 1 537 9 is_stmt 0 view .LVU429
 1749 0058 07F1FF37 		addeq	r7, r7, #-1
 1750              	.LVL161:
 537:libscpi/src/utils.c ****         SKIP_PATTERN(1);
 1751              		.loc 1 537 9 is_stmt 1 view .LVU430
 1752              		.loc 1 540 5 view .LVU431
 1753              		.loc 1 540 8 is_stmt 0 view .LVU432
 1754 005c 3A2B     		cmp	r3, #58
 1755 005e 08D1     		bne	.L120
 541:libscpi/src/utils.c ****         /* handle errornouse ":*IDN?" */
 542:libscpi/src/utils.c ****         if (cmd_len >= 2) {
 1756              		.loc 1 542 9 is_stmt 1 view .LVU433
 1757              		.loc 1 542 12 is_stmt 0 view .LVU434
 1758 0060 012D     		cmp	r5, #1
 1759 0062 06D9     		bls	.L120
 543:libscpi/src/utils.c ****             if (cmd_ptr[1] != '*') {
 1760              		.loc 1 543 13 is_stmt 1 view .LVU435
 1761              		.loc 1 543 16 is_stmt 0 view .LVU436
 1762 0064 99F80130 		ldrb	r3, [r9, #1]	@ zero_extendqisi2
 1763 0068 2A2B     		cmp	r3, #42
 1764 006a 6CD0     		beq	.L117
 544:libscpi/src/utils.c ****                 SKIP_CMD(1);
 1765              		.loc 1 544 17 is_stmt 1 view .LVU437
 1766              		.loc 1 544 17 view .LVU438
 1767 006c 09F10109 		add	r9, r9, #1
 1768              	.LVL162:
 1769              		.loc 1 544 17 view .LVU439
 1770 0070 013D     		subs	r5, r5, #1
 1771              	.LVL163:
 1772              		.loc 1 544 17 view .LVU440
 1773              	.L120:
 509:libscpi/src/utils.c ****     int cmd_sep_pos = 0;
 1774              		.loc 1 509 9 is_stmt 0 view .LVU441
 1775 0072 0023     		movs	r3, #0
 1776 0074 0393     		str	r3, [sp, #12]
 1777              	.LVL164:
 1778              	.L121:
 545:libscpi/src/utils.c ****             } else {
 546:libscpi/src/utils.c ****                 return FALSE;
 547:libscpi/src/utils.c ****             }
 548:libscpi/src/utils.c ****         }
 549:libscpi/src/utils.c ****     }
 550:libscpi/src/utils.c **** 
 551:libscpi/src/utils.c ****     while (1) {
 1779              		.loc 1 551 5 is_stmt 1 view .LVU442
 1780              	.LBB22:
 552:libscpi/src/utils.c ****         int pattern_sep_pos = patternSeparatorPos(pattern_ptr, pattern_len);
 1781              		.loc 1 552 9 view .LVU443
 1782              	.LBB23:
 1783              	.LBB24:
 444:libscpi/src/utils.c ****     if (separator == NULL) {
 1784              		.loc 1 444 24 is_stmt 0 view .LVU444
 1785 0076 694A     		ldr	r2, .L174
 1786 0078 3946     		mov	r1, r7
 1787 007a 3046     		mov	r0, r6
 1788              	.LBE24:
 1789              	.LBE23:
ARM GAS  /tmp/ccT7RLP5.s 			page 48


 1790              		.loc 1 552 31 view .LVU445
 1791 007c BB46     		mov	fp, r7
 1792              	.LVL165:
 1793              	.LBB26:
 1794              	.LBI23:
 442:libscpi/src/utils.c **** 
 1795              		.loc 1 442 15 is_stmt 1 view .LVU446
 1796              	.LBB25:
 444:libscpi/src/utils.c ****     if (separator == NULL) {
 1797              		.loc 1 444 5 view .LVU447
 444:libscpi/src/utils.c ****     if (separator == NULL) {
 1798              		.loc 1 444 24 is_stmt 0 view .LVU448
 1799 007e FFF7FEFF 		bl	strnpbrk
 1800              	.LVL166:
 445:libscpi/src/utils.c ****         return len;
 1801              		.loc 1 445 5 is_stmt 1 view .LVU449
 445:libscpi/src/utils.c ****         return len;
 1802              		.loc 1 445 8 is_stmt 0 view .LVU450
 1803 0082 08B1     		cbz	r0, .L122
 448:libscpi/src/utils.c ****     }
 1804              		.loc 1 448 9 is_stmt 1 view .LVU451
 1805              	.LVL167:
 448:libscpi/src/utils.c ****     }
 1806              		.loc 1 448 26 is_stmt 0 view .LVU452
 1807 0084 A0EB060B 		sub	fp, r0, r6
 1808              	.LVL168:
 1809              	.L122:
 448:libscpi/src/utils.c ****     }
 1810              		.loc 1 448 26 view .LVU453
 1811              	.LBE25:
 1812              	.LBE26:
 553:libscpi/src/utils.c **** 
 554:libscpi/src/utils.c ****         cmd_sep_pos = cmdSeparatorPos(cmd_ptr, cmd_len);
 1813              		.loc 1 554 9 is_stmt 1 view .LVU454
 1814              	.LBB27:
 1815              	.LBI27:
 458:libscpi/src/utils.c ****     char * separator = strnpbrk(cmd, len, ":?");
 1816              		.loc 1 458 15 view .LVU455
 1817              	.LBB28:
 459:libscpi/src/utils.c ****     size_t result;
 1818              		.loc 1 459 5 view .LVU456
 459:libscpi/src/utils.c ****     size_t result;
 1819              		.loc 1 459 24 is_stmt 0 view .LVU457
 1820 0088 654A     		ldr	r2, .L174+4
 1821 008a 2946     		mov	r1, r5
 1822 008c 4846     		mov	r0, r9
 1823 008e FFF7FEFF 		bl	strnpbrk
 1824              	.LVL169:
 460:libscpi/src/utils.c ****     if (separator == NULL) {
 1825              		.loc 1 460 5 is_stmt 1 view .LVU458
 461:libscpi/src/utils.c ****         result = len;
 1826              		.loc 1 461 5 view .LVU459
 461:libscpi/src/utils.c ****         result = len;
 1827              		.loc 1 461 8 is_stmt 0 view .LVU460
 1828 0092 0028     		cmp	r0, #0
 1829 0094 35D0     		beq	.L145
 464:libscpi/src/utils.c ****     }
ARM GAS  /tmp/ccT7RLP5.s 			page 49


 1830              		.loc 1 464 9 is_stmt 1 view .LVU461
 464:libscpi/src/utils.c ****     }
 1831              		.loc 1 464 28 is_stmt 0 view .LVU462
 1832 0096 A0EB0903 		sub	r3, r0, r9
 1833              	.LVL170:
 1834              	.L123:
 467:libscpi/src/utils.c **** }
 1835              		.loc 1 467 5 is_stmt 1 view .LVU463
 467:libscpi/src/utils.c **** }
 1836              		.loc 1 467 5 is_stmt 0 view .LVU464
 1837              	.LBE28:
 1838              	.LBE27:
 555:libscpi/src/utils.c **** 
 556:libscpi/src/utils.c ****         if ((pattern_sep_pos > 0) && pattern_ptr[pattern_sep_pos - 1] == '#') {
 1839              		.loc 1 556 9 is_stmt 1 view .LVU465
 1840              		.loc 1 556 12 is_stmt 0 view .LVU466
 1841 009a BBF1000F 		cmp	fp, #0
 1842 009e 34DD     		ble	.L147
 1843              		.loc 1 556 49 discriminator 1 view .LVU467
 1844 00a0 06EB0B02 		add	r2, r6, fp
 1845              		.loc 1 556 35 discriminator 1 view .LVU468
 1846 00a4 12F8012C 		ldrb	r2, [r2, #-1]	@ zero_extendqisi2
 1847 00a8 232A     		cmp	r2, #35
 1848 00aa 2ED1     		bne	.L147
 557:libscpi/src/utils.c ****             if (numbers && (numbers_idx < numbers_len)) {
 1849              		.loc 1 557 13 is_stmt 1 view .LVU469
 1850              		.loc 1 557 16 is_stmt 0 view .LVU470
 1851 00ac 049A     		ldr	r2, [sp, #16]
 1852 00ae 52B3     		cbz	r2, .L149
 1853              		.loc 1 557 25 discriminator 1 view .LVU471
 1854 00b0 039A     		ldr	r2, [sp, #12]
 1855 00b2 1099     		ldr	r1, [sp, #64]
 1856 00b4 8A42     		cmp	r2, r1
 1857 00b6 26D2     		bcs	.L149
 558:libscpi/src/utils.c ****                 number_ptr = numbers + numbers_idx;
 1858              		.loc 1 558 17 is_stmt 1 view .LVU472
 1859              		.loc 1 558 28 is_stmt 0 view .LVU473
 1860 00b8 DDE90312 		ldrd	r1, r2, [sp, #12]
 1861 00bc 02EB8102 		add	r2, r2, r1, lsl #2
 1862              	.LVL171:
 559:libscpi/src/utils.c ****                 *number_ptr = default_value; /* default value */
 1863              		.loc 1 559 17 is_stmt 1 view .LVU474
 1864              		.loc 1 559 29 is_stmt 0 view .LVU475
 1865 00c0 0499     		ldr	r1, [sp, #16]
 1866 00c2 0398     		ldr	r0, [sp, #12]
 1867 00c4 0C46     		mov	r4, r1
 1868 00c6 1199     		ldr	r1, [sp, #68]
 1869 00c8 44F82010 		str	r1, [r4, r0, lsl #2]
 1870              	.LVL172:
 1871              	.L125:
 560:libscpi/src/utils.c ****             } else {
 561:libscpi/src/utils.c ****                 number_ptr = NULL;
 562:libscpi/src/utils.c ****             }
 563:libscpi/src/utils.c ****             numbers_idx++;
 1872              		.loc 1 563 13 is_stmt 1 view .LVU476
 1873              		.loc 1 563 24 is_stmt 0 view .LVU477
 1874 00cc 0399     		ldr	r1, [sp, #12]
ARM GAS  /tmp/ccT7RLP5.s 			page 50


 1875 00ce 0131     		adds	r1, r1, #1
 1876 00d0 0391     		str	r1, [sp, #12]
 1877              	.LVL173:
 1878              	.L124:
 564:libscpi/src/utils.c ****         } else {
 565:libscpi/src/utils.c ****             number_ptr = NULL;
 566:libscpi/src/utils.c ****         }
 567:libscpi/src/utils.c **** 
 568:libscpi/src/utils.c ****         if (matchPattern(pattern_ptr, pattern_sep_pos, cmd_ptr, cmd_sep_pos, number_ptr)) {
 1879              		.loc 1 568 9 is_stmt 1 view .LVU478
 1880              		.loc 1 568 13 is_stmt 0 view .LVU479
 1881 00d2 0092     		str	r2, [sp]
 1882 00d4 5946     		mov	r1, fp
 1883 00d6 4A46     		mov	r2, r9
 1884              	.LVL174:
 1885              		.loc 1 568 13 view .LVU480
 1886 00d8 3046     		mov	r0, r6
 1887 00da 0593     		str	r3, [sp, #20]
 1888 00dc FFF7FEFF 		bl	matchPattern
 1889              	.LVL175:
 1890              		.loc 1 568 13 view .LVU481
 1891 00e0 06EB0B08 		add	r8, r6, fp
 1892 00e4 A7EB0B07 		sub	r7, r7, fp
 1893              		.loc 1 568 12 view .LVU482
 1894 00e8 0446     		mov	r4, r0
 1895 00ea 0028     		cmp	r0, #0
 1896 00ec 7DD0     		beq	.L126
 569:libscpi/src/utils.c ****             SKIP_PATTERN(pattern_sep_pos);
 1897              		.loc 1 569 13 is_stmt 1 view .LVU483
 1898              		.loc 1 569 13 view .LVU484
 1899              		.loc 1 569 13 view .LVU485
 1900              		.loc 1 569 13 view .LVU486
 570:libscpi/src/utils.c ****             SKIP_CMD(cmd_sep_pos);
 1901              		.loc 1 570 13 view .LVU487
 1902              		.loc 1 570 13 view .LVU488
 1903              	.LVL176:
 1904              		.loc 1 570 13 view .LVU489
 1905 00ee 059B     		ldr	r3, [sp, #20]
 1906 00f0 ED1A     		subs	r5, r5, r3
 1907              	.LVL177:
 1908              		.loc 1 570 13 view .LVU490
 571:libscpi/src/utils.c ****             result = TRUE;
 1909              		.loc 1 571 13 view .LVU491
 572:libscpi/src/utils.c **** 
 573:libscpi/src/utils.c ****             /* command is complete */
 574:libscpi/src/utils.c ****             if ((pattern_len == 0) && (cmd_len == 0)) {
 1910              		.loc 1 574 13 view .LVU492
 1911              		.loc 1 574 16 is_stmt 0 view .LVU493
 1912 00f2 67B9     		cbnz	r7, .L127
 1913              		.loc 1 574 36 discriminator 1 view .LVU494
 1914 00f4 B5FA85F4 		clz	r4, r5
 1915 00f8 6409     		lsrs	r4, r4, #5
 1916              	.LVL178:
 1917              	.L150:
 1918              		.loc 1 574 36 discriminator 1 view .LVU495
 1919              	.LBE22:
 575:libscpi/src/utils.c ****                 break;
ARM GAS  /tmp/ccT7RLP5.s 			page 51


 576:libscpi/src/utils.c ****             }
 577:libscpi/src/utils.c **** 
 578:libscpi/src/utils.c ****             /* pattern complete, but command not */
 579:libscpi/src/utils.c ****             if ((pattern_len == 0) && (cmd_len > 0)) {
 580:libscpi/src/utils.c ****                 result = FALSE;
 581:libscpi/src/utils.c ****                 break;
 582:libscpi/src/utils.c ****             }
 583:libscpi/src/utils.c **** 
 584:libscpi/src/utils.c ****             /* command complete, but pattern not */
 585:libscpi/src/utils.c ****             if (cmd_len == 0) {
 586:libscpi/src/utils.c ****                 /* verify all subsequent pattern parts are also optional */
 587:libscpi/src/utils.c ****                 while (pattern_len) {
 588:libscpi/src/utils.c ****                     pattern_sep_pos = patternSeparatorPos(pattern_ptr, pattern_len);
 589:libscpi/src/utils.c ****                     switch (pattern_ptr[pattern_sep_pos]) {
 590:libscpi/src/utils.c ****                         case '[':
 591:libscpi/src/utils.c ****                             brackets++;
 592:libscpi/src/utils.c ****                             break;
 593:libscpi/src/utils.c ****                         case ']':
 594:libscpi/src/utils.c ****                             brackets--;
 595:libscpi/src/utils.c ****                             break;
 596:libscpi/src/utils.c ****                         default:
 597:libscpi/src/utils.c ****                             break;
 598:libscpi/src/utils.c ****                     }
 599:libscpi/src/utils.c ****                     SKIP_PATTERN(pattern_sep_pos + 1);
 600:libscpi/src/utils.c ****                     if (brackets == 0) {
 601:libscpi/src/utils.c ****                         if ((pattern_len > 0) && (pattern_ptr[0] == '[')) {
 602:libscpi/src/utils.c ****                             continue;
 603:libscpi/src/utils.c ****                         } else {
 604:libscpi/src/utils.c ****                             break;
 605:libscpi/src/utils.c ****                         }
 606:libscpi/src/utils.c ****                     }
 607:libscpi/src/utils.c ****                 }
 608:libscpi/src/utils.c ****                 if (pattern_len != 0) {
 609:libscpi/src/utils.c ****                     result = FALSE;
 610:libscpi/src/utils.c ****                 }
 611:libscpi/src/utils.c ****                 break; /* exist optional keyword, command is complete */
 612:libscpi/src/utils.c ****             }
 613:libscpi/src/utils.c **** 
 614:libscpi/src/utils.c ****             /* both command and patter contains command separator at this position */
 615:libscpi/src/utils.c ****             if ((pattern_len > 0)
 616:libscpi/src/utils.c ****                     && ((pattern_ptr[0] == cmd_ptr[0])
 617:libscpi/src/utils.c ****                     && (pattern_ptr[0] == ':'))) {
 618:libscpi/src/utils.c ****                 SKIP_PATTERN(1);
 619:libscpi/src/utils.c ****                 SKIP_CMD(1);
 620:libscpi/src/utils.c ****             } else if ((pattern_len > 1)
 621:libscpi/src/utils.c ****                     && (pattern_ptr[1] == cmd_ptr[0])
 622:libscpi/src/utils.c ****                     && (pattern_ptr[0] == '[')
 623:libscpi/src/utils.c ****                     && (pattern_ptr[1] == ':')) {
 624:libscpi/src/utils.c ****                 SKIP_PATTERN(2); /* for skip '[' in "[:" */
 625:libscpi/src/utils.c ****                 SKIP_CMD(1);
 626:libscpi/src/utils.c ****                 brackets++;
 627:libscpi/src/utils.c ****             } else if ((pattern_len > 1)
 628:libscpi/src/utils.c ****                     && (pattern_ptr[1] == cmd_ptr[0])
 629:libscpi/src/utils.c ****                     && (pattern_ptr[0] == ']')
 630:libscpi/src/utils.c ****                     && (pattern_ptr[1] == ':')) {
 631:libscpi/src/utils.c ****                 SKIP_PATTERN(2); /* for skip ']' in "]:" */
 632:libscpi/src/utils.c ****                 SKIP_CMD(1);
ARM GAS  /tmp/ccT7RLP5.s 			page 52


 633:libscpi/src/utils.c ****                 brackets--;
 634:libscpi/src/utils.c ****             } else if ((pattern_len > 2)
 635:libscpi/src/utils.c ****                     && (pattern_ptr[2] == cmd_ptr[0])
 636:libscpi/src/utils.c ****                     && (pattern_ptr[0] == ']')
 637:libscpi/src/utils.c ****                     && (pattern_ptr[1] == '[')
 638:libscpi/src/utils.c ****                     && (pattern_ptr[2] == ':')) {
 639:libscpi/src/utils.c ****                 SKIP_PATTERN(3); /* for skip '][' in "][:" */
 640:libscpi/src/utils.c ****                 SKIP_CMD(1);
 641:libscpi/src/utils.c ****                 /* brackets++; */
 642:libscpi/src/utils.c ****                 /* brackets--; */
 643:libscpi/src/utils.c ****             } else {
 644:libscpi/src/utils.c ****                 result = FALSE;
 645:libscpi/src/utils.c ****                 break;
 646:libscpi/src/utils.c ****             }
 647:libscpi/src/utils.c ****         } else {
 648:libscpi/src/utils.c ****             SKIP_PATTERN(pattern_sep_pos);
 649:libscpi/src/utils.c ****             if ((pattern_ptr[0] == ']') && (pattern_ptr[1] == ':')) {
 650:libscpi/src/utils.c ****                 SKIP_PATTERN(2); /* for skip ']' in "]:" , pattern_ptr continue, while cmd_ptr rema
 651:libscpi/src/utils.c ****                 brackets--;
 652:libscpi/src/utils.c ****             } else if ((pattern_len > 2) && (pattern_ptr[0] == ']')
 653:libscpi/src/utils.c ****                     && (pattern_ptr[1] == '[')
 654:libscpi/src/utils.c ****                     && (pattern_ptr[2] == ':')) {
 655:libscpi/src/utils.c ****                 SKIP_PATTERN(3); /* for skip ']' in "][:" , pattern_ptr continue, while cmd_ptr rem
 656:libscpi/src/utils.c ****                 /* brackets++; */
 657:libscpi/src/utils.c ****                 /* brackets--; */
 658:libscpi/src/utils.c ****             } else {
 659:libscpi/src/utils.c ****                 result = FALSE;
 660:libscpi/src/utils.c ****                 break;
 661:libscpi/src/utils.c ****             }
 662:libscpi/src/utils.c ****         }
 663:libscpi/src/utils.c ****     }
 664:libscpi/src/utils.c **** 
 665:libscpi/src/utils.c ****     return result;
 666:libscpi/src/utils.c **** #undef SKIP_PATTERN
 667:libscpi/src/utils.c **** #undef SKIP_CMD
 668:libscpi/src/utils.c **** }
 1920              		.loc 1 668 1 view .LVU496
 1921 00fa 2046     		mov	r0, r4
 1922 00fc 07B0     		add	sp, sp, #28
 1923              	.LCFI47:
 1924              		.cfi_remember_state
 1925              		.cfi_def_cfa_offset 36
 1926              		@ sp needed
 1927 00fe BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 1928              	.LVL179:
 1929              	.L145:
 1930              	.LCFI48:
 1931              		.cfi_restore_state
 1932              	.LBB37:
 1933              	.LBB30:
 1934              	.LBB29:
 462:libscpi/src/utils.c ****     } else {
 1935              		.loc 1 462 16 view .LVU497
 1936 0102 2B46     		mov	r3, r5
 1937 0104 C9E7     		b	.L123
 1938              	.LVL180:
 1939              	.L149:
ARM GAS  /tmp/ccT7RLP5.s 			page 53


 462:libscpi/src/utils.c ****     } else {
 1940              		.loc 1 462 16 view .LVU498
 1941              	.LBE29:
 1942              	.LBE30:
 561:libscpi/src/utils.c ****             }
 1943              		.loc 1 561 28 view .LVU499
 1944 0106 0022     		movs	r2, #0
 1945 0108 E0E7     		b	.L125
 1946              	.L147:
 565:libscpi/src/utils.c ****         }
 1947              		.loc 1 565 24 view .LVU500
 1948 010a 0022     		movs	r2, #0
 1949 010c E1E7     		b	.L124
 1950              	.LVL181:
 1951              	.L127:
 579:libscpi/src/utils.c ****                 result = FALSE;
 1952              		.loc 1 579 13 is_stmt 1 view .LVU501
 585:libscpi/src/utils.c ****                 /* verify all subsequent pattern parts are also optional */
 1953              		.loc 1 585 13 view .LVU502
 585:libscpi/src/utils.c ****                 /* verify all subsequent pattern parts are also optional */
 1954              		.loc 1 585 16 is_stmt 0 view .LVU503
 1955 010e 4DBB     		cbnz	r5, .L129
 1956              	.LBB31:
 1957              	.LBB32:
 444:libscpi/src/utils.c ****     if (separator == NULL) {
 1958              		.loc 1 444 24 view .LVU504
 1959 0110 424A     		ldr	r2, .L174
 1960              	.LVL182:
 1961              	.L137:
 444:libscpi/src/utils.c ****     if (separator == NULL) {
 1962              		.loc 1 444 24 view .LVU505
 1963              	.LBE32:
 1964              	.LBE31:
 588:libscpi/src/utils.c ****                     switch (pattern_ptr[pattern_sep_pos]) {
 1965              		.loc 1 588 21 is_stmt 1 view .LVU506
 1966              	.LBB35:
 1967              	.LBB33:
 444:libscpi/src/utils.c ****     if (separator == NULL) {
 1968              		.loc 1 444 24 is_stmt 0 view .LVU507
 1969 0112 3946     		mov	r1, r7
 1970 0114 4046     		mov	r0, r8
 1971              	.LBE33:
 1972              	.LBE35:
 588:libscpi/src/utils.c ****                     switch (pattern_ptr[pattern_sep_pos]) {
 1973              		.loc 1 588 39 view .LVU508
 1974 0116 3D46     		mov	r5, r7
 1975              	.LVL183:
 1976              	.LBB36:
 1977              	.LBI31:
 442:libscpi/src/utils.c **** 
 1978              		.loc 1 442 15 is_stmt 1 view .LVU509
 1979              	.LBB34:
 444:libscpi/src/utils.c ****     if (separator == NULL) {
 1980              		.loc 1 444 5 view .LVU510
 444:libscpi/src/utils.c ****     if (separator == NULL) {
 1981              		.loc 1 444 24 is_stmt 0 view .LVU511
 1982 0118 FFF7FEFF 		bl	strnpbrk
ARM GAS  /tmp/ccT7RLP5.s 			page 54


 1983              	.LVL184:
 445:libscpi/src/utils.c ****         return len;
 1984              		.loc 1 445 5 is_stmt 1 view .LVU512
 445:libscpi/src/utils.c ****         return len;
 1985              		.loc 1 445 8 is_stmt 0 view .LVU513
 1986 011c 08B1     		cbz	r0, .L130
 448:libscpi/src/utils.c ****     }
 1987              		.loc 1 448 9 is_stmt 1 view .LVU514
 448:libscpi/src/utils.c ****     }
 1988              		.loc 1 448 26 is_stmt 0 view .LVU515
 1989 011e A0EB0805 		sub	r5, r0, r8
 1990              	.L130:
 1991              	.LVL185:
 448:libscpi/src/utils.c ****     }
 1992              		.loc 1 448 26 view .LVU516
 1993              	.LBE34:
 1994              	.LBE36:
 589:libscpi/src/utils.c ****                         case '[':
 1995              		.loc 1 589 21 is_stmt 1 view .LVU517
 589:libscpi/src/utils.c ****                         case '[':
 1996              		.loc 1 589 40 is_stmt 0 view .LVU518
 1997 0122 18F80530 		ldrb	r3, [r8, r5]	@ zero_extendqisi2
 589:libscpi/src/utils.c ****                         case '[':
 1998              		.loc 1 589 21 view .LVU519
 1999 0126 5B2B     		cmp	r3, #91
 2000 0128 0FD0     		beq	.L131
 2001 012a 5D2B     		cmp	r3, #93
 2002 012c 10D0     		beq	.L132
 2003              	.L133:
 599:libscpi/src/utils.c ****                     if (brackets == 0) {
 2004              		.loc 1 599 21 is_stmt 1 view .LVU520
 599:libscpi/src/utils.c ****                     if (brackets == 0) {
 2005              		.loc 1 599 21 view .LVU521
 2006 012e 0135     		adds	r5, r5, #1
 2007              	.LVL186:
 599:libscpi/src/utils.c ****                     if (brackets == 0) {
 2008              		.loc 1 599 21 is_stmt 0 view .LVU522
 2009 0130 A844     		add	r8, r8, r5
 2010              	.LVL187:
 599:libscpi/src/utils.c ****                     if (brackets == 0) {
 2011              		.loc 1 599 21 is_stmt 1 view .LVU523
 2012 0132 7F1B     		subs	r7, r7, r5
 2013              	.LVL188:
 599:libscpi/src/utils.c ****                     if (brackets == 0) {
 2014              		.loc 1 599 21 view .LVU524
 600:libscpi/src/utils.c ****                         if ((pattern_len > 0) && (pattern_ptr[0] == '[')) {
 2015              		.loc 1 600 21 view .LVU525
 600:libscpi/src/utils.c ****                         if ((pattern_len > 0) && (pattern_ptr[0] == '[')) {
 2016              		.loc 1 600 24 is_stmt 0 view .LVU526
 2017 0134 BAF1000F 		cmp	r10, #0
 2018 0138 0DD1     		bne	.L134
 601:libscpi/src/utils.c ****                             continue;
 2019              		.loc 1 601 25 is_stmt 1 view .LVU527
 601:libscpi/src/utils.c ****                             continue;
 2020              		.loc 1 601 28 is_stmt 0 view .LVU528
 2021 013a 002F     		cmp	r7, #0
 2022 013c 0EDD     		ble	.L135
ARM GAS  /tmp/ccT7RLP5.s 			page 55


 601:libscpi/src/utils.c ****                             continue;
 2023              		.loc 1 601 47 discriminator 1 view .LVU529
 2024 013e 98F80030 		ldrb	r3, [r8]	@ zero_extendqisi2
 2025 0142 5B2B     		cmp	r3, #91
 2026 0144 E5D0     		beq	.L137
 2027              	.LVL189:
 2028              	.L117:
 601:libscpi/src/utils.c ****                             continue;
 2029              		.loc 1 601 47 discriminator 1 view .LVU530
 2030              	.LBE37:
 527:libscpi/src/utils.c ****         }
 2031              		.loc 1 527 20 view .LVU531
 2032 0146 0024     		movs	r4, #0
 2033 0148 D7E7     		b	.L150
 2034              	.LVL190:
 2035              	.L131:
 2036              	.LBB38:
 591:libscpi/src/utils.c ****                             break;
 2037              		.loc 1 591 29 is_stmt 1 view .LVU532
 591:libscpi/src/utils.c ****                             break;
 2038              		.loc 1 591 37 is_stmt 0 view .LVU533
 2039 014a 0AF1010A 		add	r10, r10, #1
 2040              	.LVL191:
 592:libscpi/src/utils.c ****                         case ']':
 2041              		.loc 1 592 29 is_stmt 1 view .LVU534
 2042 014e EEE7     		b	.L133
 2043              	.L132:
 594:libscpi/src/utils.c ****                             break;
 2044              		.loc 1 594 29 view .LVU535
 594:libscpi/src/utils.c ****                             break;
 2045              		.loc 1 594 37 is_stmt 0 view .LVU536
 2046 0150 0AF1FF3A 		add	r10, r10, #-1
 2047              	.LVL192:
 595:libscpi/src/utils.c ****                         default:
 2048              		.loc 1 595 29 is_stmt 1 view .LVU537
 2049 0154 EBE7     		b	.L133
 2050              	.LVL193:
 2051              	.L134:
 587:libscpi/src/utils.c ****                     pattern_sep_pos = patternSeparatorPos(pattern_ptr, pattern_len);
 2052              		.loc 1 587 23 view .LVU538
 2053 0156 002F     		cmp	r7, #0
 2054 0158 DBD1     		bne	.L137
 2055 015a CEE7     		b	.L150
 2056              	.L135:
 2057              	.LVL194:
 608:libscpi/src/utils.c ****                     result = FALSE;
 2058              		.loc 1 608 17 view .LVU539
 608:libscpi/src/utils.c ****                     result = FALSE;
 2059              		.loc 1 608 20 is_stmt 0 view .LVU540
 2060 015c 0CBF     		ite	eq
 2061 015e 0124     		moveq	r4, #1
 2062 0160 0024     		movne	r4, #0
 2063 0162 CAE7     		b	.L150
 2064              	.LVL195:
 2065              	.L129:
 615:libscpi/src/utils.c ****                     && ((pattern_ptr[0] == cmd_ptr[0])
 2066              		.loc 1 615 13 is_stmt 1 view .LVU541
ARM GAS  /tmp/ccT7RLP5.s 			page 56


 615:libscpi/src/utils.c ****                     && ((pattern_ptr[0] == cmd_ptr[0])
 2067              		.loc 1 615 16 is_stmt 0 view .LVU542
 2068 0164 002F     		cmp	r7, #0
 2069 0166 EEDD     		ble	.L117
 616:libscpi/src/utils.c ****                     && (pattern_ptr[0] == ':'))) {
 2070              		.loc 1 616 37 view .LVU543
 2071 0168 98F80020 		ldrb	r2, [r8]	@ zero_extendqisi2
 570:libscpi/src/utils.c ****             result = TRUE;
 2072              		.loc 1 570 13 view .LVU544
 2073 016c 09EB0300 		add	r0, r9, r3
 616:libscpi/src/utils.c ****                     && (pattern_ptr[0] == ':'))) {
 2074              		.loc 1 616 51 view .LVU545
 2075 0170 19F80330 		ldrb	r3, [r9, r3]	@ zero_extendqisi2
 2076              	.LVL196:
 616:libscpi/src/utils.c ****                     && (pattern_ptr[0] == ':'))) {
 2077              		.loc 1 616 21 view .LVU546
 2078 0174 9A42     		cmp	r2, r3
 2079 0176 08D1     		bne	.L138
 617:libscpi/src/utils.c ****                 SKIP_PATTERN(1);
 2080              		.loc 1 617 21 view .LVU547
 2081 0178 3A2A     		cmp	r2, #58
 2082 017a 06D1     		bne	.L138
 618:libscpi/src/utils.c ****                 SKIP_CMD(1);
 2083              		.loc 1 618 17 is_stmt 1 view .LVU548
 618:libscpi/src/utils.c ****                 SKIP_CMD(1);
 2084              		.loc 1 618 17 view .LVU549
 618:libscpi/src/utils.c ****                 SKIP_CMD(1);
 2085              		.loc 1 618 17 is_stmt 0 view .LVU550
 2086 017c 08F10106 		add	r6, r8, #1
 2087              	.LVL197:
 618:libscpi/src/utils.c ****                 SKIP_CMD(1);
 2088              		.loc 1 618 17 is_stmt 1 view .LVU551
 618:libscpi/src/utils.c ****                 SKIP_CMD(1);
 2089              		.loc 1 618 17 is_stmt 0 view .LVU552
 2090 0180 013F     		subs	r7, r7, #1
 2091              	.LVL198:
 618:libscpi/src/utils.c ****                 SKIP_CMD(1);
 2092              		.loc 1 618 17 is_stmt 1 view .LVU553
 619:libscpi/src/utils.c ****             } else if ((pattern_len > 1)
 2093              		.loc 1 619 17 view .LVU554
 619:libscpi/src/utils.c ****             } else if ((pattern_len > 1)
 2094              		.loc 1 619 17 view .LVU555
 2095              	.L172:
 639:libscpi/src/utils.c ****                 SKIP_CMD(1);
 2096              		.loc 1 639 17 view .LVU556
 640:libscpi/src/utils.c ****                 /* brackets++; */
 2097              		.loc 1 640 17 view .LVU557
 640:libscpi/src/utils.c ****                 /* brackets++; */
 2098              		.loc 1 640 17 view .LVU558
 2099 0182 00F10109 		add	r9, r0, #1
 2100              	.LVL199:
 640:libscpi/src/utils.c ****                 /* brackets++; */
 2101              		.loc 1 640 17 view .LVU559
 2102 0186 013D     		subs	r5, r5, #1
 2103              	.LVL200:
 640:libscpi/src/utils.c ****                 /* brackets++; */
 2104              		.loc 1 640 17 view .LVU560
ARM GAS  /tmp/ccT7RLP5.s 			page 57


 2105 0188 75E7     		b	.L121
 2106              	.LVL201:
 2107              	.L138:
 620:libscpi/src/utils.c ****                     && (pattern_ptr[1] == cmd_ptr[0])
 2108              		.loc 1 620 20 view .LVU561
 620:libscpi/src/utils.c ****                     && (pattern_ptr[1] == cmd_ptr[0])
 2109              		.loc 1 620 23 is_stmt 0 view .LVU562
 2110 018a 012F     		cmp	r7, #1
 2111 018c DBD0     		beq	.L117
 621:libscpi/src/utils.c ****                     && (pattern_ptr[0] == '[')
 2112              		.loc 1 621 36 view .LVU563
 2113 018e 98F80140 		ldrb	r4, [r8, #1]	@ zero_extendqisi2
 621:libscpi/src/utils.c ****                     && (pattern_ptr[0] == '[')
 2114              		.loc 1 621 21 view .LVU564
 2115 0192 A342     		cmp	r3, r4
 2116 0194 19D1     		bne	.L140
 622:libscpi/src/utils.c ****                     && (pattern_ptr[1] == ':')) {
 2117              		.loc 1 622 21 view .LVU565
 2118 0196 5B2A     		cmp	r2, #91
 2119 0198 0AD1     		bne	.L141
 623:libscpi/src/utils.c ****                 SKIP_PATTERN(2); /* for skip '[' in "[:" */
 2120              		.loc 1 623 21 view .LVU566
 2121 019a 3A2B     		cmp	r3, #58
 2122 019c 15D1     		bne	.L140
 624:libscpi/src/utils.c ****                 SKIP_CMD(1);
 2123              		.loc 1 624 17 is_stmt 1 view .LVU567
 624:libscpi/src/utils.c ****                 SKIP_CMD(1);
 2124              		.loc 1 624 17 view .LVU568
 624:libscpi/src/utils.c ****                 SKIP_CMD(1);
 2125              		.loc 1 624 17 is_stmt 0 view .LVU569
 2126 019e 08F10206 		add	r6, r8, #2
 2127              	.LVL202:
 624:libscpi/src/utils.c ****                 SKIP_CMD(1);
 2128              		.loc 1 624 17 is_stmt 1 view .LVU570
 624:libscpi/src/utils.c ****                 SKIP_CMD(1);
 2129              		.loc 1 624 17 is_stmt 0 view .LVU571
 2130 01a2 023F     		subs	r7, r7, #2
 2131              	.LVL203:
 624:libscpi/src/utils.c ****                 SKIP_CMD(1);
 2132              		.loc 1 624 17 is_stmt 1 view .LVU572
 625:libscpi/src/utils.c ****                 brackets++;
 2133              		.loc 1 625 17 view .LVU573
 625:libscpi/src/utils.c ****                 brackets++;
 2134              		.loc 1 625 17 view .LVU574
 2135 01a4 00F10109 		add	r9, r0, #1
 2136              	.LVL204:
 625:libscpi/src/utils.c ****                 brackets++;
 2137              		.loc 1 625 17 view .LVU575
 2138 01a8 013D     		subs	r5, r5, #1
 2139              	.LVL205:
 625:libscpi/src/utils.c ****                 brackets++;
 2140              		.loc 1 625 17 view .LVU576
 626:libscpi/src/utils.c ****             } else if ((pattern_len > 1)
 2141              		.loc 1 626 17 view .LVU577
 626:libscpi/src/utils.c ****             } else if ((pattern_len > 1)
 2142              		.loc 1 626 25 is_stmt 0 view .LVU578
 2143 01aa 0AF1010A 		add	r10, r10, #1
ARM GAS  /tmp/ccT7RLP5.s 			page 58


 2144              	.LVL206:
 626:libscpi/src/utils.c ****             } else if ((pattern_len > 1)
 2145              		.loc 1 626 25 view .LVU579
 2146 01ae 62E7     		b	.L121
 2147              	.LVL207:
 2148              	.L141:
 627:libscpi/src/utils.c ****                     && (pattern_ptr[1] == cmd_ptr[0])
 2149              		.loc 1 627 20 is_stmt 1 view .LVU580
 629:libscpi/src/utils.c ****                     && (pattern_ptr[1] == ':')) {
 2150              		.loc 1 629 21 is_stmt 0 view .LVU581
 2151 01b0 5D2A     		cmp	r2, #93
 2152 01b2 0AD1     		bne	.L140
 630:libscpi/src/utils.c ****                 SKIP_PATTERN(2); /* for skip ']' in "]:" */
 2153              		.loc 1 630 21 view .LVU582
 2154 01b4 3A2B     		cmp	r3, #58
 2155 01b6 08D1     		bne	.L140
 631:libscpi/src/utils.c ****                 SKIP_CMD(1);
 2156              		.loc 1 631 17 is_stmt 1 view .LVU583
 631:libscpi/src/utils.c ****                 SKIP_CMD(1);
 2157              		.loc 1 631 17 view .LVU584
 631:libscpi/src/utils.c ****                 SKIP_CMD(1);
 2158              		.loc 1 631 17 is_stmt 0 view .LVU585
 2159 01b8 08F10206 		add	r6, r8, #2
 2160              	.LVL208:
 631:libscpi/src/utils.c ****                 SKIP_CMD(1);
 2161              		.loc 1 631 17 is_stmt 1 view .LVU586
 631:libscpi/src/utils.c ****                 SKIP_CMD(1);
 2162              		.loc 1 631 17 is_stmt 0 view .LVU587
 2163 01bc 023F     		subs	r7, r7, #2
 2164              	.LVL209:
 631:libscpi/src/utils.c ****                 SKIP_CMD(1);
 2165              		.loc 1 631 17 is_stmt 1 view .LVU588
 632:libscpi/src/utils.c ****                 brackets--;
 2166              		.loc 1 632 17 view .LVU589
 632:libscpi/src/utils.c ****                 brackets--;
 2167              		.loc 1 632 17 view .LVU590
 2168 01be 00F10109 		add	r9, r0, #1
 2169              	.LVL210:
 632:libscpi/src/utils.c ****                 brackets--;
 2170              		.loc 1 632 17 view .LVU591
 2171 01c2 013D     		subs	r5, r5, #1
 2172              	.LVL211:
 632:libscpi/src/utils.c ****                 brackets--;
 2173              		.loc 1 632 17 view .LVU592
 633:libscpi/src/utils.c ****             } else if ((pattern_len > 2)
 2174              		.loc 1 633 17 view .LVU593
 2175              	.L173:
 650:libscpi/src/utils.c ****                 brackets--;
 2176              		.loc 1 650 17 view .LVU594
 651:libscpi/src/utils.c ****             } else if ((pattern_len > 2) && (pattern_ptr[0] == ']')
 2177              		.loc 1 651 17 view .LVU595
 651:libscpi/src/utils.c ****             } else if ((pattern_len > 2) && (pattern_ptr[0] == ']')
 2178              		.loc 1 651 25 is_stmt 0 view .LVU596
 2179 01c4 0AF1FF3A 		add	r10, r10, #-1
 2180              	.LVL212:
 651:libscpi/src/utils.c ****             } else if ((pattern_len > 2) && (pattern_ptr[0] == ']')
 2181              		.loc 1 651 25 view .LVU597
ARM GAS  /tmp/ccT7RLP5.s 			page 59


 2182 01c8 55E7     		b	.L121
 2183              	.LVL213:
 2184              	.L140:
 634:libscpi/src/utils.c ****                     && (pattern_ptr[2] == cmd_ptr[0])
 2185              		.loc 1 634 20 is_stmt 1 view .LVU598
 634:libscpi/src/utils.c ****                     && (pattern_ptr[2] == cmd_ptr[0])
 2186              		.loc 1 634 23 is_stmt 0 view .LVU599
 2187 01ca 022F     		cmp	r7, #2
 2188 01cc BBD0     		beq	.L117
 635:libscpi/src/utils.c ****                     && (pattern_ptr[0] == ']')
 2189              		.loc 1 635 36 view .LVU600
 2190 01ce 98F80260 		ldrb	r6, [r8, #2]	@ zero_extendqisi2
 635:libscpi/src/utils.c ****                     && (pattern_ptr[0] == ']')
 2191              		.loc 1 635 21 view .LVU601
 2192 01d2 B342     		cmp	r3, r6
 2193 01d4 B7D1     		bne	.L117
 636:libscpi/src/utils.c ****                     && (pattern_ptr[1] == '[')
 2194              		.loc 1 636 21 view .LVU602
 2195 01d6 5D2A     		cmp	r2, #93
 2196 01d8 B5D1     		bne	.L117
 637:libscpi/src/utils.c ****                     && (pattern_ptr[2] == ':')) {
 2197              		.loc 1 637 21 view .LVU603
 2198 01da 5B2C     		cmp	r4, #91
 2199 01dc B3D1     		bne	.L117
 638:libscpi/src/utils.c ****                 SKIP_PATTERN(3); /* for skip '][' in "][:" */
 2200              		.loc 1 638 21 view .LVU604
 2201 01de 3A2B     		cmp	r3, #58
 2202 01e0 B1D1     		bne	.L117
 639:libscpi/src/utils.c ****                 SKIP_CMD(1);
 2203              		.loc 1 639 17 is_stmt 1 view .LVU605
 639:libscpi/src/utils.c ****                 SKIP_CMD(1);
 2204              		.loc 1 639 17 view .LVU606
 639:libscpi/src/utils.c ****                 SKIP_CMD(1);
 2205              		.loc 1 639 17 is_stmt 0 view .LVU607
 2206 01e2 08F10306 		add	r6, r8, #3
 2207              	.LVL214:
 639:libscpi/src/utils.c ****                 SKIP_CMD(1);
 2208              		.loc 1 639 17 is_stmt 1 view .LVU608
 639:libscpi/src/utils.c ****                 SKIP_CMD(1);
 2209              		.loc 1 639 17 is_stmt 0 view .LVU609
 2210 01e6 033F     		subs	r7, r7, #3
 2211              	.LVL215:
 639:libscpi/src/utils.c ****                 SKIP_CMD(1);
 2212              		.loc 1 639 17 view .LVU610
 2213 01e8 CBE7     		b	.L172
 2214              	.LVL216:
 2215              	.L126:
 648:libscpi/src/utils.c ****             if ((pattern_ptr[0] == ']') && (pattern_ptr[1] == ':')) {
 2216              		.loc 1 648 13 is_stmt 1 view .LVU611
 648:libscpi/src/utils.c ****             if ((pattern_ptr[0] == ']') && (pattern_ptr[1] == ':')) {
 2217              		.loc 1 648 13 view .LVU612
 648:libscpi/src/utils.c ****             if ((pattern_ptr[0] == ']') && (pattern_ptr[1] == ':')) {
 2218              		.loc 1 648 13 view .LVU613
 648:libscpi/src/utils.c ****             if ((pattern_ptr[0] == ']') && (pattern_ptr[1] == ':')) {
 2219              		.loc 1 648 13 view .LVU614
 649:libscpi/src/utils.c ****                 SKIP_PATTERN(2); /* for skip ']' in "]:" , pattern_ptr continue, while cmd_ptr rema
 2220              		.loc 1 649 13 view .LVU615
ARM GAS  /tmp/ccT7RLP5.s 			page 60


 649:libscpi/src/utils.c ****                 SKIP_PATTERN(2); /* for skip ']' in "]:" , pattern_ptr continue, while cmd_ptr rema
 2221              		.loc 1 649 16 is_stmt 0 view .LVU616
 2222 01ea 16F80B30 		ldrb	r3, [r6, fp]	@ zero_extendqisi2
 2223 01ee 5D2B     		cmp	r3, #93
 2224 01f0 A9D1     		bne	.L117
 649:libscpi/src/utils.c ****                 SKIP_PATTERN(2); /* for skip ']' in "]:" , pattern_ptr continue, while cmd_ptr rema
 2225              		.loc 1 649 56 discriminator 1 view .LVU617
 2226 01f2 98F80130 		ldrb	r3, [r8, #1]	@ zero_extendqisi2
 649:libscpi/src/utils.c ****                 SKIP_PATTERN(2); /* for skip ']' in "]:" , pattern_ptr continue, while cmd_ptr rema
 2227              		.loc 1 649 41 discriminator 1 view .LVU618
 2228 01f6 3A2B     		cmp	r3, #58
 2229 01f8 03D1     		bne	.L142
 650:libscpi/src/utils.c ****                 brackets--;
 2230              		.loc 1 650 17 is_stmt 1 view .LVU619
 650:libscpi/src/utils.c ****                 brackets--;
 2231              		.loc 1 650 17 view .LVU620
 650:libscpi/src/utils.c ****                 brackets--;
 2232              		.loc 1 650 17 is_stmt 0 view .LVU621
 2233 01fa 08F10206 		add	r6, r8, #2
 2234              	.LVL217:
 650:libscpi/src/utils.c ****                 brackets--;
 2235              		.loc 1 650 17 is_stmt 1 view .LVU622
 650:libscpi/src/utils.c ****                 brackets--;
 2236              		.loc 1 650 17 is_stmt 0 view .LVU623
 2237 01fe 023F     		subs	r7, r7, #2
 2238              	.LVL218:
 650:libscpi/src/utils.c ****                 brackets--;
 2239              		.loc 1 650 17 view .LVU624
 2240 0200 E0E7     		b	.L173
 2241              	.LVL219:
 2242              	.L142:
 652:libscpi/src/utils.c ****                     && (pattern_ptr[1] == '[')
 2243              		.loc 1 652 20 is_stmt 1 view .LVU625
 652:libscpi/src/utils.c ****                     && (pattern_ptr[1] == '[')
 2244              		.loc 1 652 23 is_stmt 0 view .LVU626
 2245 0202 022F     		cmp	r7, #2
 2246 0204 9FDD     		ble	.L117
 653:libscpi/src/utils.c ****                     && (pattern_ptr[2] == ':')) {
 2247              		.loc 1 653 21 view .LVU627
 2248 0206 5B2B     		cmp	r3, #91
 2249 0208 9DD1     		bne	.L117
 654:libscpi/src/utils.c ****                 SKIP_PATTERN(3); /* for skip ']' in "][:" , pattern_ptr continue, while cmd_ptr rem
 2250              		.loc 1 654 21 view .LVU628
 2251 020a 98F80230 		ldrb	r3, [r8, #2]	@ zero_extendqisi2
 2252 020e 3A2B     		cmp	r3, #58
 2253 0210 99D1     		bne	.L117
 655:libscpi/src/utils.c ****                 /* brackets++; */
 2254              		.loc 1 655 17 is_stmt 1 view .LVU629
 655:libscpi/src/utils.c ****                 /* brackets++; */
 2255              		.loc 1 655 17 view .LVU630
 655:libscpi/src/utils.c ****                 /* brackets++; */
 2256              		.loc 1 655 17 is_stmt 0 view .LVU631
 2257 0212 08F10306 		add	r6, r8, #3
 2258              	.LVL220:
 655:libscpi/src/utils.c ****                 /* brackets++; */
 2259              		.loc 1 655 17 is_stmt 1 view .LVU632
 655:libscpi/src/utils.c ****                 /* brackets++; */
ARM GAS  /tmp/ccT7RLP5.s 			page 61


 2260              		.loc 1 655 17 is_stmt 0 view .LVU633
 2261 0216 033F     		subs	r7, r7, #3
 2262              	.LVL221:
 655:libscpi/src/utils.c ****                 /* brackets++; */
 2263              		.loc 1 655 17 is_stmt 1 view .LVU634
 2264 0218 2DE7     		b	.L121
 2265              	.L175:
 2266 021a 00BF     		.align	2
 2267              	.L174:
 2268 021c 00000000 		.word	.LC3
 2269 0220 05000000 		.word	.LC4
 2270              	.LBE38:
 2271              		.cfi_endproc
 2272              	.LFE25:
 2274              		.section	.text.composeCompoundCommand,"ax",%progbits
 2275              		.align	1
 2276              		.global	composeCompoundCommand
 2277              		.hidden	composeCompoundCommand
 2278              		.syntax unified
 2279              		.thumb
 2280              		.thumb_func
 2281              		.fpu fpv4-sp-d16
 2283              	composeCompoundCommand:
 2284              	.LVL222:
 2285              	.LFB26:
 669:libscpi/src/utils.c **** 
 670:libscpi/src/utils.c **** /**
 671:libscpi/src/utils.c ****  * Compose command from previous command anc current command
 672:libscpi/src/utils.c ****  *
 673:libscpi/src/utils.c ****  * @param prev pointer to previous command
 674:libscpi/src/utils.c ****  * @param current pointer of current command
 675:libscpi/src/utils.c ****  *
 676:libscpi/src/utils.c ****  * prev and current should be in the same memory buffer
 677:libscpi/src/utils.c ****  */
 678:libscpi/src/utils.c **** scpi_bool_t composeCompoundCommand(const scpi_token_t * prev, scpi_token_t * current) {
 2286              		.loc 1 678 87 view -0
 2287              		.cfi_startproc
 2288              		@ args = 0, pretend = 0, frame = 0
 2289              		@ frame_needed = 0, uses_anonymous_args = 0
 679:libscpi/src/utils.c ****     size_t i;
 2290              		.loc 1 679 5 view .LVU636
 680:libscpi/src/utils.c **** 
 681:libscpi/src/utils.c ****     /* Invalid input */
 682:libscpi/src/utils.c ****     if (current == NULL || current->ptr == NULL || current->len == 0)
 2291              		.loc 1 682 5 view .LVU637
 678:libscpi/src/utils.c ****     size_t i;
 2292              		.loc 1 678 87 is_stmt 0 view .LVU638
 2293 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 2294              	.LCFI49:
 2295              		.cfi_def_cfa_offset 24
 2296              		.cfi_offset 3, -24
 2297              		.cfi_offset 4, -20
 2298              		.cfi_offset 5, -16
 2299              		.cfi_offset 6, -12
 2300              		.cfi_offset 7, -8
 2301              		.cfi_offset 14, -4
 678:libscpi/src/utils.c ****     size_t i;
ARM GAS  /tmp/ccT7RLP5.s 			page 62


 2302              		.loc 1 678 87 view .LVU639
 2303 0002 0646     		mov	r6, r0
 2304              		.loc 1 682 8 view .LVU640
 2305 0004 C1B1     		cbz	r1, .L180
 2306              		.loc 1 682 35 discriminator 1 view .LVU641
 2307 0006 4D68     		ldr	r5, [r1, #4]
 2308              		.loc 1 682 25 discriminator 1 view .LVU642
 2309 0008 C5B1     		cbz	r5, .L181
 2310              		.loc 1 682 59 discriminator 2 view .LVU643
 2311 000a 8B68     		ldr	r3, [r1, #8]
 2312              		.loc 1 682 49 discriminator 2 view .LVU644
 2313 000c C3B1     		cbz	r3, .L182
 683:libscpi/src/utils.c ****         return FALSE;
 684:libscpi/src/utils.c **** 
 685:libscpi/src/utils.c ****     /* no previous command - nothing to do*/
 686:libscpi/src/utils.c ****     if (prev->ptr == NULL || prev->len == 0)
 2314              		.loc 1 686 5 is_stmt 1 view .LVU645
 2315              		.loc 1 686 13 is_stmt 0 view .LVU646
 2316 000e 4068     		ldr	r0, [r0, #4]
 2317              	.LVL223:
 2318              		.loc 1 686 8 view .LVU647
 2319 0010 80B1     		cbz	r0, .L189
 2320              		.loc 1 686 34 discriminator 1 view .LVU648
 2321 0012 B468     		ldr	r4, [r6, #8]
 2322              		.loc 1 686 27 discriminator 1 view .LVU649
 2323 0014 74B1     		cbz	r4, .L189
 687:libscpi/src/utils.c ****         return TRUE;
 688:libscpi/src/utils.c **** 
 689:libscpi/src/utils.c ****     /* Common command or command root - nothing to do */
 690:libscpi/src/utils.c ****     if (current->ptr[0] == '*' || current->ptr[0] == ':')
 2324              		.loc 1 690 5 is_stmt 1 view .LVU650
 2325              		.loc 1 690 8 is_stmt 0 view .LVU651
 2326 0016 2A78     		ldrb	r2, [r5]	@ zero_extendqisi2
 2327 0018 02F0EF02 		and	r2, r2, #239
 2328 001c 2A2A     		cmp	r2, #42
 2329 001e 09D0     		beq	.L189
 691:libscpi/src/utils.c ****         return TRUE;
 692:libscpi/src/utils.c **** 
 693:libscpi/src/utils.c ****     /* Previsou command was common command - nothing to do */
 694:libscpi/src/utils.c ****     if (prev->ptr[0] == '*')
 2330              		.loc 1 694 5 is_stmt 1 view .LVU652
 2331              		.loc 1 694 8 is_stmt 0 view .LVU653
 2332 0020 0278     		ldrb	r2, [r0]	@ zero_extendqisi2
 2333 0022 2A2A     		cmp	r2, #42
 2334 0024 06D0     		beq	.L189
 2335              	.L179:
 2336              	.LVL224:
 695:libscpi/src/utils.c ****         return TRUE;
 696:libscpi/src/utils.c **** 
 697:libscpi/src/utils.c ****     /* Find last occurence of ':' */
 698:libscpi/src/utils.c ****     for (i = prev->len; i > 0; i--) {
 699:libscpi/src/utils.c ****         if (prev->ptr[i - 1] == ':') {
 2337              		.loc 1 699 9 is_stmt 1 view .LVU654
 2338 0026 2246     		mov	r2, r4
 2339              		.loc 1 699 22 is_stmt 0 view .LVU655
 2340 0028 013C     		subs	r4, r4, #1
 2341              	.LVL225:
ARM GAS  /tmp/ccT7RLP5.s 			page 63


 2342              		.loc 1 699 12 view .LVU656
 2343 002a 075D     		ldrb	r7, [r0, r4]	@ zero_extendqisi2
 2344 002c 3A2F     		cmp	r7, #58
 2345 002e 09D0     		beq	.L178
 2346              	.LVL226:
 698:libscpi/src/utils.c ****         if (prev->ptr[i - 1] == ':') {
 2347              		.loc 1 698 25 is_stmt 1 discriminator 1 view .LVU657
 698:libscpi/src/utils.c ****         if (prev->ptr[i - 1] == ':') {
 2348              		.loc 1 698 5 is_stmt 0 discriminator 1 view .LVU658
 2349 0030 002C     		cmp	r4, #0
 2350 0032 F8D1     		bne	.L179
 2351              	.LVL227:
 2352              	.L189:
 700:libscpi/src/utils.c ****             break;
 701:libscpi/src/utils.c ****         }
 702:libscpi/src/utils.c ****     }
 703:libscpi/src/utils.c **** 
 704:libscpi/src/utils.c ****     /* Previous command was simple command - nothing to do*/
 705:libscpi/src/utils.c ****     if (i == 0)
 706:libscpi/src/utils.c ****         return TRUE;
 707:libscpi/src/utils.c **** 
 708:libscpi/src/utils.c ****     current->ptr -= i;
 709:libscpi/src/utils.c ****     current->len += i;
 710:libscpi/src/utils.c ****     memmove(current->ptr, prev->ptr, i);
 711:libscpi/src/utils.c ****     return TRUE;
 2353              		.loc 1 711 5 is_stmt 1 view .LVU659
 2354              		.loc 1 711 12 is_stmt 0 view .LVU660
 2355 0034 0120     		movs	r0, #1
 2356 0036 00E0     		b	.L188
 2357              	.LVL228:
 2358              	.L180:
 683:libscpi/src/utils.c **** 
 2359              		.loc 1 683 16 view .LVU661
 2360 0038 0846     		mov	r0, r1
 2361              	.LVL229:
 2362              	.L188:
 712:libscpi/src/utils.c **** }
 2363              		.loc 1 712 1 view .LVU662
 2364 003a F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 2365              	.LVL230:
 2366              	.L181:
 683:libscpi/src/utils.c **** 
 2367              		.loc 1 683 16 view .LVU663
 2368 003c 2846     		mov	r0, r5
 2369              	.LVL231:
 683:libscpi/src/utils.c **** 
 2370              		.loc 1 683 16 view .LVU664
 2371 003e FCE7     		b	.L188
 2372              	.LVL232:
 2373              	.L182:
 683:libscpi/src/utils.c **** 
 2374              		.loc 1 683 16 view .LVU665
 2375 0040 1846     		mov	r0, r3
 2376              	.LVL233:
 683:libscpi/src/utils.c **** 
 2377              		.loc 1 683 16 view .LVU666
 2378 0042 FAE7     		b	.L188
ARM GAS  /tmp/ccT7RLP5.s 			page 64


 2379              	.LVL234:
 2380              	.L178:
 705:libscpi/src/utils.c ****         return TRUE;
 2381              		.loc 1 705 5 is_stmt 1 view .LVU667
 708:libscpi/src/utils.c ****     current->len += i;
 2382              		.loc 1 708 5 view .LVU668
 708:libscpi/src/utils.c ****     current->len += i;
 2383              		.loc 1 708 18 is_stmt 0 view .LVU669
 2384 0044 A81A     		subs	r0, r5, r2
 709:libscpi/src/utils.c ****     memmove(current->ptr, prev->ptr, i);
 2385              		.loc 1 709 18 view .LVU670
 2386 0046 1344     		add	r3, r3, r2
 708:libscpi/src/utils.c ****     current->len += i;
 2387              		.loc 1 708 18 view .LVU671
 2388 0048 4860     		str	r0, [r1, #4]
 709:libscpi/src/utils.c ****     memmove(current->ptr, prev->ptr, i);
 2389              		.loc 1 709 5 is_stmt 1 view .LVU672
 709:libscpi/src/utils.c ****     memmove(current->ptr, prev->ptr, i);
 2390              		.loc 1 709 18 is_stmt 0 view .LVU673
 2391 004a 8B60     		str	r3, [r1, #8]
 710:libscpi/src/utils.c ****     return TRUE;
 2392              		.loc 1 710 5 is_stmt 1 view .LVU674
 2393 004c 7168     		ldr	r1, [r6, #4]
 2394              	.LVL235:
 710:libscpi/src/utils.c ****     return TRUE;
 2395              		.loc 1 710 5 is_stmt 0 view .LVU675
 2396 004e FFF7FEFF 		bl	memmove
 2397              	.LVL236:
 710:libscpi/src/utils.c ****     return TRUE;
 2398              		.loc 1 710 5 view .LVU676
 2399 0052 EFE7     		b	.L189
 2400              		.cfi_endproc
 2401              	.LFE26:
 2403              		.section	.rodata.SCPI_dtostre.str1.1,"aMS",%progbits,1
 2404              	.LC5:
 2405 0000 4E414E00 		.ascii	"NAN\000"
 2406              	.LC6:
 2407 0004 6E616E00 		.ascii	"nan\000"
 2408              	.LC7:
 2409 0008 494E4600 		.ascii	"INF\000"
 2410              	.LC8:
 2411 000c 696E6600 		.ascii	"inf\000"
 2412              		.global	__aeabi_dcmpun
 2413              		.global	__aeabi_dcmpgt
 2414              		.global	__aeabi_dcmplt
 2415              		.global	__aeabi_dcmpeq
 2416              		.global	__aeabi_ddiv
 2417              		.global	__aeabi_dadd
 2418              		.global	__aeabi_dmul
 2419              		.global	__aeabi_d2iz
 2420              		.section	.text.SCPI_dtostre,"ax",%progbits
 2421              		.align	1
 2422              		.global	SCPI_dtostre
 2423              		.syntax unified
 2424              		.thumb
 2425              		.thumb_func
 2426              		.fpu fpv4-sp-d16
ARM GAS  /tmp/ccT7RLP5.s 			page 65


 2428              	SCPI_dtostre:
 2429              	.LVL237:
 2430              	.LFB28:
 713:libscpi/src/utils.c **** 
 714:libscpi/src/utils.c **** 
 715:libscpi/src/utils.c **** 
 716:libscpi/src/utils.c **** #if !HAVE_STRNLEN
 717:libscpi/src/utils.c **** /* use FreeBSD strnlen */
 718:libscpi/src/utils.c **** 
 719:libscpi/src/utils.c **** /*-
 720:libscpi/src/utils.c ****  * Copyright (c) 2009 David Schultz <das@FreeBSD.org>
 721:libscpi/src/utils.c ****  * All rights reserved.
 722:libscpi/src/utils.c ****  */
 723:libscpi/src/utils.c **** size_t
 724:libscpi/src/utils.c **** BSD_strnlen(const char *s, size_t maxlen) {
 725:libscpi/src/utils.c ****     size_t len;
 726:libscpi/src/utils.c **** 
 727:libscpi/src/utils.c ****     for (len = 0; len < maxlen; len++, s++) {
 728:libscpi/src/utils.c ****         if (!*s)
 729:libscpi/src/utils.c ****             break;
 730:libscpi/src/utils.c ****     }
 731:libscpi/src/utils.c ****     return (len);
 732:libscpi/src/utils.c **** }
 733:libscpi/src/utils.c **** #endif
 734:libscpi/src/utils.c **** 
 735:libscpi/src/utils.c **** #if !HAVE_STRNCASECMP && !HAVE_STRNICMP
 736:libscpi/src/utils.c **** 
 737:libscpi/src/utils.c **** int OUR_strncasecmp(const char *s1, const char *s2, size_t n) {
 738:libscpi/src/utils.c ****     unsigned char c1, c2;
 739:libscpi/src/utils.c **** 
 740:libscpi/src/utils.c ****     for (; n != 0; n--) {
 741:libscpi/src/utils.c ****         c1 = tolower((unsigned char) *s1++);
 742:libscpi/src/utils.c ****         c2 = tolower((unsigned char) *s2++);
 743:libscpi/src/utils.c ****         if (c1 != c2) {
 744:libscpi/src/utils.c ****             return c1 - c2;
 745:libscpi/src/utils.c ****         }
 746:libscpi/src/utils.c ****         if (c1 == '\0') {
 747:libscpi/src/utils.c ****             return 0;
 748:libscpi/src/utils.c ****         }
 749:libscpi/src/utils.c ****     }
 750:libscpi/src/utils.c ****     return 0;
 751:libscpi/src/utils.c **** }
 752:libscpi/src/utils.c **** #endif
 753:libscpi/src/utils.c **** 
 754:libscpi/src/utils.c **** #if USE_MEMORY_ALLOCATION_FREE && !HAVE_STRNDUP
 755:libscpi/src/utils.c **** char *OUR_strndup(const char *s, size_t n) {
 756:libscpi/src/utils.c ****     size_t len = SCPIDEFINE_strnlen(s, n);
 757:libscpi/src/utils.c ****     char * result = malloc(len + 1);
 758:libscpi/src/utils.c ****     if (!result) {
 759:libscpi/src/utils.c ****         return NULL;
 760:libscpi/src/utils.c ****     }
 761:libscpi/src/utils.c ****     memcpy(result, s, len);
 762:libscpi/src/utils.c ****     result[len] = '\0';
 763:libscpi/src/utils.c ****     return result;
 764:libscpi/src/utils.c **** }
 765:libscpi/src/utils.c **** #endif
 766:libscpi/src/utils.c **** 
ARM GAS  /tmp/ccT7RLP5.s 			page 66


 767:libscpi/src/utils.c **** #if USE_DEVICE_DEPENDENT_ERROR_INFORMATION && !USE_MEMORY_ALLOCATION_FREE
 768:libscpi/src/utils.c **** 
 769:libscpi/src/utils.c **** /**
 770:libscpi/src/utils.c ****  * Initialize heap structure
 771:libscpi/src/utils.c ****  * @param heap - pointer to manual allocated heap buffer
 772:libscpi/src/utils.c ****  * @param error_info_heap - buffer for the heap
 773:libscpi/src/utils.c ****  * @param error_info_heap_length - length of the heap
 774:libscpi/src/utils.c ****  */
 775:libscpi/src/utils.c **** void scpiheap_init(scpi_error_info_heap_t * heap, char * error_info_heap, size_t error_info_heap_le
 776:libscpi/src/utils.c **** {
 777:libscpi/src/utils.c ****     heap->data = error_info_heap;
 778:libscpi/src/utils.c ****     heap->wr = 0;
 779:libscpi/src/utils.c ****     heap->size = error_info_heap_length;
 780:libscpi/src/utils.c ****     heap->count = heap->size;
 781:libscpi/src/utils.c ****     memset(heap->data, 0, heap->size);
 782:libscpi/src/utils.c **** }
 783:libscpi/src/utils.c **** 
 784:libscpi/src/utils.c **** /**
 785:libscpi/src/utils.c ****  * Duplicate string if "strdup" ("malloc/free") not supported on system.
 786:libscpi/src/utils.c ****  * Allocate space in heap if it possible
 787:libscpi/src/utils.c ****  *
 788:libscpi/src/utils.c ****  * @param heap - pointer to manual allocated heap buffer
 789:libscpi/src/utils.c ****  * @param s - current pointer of duplication string
 790:libscpi/src/utils.c ****  * @return - pointer of duplicated string or NULL, if duplicate is not possible.
 791:libscpi/src/utils.c ****  */
 792:libscpi/src/utils.c **** char * scpiheap_strndup(scpi_error_info_heap_t * heap, const char *s, size_t n) {
 793:libscpi/src/utils.c ****     if (!s || !heap || !heap->size) {
 794:libscpi/src/utils.c ****         return NULL;
 795:libscpi/src/utils.c ****     }
 796:libscpi/src/utils.c **** 
 797:libscpi/src/utils.c ****     if (heap->data[heap->wr] != '\0') {
 798:libscpi/src/utils.c ****         return NULL;
 799:libscpi/src/utils.c ****     }
 800:libscpi/src/utils.c **** 
 801:libscpi/src/utils.c ****     if (*s == '\0') {
 802:libscpi/src/utils.c ****         return NULL;
 803:libscpi/src/utils.c ****     }
 804:libscpi/src/utils.c **** 
 805:libscpi/src/utils.c ****     size_t len = SCPIDEFINE_strnlen(s, n) + 1; /* additional '\0' at end */
 806:libscpi/src/utils.c ****     if (len > heap->count) {
 807:libscpi/src/utils.c ****         return NULL;
 808:libscpi/src/utils.c ****     }
 809:libscpi/src/utils.c ****     const char * ptrs = s;
 810:libscpi/src/utils.c ****     char * head = &heap->data[heap->wr];
 811:libscpi/src/utils.c ****     size_t rem = heap->size - (&heap->data[heap->wr] - heap->data);
 812:libscpi/src/utils.c **** 
 813:libscpi/src/utils.c ****     if (len >= rem) {
 814:libscpi/src/utils.c ****         memcpy(&heap->data[heap->wr], s, rem);
 815:libscpi/src/utils.c ****         len = len - rem;
 816:libscpi/src/utils.c ****         ptrs += rem;
 817:libscpi/src/utils.c ****         heap->wr = 0;
 818:libscpi/src/utils.c ****         heap->count -= rem;
 819:libscpi/src/utils.c ****     }
 820:libscpi/src/utils.c **** 
 821:libscpi/src/utils.c ****     memcpy(&heap->data[heap->wr], ptrs, len);
 822:libscpi/src/utils.c ****     heap->wr += len;
 823:libscpi/src/utils.c ****     heap->count -= len;
ARM GAS  /tmp/ccT7RLP5.s 			page 67


 824:libscpi/src/utils.c **** 
 825:libscpi/src/utils.c ****     /* ensure '\0' a the end */
 826:libscpi/src/utils.c ****     if (heap->wr > 0) {
 827:libscpi/src/utils.c ****         heap->data[heap->wr - 1] = '\0';
 828:libscpi/src/utils.c ****     } else {
 829:libscpi/src/utils.c ****         heap->data[heap->size - 1] = '\0';
 830:libscpi/src/utils.c ****     }
 831:libscpi/src/utils.c ****     return head;
 832:libscpi/src/utils.c **** }
 833:libscpi/src/utils.c **** 
 834:libscpi/src/utils.c **** /**
 835:libscpi/src/utils.c ****  * Return pointers and lengths two parts of string in the circular buffer from heap
 836:libscpi/src/utils.c ****  *
 837:libscpi/src/utils.c ****  * @param heap - pointer to manual allocated heap buffer
 838:libscpi/src/utils.c ****  * @param s - pointer of duplicate string.
 839:libscpi/src/utils.c ****  * @return len1 - lenght of first part of string.
 840:libscpi/src/utils.c ****  * @return s2 - pointer of second part of string, if string splited .
 841:libscpi/src/utils.c ****  * @return len2 - lenght of second part of string.
 842:libscpi/src/utils.c ****  */
 843:libscpi/src/utils.c **** scpi_bool_t scpiheap_get_parts(scpi_error_info_heap_t * heap, const char * s, size_t * len1, const 
 844:libscpi/src/utils.c ****     if (!heap || !s || !len1 || !s2 || !len2) {
 845:libscpi/src/utils.c ****         return FALSE;
 846:libscpi/src/utils.c ****     }
 847:libscpi/src/utils.c **** 
 848:libscpi/src/utils.c ****     if (*s == '\0') {
 849:libscpi/src/utils.c ****         return FALSE;
 850:libscpi/src/utils.c ****     }
 851:libscpi/src/utils.c **** 
 852:libscpi/src/utils.c ****     *len1 = 0;
 853:libscpi/src/utils.c ****     size_t rem = heap->size - (s - heap->data);
 854:libscpi/src/utils.c ****     *len1 = strnlen(s, rem);
 855:libscpi/src/utils.c **** 
 856:libscpi/src/utils.c ****     if (&s[*len1 - 1] == &heap->data[heap->size - 1]) {
 857:libscpi/src/utils.c ****         *s2 = heap->data;
 858:libscpi/src/utils.c ****         *len2 = strnlen(*s2, heap->size);
 859:libscpi/src/utils.c ****     } else {
 860:libscpi/src/utils.c ****         *s2 = NULL;
 861:libscpi/src/utils.c ****         *len2 = 0;
 862:libscpi/src/utils.c ****     }
 863:libscpi/src/utils.c ****     return TRUE;
 864:libscpi/src/utils.c **** }
 865:libscpi/src/utils.c **** 
 866:libscpi/src/utils.c **** /**
 867:libscpi/src/utils.c ****  * Frees space in heap, if "malloc/free" not supported on system, or nothing.
 868:libscpi/src/utils.c ****  *
 869:libscpi/src/utils.c ****  * @param heap - pointer to manual allocated heap buffer
 870:libscpi/src/utils.c ****  * @param s - pointer of duplicate string
 871:libscpi/src/utils.c ****  * @param rollback - backward write pointer in heap
 872:libscpi/src/utils.c ****  */
 873:libscpi/src/utils.c **** void scpiheap_free(scpi_error_info_heap_t * heap, char * s, scpi_bool_t rollback) {
 874:libscpi/src/utils.c **** 
 875:libscpi/src/utils.c ****     if (!s) return;
 876:libscpi/src/utils.c **** 
 877:libscpi/src/utils.c ****     char * data_add;
 878:libscpi/src/utils.c ****     size_t len[2];
 879:libscpi/src/utils.c **** 
 880:libscpi/src/utils.c ****     if (!scpiheap_get_parts(heap, s, &len[0], (const char **)&data_add, &len[1])) return;
ARM GAS  /tmp/ccT7RLP5.s 			page 68


 881:libscpi/src/utils.c **** 
 882:libscpi/src/utils.c ****     if (data_add) {
 883:libscpi/src/utils.c ****         len[1]++;
 884:libscpi/src/utils.c ****         memset(data_add, 0, len[1]);
 885:libscpi/src/utils.c ****         heap->count += len[1];
 886:libscpi/src/utils.c ****     } else {
 887:libscpi/src/utils.c ****         len[0]++;
 888:libscpi/src/utils.c ****     }
 889:libscpi/src/utils.c ****     memset(s, 0, len[0]);
 890:libscpi/src/utils.c ****     heap->count += len[0];
 891:libscpi/src/utils.c ****     if (heap->count == heap->size) {
 892:libscpi/src/utils.c ****         heap->wr = 0;
 893:libscpi/src/utils.c ****         return;
 894:libscpi/src/utils.c ****     }
 895:libscpi/src/utils.c ****     if (rollback) {
 896:libscpi/src/utils.c ****         size_t rb = len[0] + len[1];
 897:libscpi/src/utils.c ****         if (rb > heap->wr) {
 898:libscpi/src/utils.c ****             heap->wr += heap->size;
 899:libscpi/src/utils.c ****         }
 900:libscpi/src/utils.c ****         heap->wr -= rb;
 901:libscpi/src/utils.c ****     }
 902:libscpi/src/utils.c **** }
 903:libscpi/src/utils.c **** 
 904:libscpi/src/utils.c **** #endif
 905:libscpi/src/utils.c **** 
 906:libscpi/src/utils.c **** /*
 907:libscpi/src/utils.c ****  * Floating point to string conversion routines
 908:libscpi/src/utils.c ****  *
 909:libscpi/src/utils.c ****  * Copyright (C) 2002 Michael Ringgaard. All rights reserved.
 910:libscpi/src/utils.c ****  *
 911:libscpi/src/utils.c ****  * Redistribution and use in source and binary forms, with or without
 912:libscpi/src/utils.c ****  * modification, are permitted provided that the following conditions
 913:libscpi/src/utils.c ****  * are met:
 914:libscpi/src/utils.c ****  *
 915:libscpi/src/utils.c ****  * 1. Redistributions of source code must retain the above copyright
 916:libscpi/src/utils.c ****  *    notice, this list of conditions and the following disclaimer.
 917:libscpi/src/utils.c ****  * 2. Redistributions in binary form must reproduce the above copyright
 918:libscpi/src/utils.c ****  *    notice, this list of conditions and the following disclaimer in the
 919:libscpi/src/utils.c ****  *    documentation and/or other materials provided with the distribution.
 920:libscpi/src/utils.c ****  * 3. Neither the name of the project nor the names of its contributors
 921:libscpi/src/utils.c ****  *    may be used to endorse or promote products derived from this software
 922:libscpi/src/utils.c ****  *    without specific prior written permission.
 923:libscpi/src/utils.c ****  *
 924:libscpi/src/utils.c ****  * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 925:libscpi/src/utils.c ****  * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 926:libscpi/src/utils.c ****  * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
 927:libscpi/src/utils.c ****  * ARE DISCLAIMED.  IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE
 928:libscpi/src/utils.c ****  * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
 929:libscpi/src/utils.c ****  * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
 930:libscpi/src/utils.c ****  * OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
 931:libscpi/src/utils.c ****  * HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
 932:libscpi/src/utils.c ****  * LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
 933:libscpi/src/utils.c ****  * OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
 934:libscpi/src/utils.c ****  * SUCH DAMAGE.
 935:libscpi/src/utils.c ****  */
 936:libscpi/src/utils.c **** 
 937:libscpi/src/utils.c **** static char *scpi_ecvt(double arg, int ndigits, int *decpt, int *sign, char *buf, size_t bufsize) {
ARM GAS  /tmp/ccT7RLP5.s 			page 69


 938:libscpi/src/utils.c ****     int r1, r2;
 939:libscpi/src/utils.c ****     double fi, fj;
 940:libscpi/src/utils.c ****     int w1, w2;
 941:libscpi/src/utils.c **** 
 942:libscpi/src/utils.c ****     if (ndigits < 0) ndigits = 0;
 943:libscpi/src/utils.c ****     if (ndigits >= (int) (bufsize - 1)) ndigits = bufsize - 2;
 944:libscpi/src/utils.c **** 
 945:libscpi/src/utils.c ****     r2 = 0;
 946:libscpi/src/utils.c ****     *sign = 0;
 947:libscpi/src/utils.c ****     w1 = 0;
 948:libscpi/src/utils.c ****     if (arg < 0) {
 949:libscpi/src/utils.c ****         *sign = 1;
 950:libscpi/src/utils.c ****         arg = -arg;
 951:libscpi/src/utils.c ****     }
 952:libscpi/src/utils.c ****     frexp(arg, &r1);
 953:libscpi/src/utils.c ****     arg = modf(arg, &fi);
 954:libscpi/src/utils.c **** 
 955:libscpi/src/utils.c ****     if (fi != 0) {
 956:libscpi/src/utils.c ****         r1 = r1 * 308 / 1024 - ndigits;
 957:libscpi/src/utils.c ****         w2 = bufsize;
 958:libscpi/src/utils.c ****         while (r1 > 0) {
 959:libscpi/src/utils.c ****             fj = modf(fi / 10, &fi);
 960:libscpi/src/utils.c ****             r2++;
 961:libscpi/src/utils.c ****             r1--;
 962:libscpi/src/utils.c ****         }
 963:libscpi/src/utils.c ****         while (fi != 0) {
 964:libscpi/src/utils.c ****             fj = modf(fi / 10, &fi);
 965:libscpi/src/utils.c ****             buf[--w2] = (int) ((fj + .03) * 10) + '0';
 966:libscpi/src/utils.c ****             r2++;
 967:libscpi/src/utils.c ****         }
 968:libscpi/src/utils.c ****         while (w2 < (int) bufsize) buf[w1++] = buf[w2++];
 969:libscpi/src/utils.c ****     } else if (arg > 0) {
 970:libscpi/src/utils.c ****         while ((fj = arg * 10) < 1) {
 971:libscpi/src/utils.c ****             arg = fj;
 972:libscpi/src/utils.c ****             r2--;
 973:libscpi/src/utils.c ****         }
 974:libscpi/src/utils.c ****     }
 975:libscpi/src/utils.c ****     w2 = ndigits;
 976:libscpi/src/utils.c ****     *decpt = r2;
 977:libscpi/src/utils.c ****     if (w2 < 0) {
 978:libscpi/src/utils.c ****         buf[0] = '\0';
 979:libscpi/src/utils.c ****         return buf;
 980:libscpi/src/utils.c ****     }
 981:libscpi/src/utils.c ****     while (w1 <= w2 && w1 < (int) bufsize) {
 982:libscpi/src/utils.c ****         arg *= 10;
 983:libscpi/src/utils.c ****         arg = modf(arg, &fj);
 984:libscpi/src/utils.c ****         buf[w1++] = (int) fj + '0';
 985:libscpi/src/utils.c ****     }
 986:libscpi/src/utils.c ****     if (w2 >= (int) bufsize) {
 987:libscpi/src/utils.c ****         buf[bufsize - 1] = '\0';
 988:libscpi/src/utils.c ****         return buf;
 989:libscpi/src/utils.c ****     }
 990:libscpi/src/utils.c ****     w1 = w2;
 991:libscpi/src/utils.c ****     buf[w2] += 5;
 992:libscpi/src/utils.c ****     while (buf[w2] > '9') {
 993:libscpi/src/utils.c ****         buf[w2] = '0';
 994:libscpi/src/utils.c ****         if (w2 > 0) {
ARM GAS  /tmp/ccT7RLP5.s 			page 70


 995:libscpi/src/utils.c ****             ++buf[--w2];
 996:libscpi/src/utils.c ****         } else {
 997:libscpi/src/utils.c ****             buf[w2] = '1';
 998:libscpi/src/utils.c ****             (*decpt)++;
 999:libscpi/src/utils.c ****         }
1000:libscpi/src/utils.c ****     }
1001:libscpi/src/utils.c ****     buf[w1] = '\0';
1002:libscpi/src/utils.c ****     return buf;
1003:libscpi/src/utils.c **** }
1004:libscpi/src/utils.c **** 
1005:libscpi/src/utils.c **** #define SCPI_DTOSTRE_BUFFER_SIZE 32
1006:libscpi/src/utils.c **** 
1007:libscpi/src/utils.c **** char * SCPI_dtostre(double __val, char * __s, size_t __ssize, unsigned char __prec, unsigned char _
 2431              		.loc 1 1007 108 is_stmt 1 view -0
 2432              		.cfi_startproc
 2433              		@ args = 0, pretend = 0, frame = 72
 2434              		@ frame_needed = 0, uses_anonymous_args = 0
1008:libscpi/src/utils.c ****     char buffer[SCPI_DTOSTRE_BUFFER_SIZE];
 2435              		.loc 1 1008 5 view .LVU678
1009:libscpi/src/utils.c **** 
1010:libscpi/src/utils.c ****     int sign = SCPIDEFINE_signbit(__val);
 2436              		.loc 1 1010 5 view .LVU679
1007:libscpi/src/utils.c ****     char buffer[SCPI_DTOSTRE_BUFFER_SIZE];
 2437              		.loc 1 1007 108 is_stmt 0 view .LVU680
 2438 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 2439              	.LCFI50:
 2440              		.cfi_def_cfa_offset 36
 2441              		.cfi_offset 4, -36
 2442              		.cfi_offset 5, -32
 2443              		.cfi_offset 6, -28
 2444              		.cfi_offset 7, -24
 2445              		.cfi_offset 8, -20
 2446              		.cfi_offset 9, -16
 2447              		.cfi_offset 10, -12
 2448              		.cfi_offset 11, -8
 2449              		.cfi_offset 14, -4
 2450 0004 2DED028B 		vpush.64	{d8}
 2451              	.LCFI51:
 2452              		.cfi_def_cfa_offset 44
 2453              		.cfi_offset 80, -44
 2454              		.cfi_offset 81, -40
 2455 0008 57EC106B 		vmov	r6, r7, d0
 2456              	.LVL238:
1011:libscpi/src/utils.c ****     char * s = buffer;
 2457              		.loc 1 1011 5 is_stmt 1 view .LVU681
1007:libscpi/src/utils.c ****     char buffer[SCPI_DTOSTRE_BUFFER_SIZE];
 2458              		.loc 1 1007 108 is_stmt 0 view .LVU682
 2459 000c 95B0     		sub	sp, sp, #84
 2460              	.LCFI52:
 2461              		.cfi_def_cfa_offset 128
 2462              	.LVL239:
1012:libscpi/src/utils.c ****     int decpt;
 2463              		.loc 1 1012 5 is_stmt 1 view .LVU683
1013:libscpi/src/utils.c ****     if (sign) {
 2464              		.loc 1 1013 5 view .LVU684
 2465              		.loc 1 1013 8 is_stmt 0 view .LVU685
 2466 000e 002F     		cmp	r7, #0
ARM GAS  /tmp/ccT7RLP5.s 			page 71


1007:libscpi/src/utils.c ****     char buffer[SCPI_DTOSTRE_BUFFER_SIZE];
 2467              		.loc 1 1007 108 view .LVU686
 2468 0010 1D46     		mov	r5, r3
 2469 0012 8246     		mov	r10, r0
 2470 0014 8B46     		mov	fp, r1
 2471 0016 0492     		str	r2, [sp, #16]
1010:libscpi/src/utils.c ****     char * s = buffer;
 2472              		.loc 1 1010 16 view .LVU687
 2473 0018 3B46     		mov	r3, r7
 2474              	.LVL240:
 2475              		.loc 1 1013 8 view .LVU688
 2476 001a 39DA     		bge	.L191
1014:libscpi/src/utils.c ****         __val = -__val;
 2477              		.loc 1 1014 9 is_stmt 1 view .LVU689
 2478              		.loc 1 1014 15 is_stmt 0 view .LVU690
 2479 001c 07F10043 		add	r3, r7, #-2147483648
 2480 0020 1F46     		mov	r7, r3
 2481              	.LVL241:
1015:libscpi/src/utils.c ****         s[0] = '-';
 2482              		.loc 1 1015 9 is_stmt 1 view .LVU691
 2483              		.loc 1 1015 14 is_stmt 0 view .LVU692
 2484 0022 2D23     		movs	r3, #45
 2485              	.LVL242:
 2486              	.L245:
1016:libscpi/src/utils.c ****         s++;
1017:libscpi/src/utils.c ****     } else if (!SCPIDEFINE_isnan(__val)) {
1018:libscpi/src/utils.c ****         if (SCPI_DTOSTRE_PLUS_SIGN & __flags) {
1019:libscpi/src/utils.c ****             s[0] = '+';
1020:libscpi/src/utils.c ****             s++;
1021:libscpi/src/utils.c ****         } else if (SCPI_DTOSTRE_ALWAYS_SIGN & __flags) {
1022:libscpi/src/utils.c ****             s[0] = ' ';
 2487              		.loc 1 1022 18 view .LVU693
 2488 0024 8DF83030 		strb	r3, [sp, #48]
1023:libscpi/src/utils.c ****             s++;
 2489              		.loc 1 1023 13 is_stmt 1 view .LVU694
 2490              	.LVL243:
 2491              		.loc 1 1023 14 is_stmt 0 view .LVU695
 2492 0028 0DF13104 		add	r4, sp, #49
 2493              	.LVL244:
 2494              	.L192:
1024:libscpi/src/utils.c ****         }
1025:libscpi/src/utils.c ****     }
1026:libscpi/src/utils.c **** 
1027:libscpi/src/utils.c ****     if (!SCPIDEFINE_isfinite(__val)) {
 2495              		.loc 1 1027 5 is_stmt 1 view .LVU696
 2496              		.loc 1 1027 10 is_stmt 0 view .LVU697
 2497 002c 27F00049 		bic	r9, r7, #-2147483648
 2498              		.loc 1 1027 8 view .LVU698
 2499 0030 C34B     		ldr	r3, .L248+8
 2500 0032 4FF0FF32 		mov	r2, #-1
 2501 0036 3046     		mov	r0, r6
 2502 0038 4946     		mov	r1, r9
 2503 003a FFF7FEFF 		bl	__aeabi_dcmpun
 2504              	.LVL245:
 2505 003e 38B9     		cbnz	r0, .L238
 2506              		.loc 1 1027 8 view .LVU699
 2507 0040 BF4B     		ldr	r3, .L248+8
ARM GAS  /tmp/ccT7RLP5.s 			page 72


 2508 0042 4FF0FF32 		mov	r2, #-1
 2509 0046 3046     		mov	r0, r6
 2510 0048 4946     		mov	r1, r9
 2511 004a FFF7FEFF 		bl	__aeabi_dcmpgt
 2512              	.LVL246:
 2513 004e A0B3     		cbz	r0, .L242
 2514              	.L238:
1028:libscpi/src/utils.c ****         if (SCPIDEFINE_isnan(__val)) {
 2515              		.loc 1 1028 9 is_stmt 1 view .LVU700
 2516              		.loc 1 1028 12 is_stmt 0 view .LVU701
 2517 0050 3246     		mov	r2, r6
 2518 0052 3B46     		mov	r3, r7
 2519 0054 3046     		mov	r0, r6
 2520 0056 3946     		mov	r1, r7
 2521 0058 05F00105 		and	r5, r5, #1
 2522 005c FFF7FEFF 		bl	__aeabi_dcmpun
 2523              	.LVL247:
 2524 0060 40B3     		cbz	r0, .L243
1029:libscpi/src/utils.c ****             strcpy(s, (__flags & SCPI_DTOSTRE_UPPERCASE) ? "NAN" : "nan");
 2525              		.loc 1 1029 13 is_stmt 1 view .LVU702
 2526 0062 B849     		ldr	r1, .L248+12
 2527 0064 B84B     		ldr	r3, .L248+16
 2528              	.L246:
1030:libscpi/src/utils.c ****         } else {
1031:libscpi/src/utils.c ****             strcpy(s, (__flags & SCPI_DTOSTRE_UPPERCASE) ? "INF" : "inf");
 2529              		.loc 1 1031 13 is_stmt 0 view .LVU703
 2530 0066 002D     		cmp	r5, #0
 2531 0068 08BF     		it	eq
 2532 006a 1946     		moveq	r1, r3
 2533 006c 2046     		mov	r0, r4
 2534 006e FFF7FEFF 		bl	strcpy
 2535              	.LVL248:
1032:libscpi/src/utils.c ****         }
1033:libscpi/src/utils.c ****         strncpy(__s, buffer, __ssize);
 2536              		.loc 1 1033 9 is_stmt 1 view .LVU704
 2537              	.L229:
1034:libscpi/src/utils.c ****         __s[__ssize - 1] = '\0';
1035:libscpi/src/utils.c ****         return __s;
1036:libscpi/src/utils.c ****     }
1037:libscpi/src/utils.c **** 
1038:libscpi/src/utils.c ****     scpi_ecvt(__val, __prec, &decpt, &sign, s, SCPI_DTOSTRE_BUFFER_SIZE - 1);
1039:libscpi/src/utils.c ****     if (decpt > 1 && decpt <= __prec) {
1040:libscpi/src/utils.c ****         memmove(s + decpt + 1, s + decpt, __prec + 1 - decpt);
1041:libscpi/src/utils.c ****         s[decpt] = '.';
1042:libscpi/src/utils.c ****         decpt = 0;
1043:libscpi/src/utils.c ****     } else if (decpt > -4 && decpt <= 0) {
1044:libscpi/src/utils.c ****         decpt = -decpt + 1;
1045:libscpi/src/utils.c ****         memmove(s + decpt + 1, s, __prec + 1);
1046:libscpi/src/utils.c ****         memset(s, '0', decpt + 1);
1047:libscpi/src/utils.c ****         s[1] = '.';
1048:libscpi/src/utils.c ****         decpt = 0;
1049:libscpi/src/utils.c ****     } else {
1050:libscpi/src/utils.c ****         memmove(s + 2, s + 1, __prec + 1);
1051:libscpi/src/utils.c ****         s[1] = '.';
1052:libscpi/src/utils.c ****         decpt--;
1053:libscpi/src/utils.c ****     }
1054:libscpi/src/utils.c **** 
ARM GAS  /tmp/ccT7RLP5.s 			page 73


1055:libscpi/src/utils.c ****     s = &s[__prec];
1056:libscpi/src/utils.c ****     while (s[0] == '0') {
1057:libscpi/src/utils.c ****         s[0] = 0;
1058:libscpi/src/utils.c ****         s--;
1059:libscpi/src/utils.c ****     }
1060:libscpi/src/utils.c ****     if (s[0] == '.') {
1061:libscpi/src/utils.c ****         s[0] = 0;
1062:libscpi/src/utils.c ****         s--;
1063:libscpi/src/utils.c ****     }
1064:libscpi/src/utils.c **** 
1065:libscpi/src/utils.c ****     if (decpt != 0) {
1066:libscpi/src/utils.c ****         s++;
1067:libscpi/src/utils.c ****         s[0] = 'e';
1068:libscpi/src/utils.c ****         s++;
1069:libscpi/src/utils.c ****         if (decpt != 0) {
1070:libscpi/src/utils.c ****             if (decpt > 0) {
1071:libscpi/src/utils.c ****                 s[0] = '+';
1072:libscpi/src/utils.c ****             }
1073:libscpi/src/utils.c ****             if (decpt < 0) {
1074:libscpi/src/utils.c ****                 s[0] = '-';
1075:libscpi/src/utils.c ****                 decpt = -decpt;
1076:libscpi/src/utils.c ****             }
1077:libscpi/src/utils.c ****             s++;
1078:libscpi/src/utils.c ****         }
1079:libscpi/src/utils.c ****         UInt32ToStrBaseSign(decpt, s, 5, 10, 0);
1080:libscpi/src/utils.c ****         if (s[1] == 0) {
1081:libscpi/src/utils.c ****             s[2] = s[1];
1082:libscpi/src/utils.c ****             s[1] = s[0];
1083:libscpi/src/utils.c ****             s[0] = '0';
1084:libscpi/src/utils.c ****         }
1085:libscpi/src/utils.c ****     }
1086:libscpi/src/utils.c **** 
1087:libscpi/src/utils.c ****     strncpy(__s, buffer, __ssize);
 2538              		.loc 1 1087 5 view .LVU705
 2539 0072 5A46     		mov	r2, fp
 2540 0074 0CA9     		add	r1, sp, #48
 2541 0076 5046     		mov	r0, r10
 2542 0078 FFF7FEFF 		bl	strncpy
 2543              	.LVL249:
1088:libscpi/src/utils.c ****     __s[__ssize - 1] = '\0';
 2544              		.loc 1 1088 5 view .LVU706
 2545              		.loc 1 1088 22 is_stmt 0 view .LVU707
 2546 007c D344     		add	fp, fp, r10
 2547              	.LVL250:
 2548              		.loc 1 1088 22 view .LVU708
 2549 007e 0023     		movs	r3, #0
1089:libscpi/src/utils.c ****     return __s;
1090:libscpi/src/utils.c **** }
 2550              		.loc 1 1090 1 view .LVU709
 2551 0080 5046     		mov	r0, r10
1088:libscpi/src/utils.c ****     __s[__ssize - 1] = '\0';
 2552              		.loc 1 1088 22 view .LVU710
 2553 0082 0BF8013C 		strb	r3, [fp, #-1]
1089:libscpi/src/utils.c ****     return __s;
 2554              		.loc 1 1089 5 is_stmt 1 view .LVU711
 2555              	.LVL251:
 2556              		.loc 1 1090 1 is_stmt 0 view .LVU712
ARM GAS  /tmp/ccT7RLP5.s 			page 74


 2557 0086 15B0     		add	sp, sp, #84
 2558              	.LCFI53:
 2559              		.cfi_remember_state
 2560              		.cfi_def_cfa_offset 44
 2561              		@ sp needed
 2562 0088 BDEC028B 		vldm	sp!, {d8}
 2563              	.LCFI54:
 2564              		.cfi_restore 80
 2565              		.cfi_restore 81
 2566              		.cfi_def_cfa_offset 36
 2567 008c BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 2568              	.LVL252:
 2569              	.L191:
 2570              	.LCFI55:
 2571              		.cfi_restore_state
1017:libscpi/src/utils.c ****         if (SCPI_DTOSTRE_PLUS_SIGN & __flags) {
 2572              		.loc 1 1017 12 is_stmt 1 view .LVU713
1017:libscpi/src/utils.c ****         if (SCPI_DTOSTRE_PLUS_SIGN & __flags) {
 2573              		.loc 1 1017 15 is_stmt 0 view .LVU714
 2574 0090 10EE102A 		vmov	r2, s0	@ int
 2575              	.LVL253:
1017:libscpi/src/utils.c ****         if (SCPI_DTOSTRE_PLUS_SIGN & __flags) {
 2576              		.loc 1 1017 15 view .LVU715
 2577 0094 10EE100A 		vmov	r0, s0	@ int
 2578              	.LVL254:
1017:libscpi/src/utils.c ****         if (SCPI_DTOSTRE_PLUS_SIGN & __flags) {
 2579              		.loc 1 1017 15 view .LVU716
 2580 0098 3946     		mov	r1, r7
 2581              	.LVL255:
1017:libscpi/src/utils.c ****         if (SCPI_DTOSTRE_PLUS_SIGN & __flags) {
 2582              		.loc 1 1017 15 view .LVU717
 2583 009a FFF7FEFF 		bl	__aeabi_dcmpun
 2584              	.LVL256:
1017:libscpi/src/utils.c ****         if (SCPI_DTOSTRE_PLUS_SIGN & __flags) {
 2585              		.loc 1 1017 15 view .LVU718
 2586 009e 38B9     		cbnz	r0, .L234
1018:libscpi/src/utils.c ****             s[0] = '+';
 2587              		.loc 1 1018 9 is_stmt 1 view .LVU719
1018:libscpi/src/utils.c ****             s[0] = '+';
 2588              		.loc 1 1018 12 is_stmt 0 view .LVU720
 2589 00a0 6A07     		lsls	r2, r5, #29
 2590 00a2 01D5     		bpl	.L193
1019:libscpi/src/utils.c ****             s++;
 2591              		.loc 1 1019 13 is_stmt 1 view .LVU721
1019:libscpi/src/utils.c ****             s++;
 2592              		.loc 1 1019 18 is_stmt 0 view .LVU722
 2593 00a4 2B23     		movs	r3, #43
 2594 00a6 BDE7     		b	.L245
 2595              	.L193:
1021:libscpi/src/utils.c ****             s[0] = ' ';
 2596              		.loc 1 1021 16 is_stmt 1 view .LVU723
1021:libscpi/src/utils.c ****             s[0] = ' ';
 2597              		.loc 1 1021 19 is_stmt 0 view .LVU724
 2598 00a8 AB07     		lsls	r3, r5, #30
 2599 00aa 01D5     		bpl	.L234
1022:libscpi/src/utils.c ****             s++;
 2600              		.loc 1 1022 13 is_stmt 1 view .LVU725
ARM GAS  /tmp/ccT7RLP5.s 			page 75


1022:libscpi/src/utils.c ****             s++;
 2601              		.loc 1 1022 18 is_stmt 0 view .LVU726
 2602 00ac 2023     		movs	r3, #32
 2603 00ae B9E7     		b	.L245
 2604              	.L234:
1011:libscpi/src/utils.c ****     int decpt;
 2605              		.loc 1 1011 12 view .LVU727
 2606 00b0 0CAC     		add	r4, sp, #48
 2607              	.LVL257:
1011:libscpi/src/utils.c ****     int decpt;
 2608              		.loc 1 1011 12 view .LVU728
 2609 00b2 BBE7     		b	.L192
 2610              	.LVL258:
 2611              	.L243:
1031:libscpi/src/utils.c ****         }
 2612              		.loc 1 1031 13 is_stmt 1 view .LVU729
 2613 00b4 A549     		ldr	r1, .L248+20
 2614 00b6 A64B     		ldr	r3, .L248+24
 2615 00b8 D5E7     		b	.L246
 2616              	.L242:
1038:libscpi/src/utils.c ****     if (decpt > 1 && decpt <= __prec) {
 2617              		.loc 1 1038 5 view .LVU730
 2618              	.LVL259:
 2619              	.LBB41:
 2620              	.LBI41:
 937:libscpi/src/utils.c ****     int r1, r2;
 2621              		.loc 1 937 14 view .LVU731
 2622              	.LBB42:
 938:libscpi/src/utils.c ****     double fi, fj;
 2623              		.loc 1 938 5 view .LVU732
 939:libscpi/src/utils.c ****     int w1, w2;
 2624              		.loc 1 939 5 view .LVU733
 940:libscpi/src/utils.c **** 
 2625              		.loc 1 940 5 view .LVU734
 942:libscpi/src/utils.c ****     if (ndigits >= (int) (bufsize - 1)) ndigits = bufsize - 2;
 2626              		.loc 1 942 5 view .LVU735
 943:libscpi/src/utils.c **** 
 2627              		.loc 1 943 5 view .LVU736
 2628 00ba 049D     		ldr	r5, [sp, #16]
 948:libscpi/src/utils.c ****         *sign = 1;
 2629              		.loc 1 948 8 is_stmt 0 view .LVU737
 2630 00bc 0022     		movs	r2, #0
 2631 00be 1D2D     		cmp	r5, #29
 2632 00c0 4FF00003 		mov	r3, #0
 2633 00c4 3046     		mov	r0, r6
 2634 00c6 3946     		mov	r1, r7
 2635 00c8 A8BF     		it	ge
 2636 00ca 1D25     		movge	r5, #29
 2637              	.LVL260:
 945:libscpi/src/utils.c ****     *sign = 0;
 2638              		.loc 1 945 5 is_stmt 1 view .LVU738
 946:libscpi/src/utils.c ****     w1 = 0;
 2639              		.loc 1 946 5 view .LVU739
 947:libscpi/src/utils.c ****     if (arg < 0) {
 2640              		.loc 1 947 5 view .LVU740
 948:libscpi/src/utils.c ****         *sign = 1;
 2641              		.loc 1 948 5 view .LVU741
ARM GAS  /tmp/ccT7RLP5.s 			page 76


 948:libscpi/src/utils.c ****         *sign = 1;
 2642              		.loc 1 948 8 is_stmt 0 view .LVU742
 2643 00cc FFF7FEFF 		bl	__aeabi_dcmplt
 2644              	.LVL261:
 2645 00d0 10B1     		cbz	r0, .L202
 949:libscpi/src/utils.c ****         arg = -arg;
 2646              		.loc 1 949 9 is_stmt 1 view .LVU743
 2647              	.LVL262:
 950:libscpi/src/utils.c ****     }
 2648              		.loc 1 950 9 view .LVU744
 950:libscpi/src/utils.c ****     }
 2649              		.loc 1 950 13 is_stmt 0 view .LVU745
 2650 00d2 07F10043 		add	r3, r7, #-2147483648
 2651 00d6 1F46     		mov	r7, r3
 2652              	.LVL263:
 2653              	.L202:
 952:libscpi/src/utils.c ****     arg = modf(arg, &fi);
 2654              		.loc 1 952 5 is_stmt 1 view .LVU746
 2655 00d8 07A8     		add	r0, sp, #28
 2656 00da 47EC106B 		vmov	d0, r6, r7
 2657 00de FFF7FEFF 		bl	frexp
 2658              	.LVL264:
 953:libscpi/src/utils.c **** 
 2659              		.loc 1 953 5 view .LVU747
 953:libscpi/src/utils.c **** 
 2660              		.loc 1 953 11 is_stmt 0 view .LVU748
 2661 00e2 08A8     		add	r0, sp, #32
 2662 00e4 47EC106B 		vmov	d0, r6, r7
 2663 00e8 FFF7FEFF 		bl	modf
 2664              	.LVL265:
 955:libscpi/src/utils.c ****         r1 = r1 * 308 / 1024 - ndigits;
 2665              		.loc 1 955 8 view .LVU749
 2666 00ec DDE90801 		ldrd	r0, [sp, #32]
 2667 00f0 0022     		movs	r2, #0
 2668 00f2 0023     		movs	r3, #0
 953:libscpi/src/utils.c **** 
 2669              		.loc 1 953 11 view .LVU750
 2670 00f4 8DED020B 		vstr.64	d0, [sp, #8]
 2671              	.LVL266:
 955:libscpi/src/utils.c ****         r1 = r1 * 308 / 1024 - ndigits;
 2672              		.loc 1 955 5 is_stmt 1 view .LVU751
 955:libscpi/src/utils.c ****         r1 = r1 * 308 / 1024 - ndigits;
 2673              		.loc 1 955 8 is_stmt 0 view .LVU752
 2674 00f8 FFF7FEFF 		bl	__aeabi_dcmpeq
 2675              	.LVL267:
 955:libscpi/src/utils.c ****         r1 = r1 * 308 / 1024 - ndigits;
 2676              		.loc 1 955 8 view .LVU753
 2677 00fc 0028     		cmp	r0, #0
 2678 00fe 40F0BE80 		bne	.L244
 956:libscpi/src/utils.c ****         w2 = bufsize;
 2679              		.loc 1 956 9 is_stmt 1 view .LVU754
 956:libscpi/src/utils.c ****         w2 = bufsize;
 2680              		.loc 1 956 17 is_stmt 0 view .LVU755
 2681 0102 079A     		ldr	r2, [sp, #28]
 959:libscpi/src/utils.c ****             r2++;
 2682              		.loc 1 959 18 view .LVU756
 2683 0104 934F     		ldr	r7, .L248+28
ARM GAS  /tmp/ccT7RLP5.s 			page 77


 956:libscpi/src/utils.c ****         w2 = bufsize;
 2684              		.loc 1 956 17 view .LVU757
 2685 0106 4FF49A73 		mov	r3, #308
 956:libscpi/src/utils.c ****         w2 = bufsize;
 2686              		.loc 1 956 23 view .LVU758
 2687 010a 5343     		muls	r3, r2, r3
 2688 010c 48BF     		it	mi
 2689 010e 03F2FF33 		addwmi	r3, r3, #1023
 956:libscpi/src/utils.c ****         w2 = bufsize;
 2690              		.loc 1 956 30 view .LVU759
 2691 0112 C5EBA323 		rsb	r3, r5, r3, asr #10
 956:libscpi/src/utils.c ****         w2 = bufsize;
 2692              		.loc 1 956 12 view .LVU760
 2693 0116 0793     		str	r3, [sp, #28]
 957:libscpi/src/utils.c ****         while (r1 > 0) {
 2694              		.loc 1 957 9 is_stmt 1 view .LVU761
 2695              	.LVL268:
 958:libscpi/src/utils.c ****             fj = modf(fi / 10, &fi);
 2696              		.loc 1 958 9 view .LVU762
 945:libscpi/src/utils.c ****     *sign = 0;
 2697              		.loc 1 945 8 is_stmt 0 view .LVU763
 2698 0118 0023     		movs	r3, #0
 2699 011a 0593     		str	r3, [sp, #20]
 959:libscpi/src/utils.c ****             r2++;
 2700              		.loc 1 959 18 view .LVU764
 2701 011c 0026     		movs	r6, #0
 2702              	.LVL269:
 2703              	.L207:
 958:libscpi/src/utils.c ****             fj = modf(fi / 10, &fi);
 2704              		.loc 1 958 15 is_stmt 1 view .LVU765
 958:libscpi/src/utils.c ****             fj = modf(fi / 10, &fi);
 2705              		.loc 1 958 19 is_stmt 0 view .LVU766
 2706 011e DDF81C80 		ldr	r8, [sp, #28]
 958:libscpi/src/utils.c ****             fj = modf(fi / 10, &fi);
 2707              		.loc 1 958 15 view .LVU767
 2708 0122 B8F1000F 		cmp	r8, #0
 2709 0126 DDE90801 		ldrd	r0, [sp, #32]
 2710 012a 71DC     		bgt	.L208
 957:libscpi/src/utils.c ****         while (r1 > 0) {
 2711              		.loc 1 957 12 view .LVU768
 2712 012c 4FF01F09 		mov	r9, #31
 2713              	.LVL270:
 2714              	.L209:
 963:libscpi/src/utils.c ****             fj = modf(fi / 10, &fi);
 2715              		.loc 1 963 19 view .LVU769
 2716 0130 DDE90867 		ldrd	r6, [sp, #32]
 2717 0134 059B     		ldr	r3, [sp, #20]
 963:libscpi/src/utils.c ****             fj = modf(fi / 10, &fi);
 2718              		.loc 1 963 15 view .LVU770
 2719 0136 0022     		movs	r2, #0
 2720 0138 03F11F08 		add	r8, r3, #31
 2721 013c 3046     		mov	r0, r6
 2722 013e 0023     		movs	r3, #0
 2723 0140 3946     		mov	r1, r7
 2724 0142 A8EB0908 		sub	r8, r8, r9
 2725              	.LVL271:
 963:libscpi/src/utils.c ****             fj = modf(fi / 10, &fi);
ARM GAS  /tmp/ccT7RLP5.s 			page 78


 2726              		.loc 1 963 15 is_stmt 1 view .LVU771
 2727 0146 FFF7FEFF 		bl	__aeabi_dcmpeq
 2728              	.LVL272:
 2729 014a 0028     		cmp	r0, #0
 2730 014c 72D0     		beq	.L210
 2731 014e 04EB0903 		add	r3, r4, r9
 2732 0152 621E     		subs	r2, r4, #1
 2733 0154 04F11F01 		add	r1, r4, #31
 2734              	.LVL273:
 2735              	.L211:
 968:libscpi/src/utils.c ****     } else if (arg > 0) {
 2736              		.loc 1 968 15 view .LVU772
 2737 0158 9942     		cmp	r1, r3
 2738 015a 40F08B80 		bne	.L212
 2739 015e C9F11F09 		rsb	r9, r9, #31
 2740              	.LVL274:
 2741              	.L213:
 975:libscpi/src/utils.c ****     *decpt = r2;
 2742              		.loc 1 975 5 view .LVU773
 976:libscpi/src/utils.c ****     if (w2 < 0) {
 2743              		.loc 1 976 5 view .LVU774
 977:libscpi/src/utils.c ****         buf[0] = '\0';
 2744              		.loc 1 977 5 view .LVU775
 982:libscpi/src/utils.c ****         arg = modf(arg, &fj);
 2745              		.loc 1 982 13 is_stmt 0 view .LVU776
 2746 0162 7C4F     		ldr	r7, .L248+28
 2747 0164 0026     		movs	r6, #0
 2748              	.L216:
 981:libscpi/src/utils.c ****         arg *= 10;
 2749              		.loc 1 981 11 is_stmt 1 view .LVU777
 2750 0166 4D45     		cmp	r5, r9
 2751 0168 80F2B080 		bge	.L217
 986:libscpi/src/utils.c ****         buf[bufsize - 1] = '\0';
 2752              		.loc 1 986 5 view .LVU778
 990:libscpi/src/utils.c ****     buf[w2] += 5;
 2753              		.loc 1 990 5 view .LVU779
 2754              	.LVL275:
 991:libscpi/src/utils.c ****     while (buf[w2] > '9') {
 2755              		.loc 1 991 5 view .LVU780
 991:libscpi/src/utils.c ****     while (buf[w2] > '9') {
 2756              		.loc 1 991 13 is_stmt 0 view .LVU781
 2757 016c 635D     		ldrb	r3, [r4, r5]	@ zero_extendqisi2
 2758 016e 0533     		adds	r3, r3, #5
 2759 0170 6355     		strb	r3, [r4, r5]
 992:libscpi/src/utils.c ****         buf[w2] = '0';
 2760              		.loc 1 992 5 is_stmt 1 view .LVU782
 991:libscpi/src/utils.c ****     while (buf[w2] > '9') {
 2761              		.loc 1 991 13 is_stmt 0 view .LVU783
 2762 0172 6219     		adds	r2, r4, r5
 993:libscpi/src/utils.c ****         if (w2 > 0) {
 2763              		.loc 1 993 17 view .LVU784
 2764 0174 3020     		movs	r0, #48
 997:libscpi/src/utils.c ****             (*decpt)++;
 2765              		.loc 1 997 21 view .LVU785
 2766 0176 3126     		movs	r6, #49
 2767              	.LVL276:
 2768              	.L218:
ARM GAS  /tmp/ccT7RLP5.s 			page 79


 992:libscpi/src/utils.c ****         buf[w2] = '0';
 2769              		.loc 1 992 11 is_stmt 1 view .LVU786
 2770 0178 635D     		ldrb	r3, [r4, r5]	@ zero_extendqisi2
 2771 017a 392B     		cmp	r3, #57
 992:libscpi/src/utils.c ****         buf[w2] = '0';
 2772              		.loc 1 992 15 is_stmt 0 view .LVU787
 2773 017c 04EB0501 		add	r1, r4, r5
 992:libscpi/src/utils.c ****         buf[w2] = '0';
 2774              		.loc 1 992 11 view .LVU788
 2775 0180 00F2BB80 		bhi	.L221
1001:libscpi/src/utils.c ****     return buf;
 2776              		.loc 1 1001 5 is_stmt 1 view .LVU789
 2777 0184 049B     		ldr	r3, [sp, #16]
1001:libscpi/src/utils.c ****     return buf;
 2778              		.loc 1 1001 13 is_stmt 0 view .LVU790
 2779 0186 0025     		movs	r5, #0
 2780              	.LVL277:
1001:libscpi/src/utils.c ****     return buf;
 2781              		.loc 1 1001 13 view .LVU791
 2782              	.LBE42:
 2783              	.LBE41:
1039:libscpi/src/utils.c ****         memmove(s + decpt + 1, s + decpt, __prec + 1 - decpt);
 2784              		.loc 1 1039 8 view .LVU792
 2785 0188 B8F1010F 		cmp	r8, #1
 2786              	.LBB45:
 2787              	.LBB43:
1001:libscpi/src/utils.c ****     return buf;
 2788              		.loc 1 1001 13 view .LVU793
 2789 018c 1570     		strb	r5, [r2]
1002:libscpi/src/utils.c **** }
 2790              		.loc 1 1002 5 is_stmt 1 view .LVU794
 2791              	.LVL278:
1002:libscpi/src/utils.c **** }
 2792              		.loc 1 1002 5 is_stmt 0 view .LVU795
 2793              	.LBE43:
 2794              	.LBE45:
1039:libscpi/src/utils.c ****         memmove(s + decpt + 1, s + decpt, __prec + 1 - decpt);
 2795              		.loc 1 1039 5 is_stmt 1 view .LVU796
 2796 018e 03F10102 		add	r2, r3, #1
1039:libscpi/src/utils.c ****         memmove(s + decpt + 1, s + decpt, __prec + 1 - decpt);
 2797              		.loc 1 1039 8 is_stmt 0 view .LVU797
 2798 0192 40F3BD80 		ble	.L222
1039:libscpi/src/utils.c ****         memmove(s + decpt + 1, s + decpt, __prec + 1 - decpt);
 2799              		.loc 1 1039 19 discriminator 1 view .LVU798
 2800 0196 4345     		cmp	r3, r8
 2801 0198 C0F2BA80 		blt	.L222
1040:libscpi/src/utils.c ****         s[decpt] = '.';
 2802              		.loc 1 1040 9 is_stmt 1 view .LVU799
1040:libscpi/src/utils.c ****         s[decpt] = '.';
 2803              		.loc 1 1040 27 is_stmt 0 view .LVU800
 2804 019c 08F10100 		add	r0, r8, #1
1040:libscpi/src/utils.c ****         s[decpt] = '.';
 2805              		.loc 1 1040 9 view .LVU801
 2806 01a0 A2EB0802 		sub	r2, r2, r8
 2807 01a4 04EB0801 		add	r1, r4, r8
 2808 01a8 2044     		add	r0, r0, r4
 2809 01aa FFF7FEFF 		bl	memmove
ARM GAS  /tmp/ccT7RLP5.s 			page 80


 2810              	.LVL279:
1041:libscpi/src/utils.c ****         decpt = 0;
 2811              		.loc 1 1041 9 is_stmt 1 view .LVU802
1041:libscpi/src/utils.c ****         decpt = 0;
 2812              		.loc 1 1041 18 is_stmt 0 view .LVU803
 2813 01ae 2E23     		movs	r3, #46
 2814 01b0 04F80830 		strb	r3, [r4, r8]
1042:libscpi/src/utils.c ****     } else if (decpt > -4 && decpt <= 0) {
 2815              		.loc 1 1042 9 is_stmt 1 view .LVU804
 2816              	.LVL280:
 2817              	.L247:
1048:libscpi/src/utils.c ****     } else {
 2818              		.loc 1 1048 9 view .LVU805
1048:libscpi/src/utils.c ****     } else {
 2819              		.loc 1 1048 15 is_stmt 0 view .LVU806
 2820 01b4 0020     		movs	r0, #0
 2821              	.LVL281:
 2822              	.L223:
1055:libscpi/src/utils.c ****     while (s[0] == '0') {
 2823              		.loc 1 1055 5 is_stmt 1 view .LVU807
1056:libscpi/src/utils.c ****         s[0] = 0;
 2824              		.loc 1 1056 5 view .LVU808
1055:libscpi/src/utils.c ****     while (s[0] == '0') {
 2825              		.loc 1 1055 7 is_stmt 0 view .LVU809
 2826 01b6 049B     		ldr	r3, [sp, #16]
 2827 01b8 1C44     		add	r4, r4, r3
 2828              	.LVL282:
1055:libscpi/src/utils.c ****     while (s[0] == '0') {
 2829              		.loc 1 1055 7 view .LVU810
 2830 01ba 0023     		movs	r3, #0
 2831              	.L225:
1056:libscpi/src/utils.c ****         s[0] = 0;
 2832              		.loc 1 1056 13 view .LVU811
 2833 01bc 2278     		ldrb	r2, [r4]	@ zero_extendqisi2
1056:libscpi/src/utils.c ****         s[0] = 0;
 2834              		.loc 1 1056 11 view .LVU812
 2835 01be 302A     		cmp	r2, #48
 2836 01c0 2546     		mov	r5, r4
 2837              	.LVL283:
1056:libscpi/src/utils.c ****         s[0] = 0;
 2838              		.loc 1 1056 11 is_stmt 1 view .LVU813
1056:libscpi/src/utils.c ****         s[0] = 0;
 2839              		.loc 1 1056 11 is_stmt 0 view .LVU814
 2840 01c2 04F1FF34 		add	r4, r4, #-1
 2841              	.LVL284:
1056:libscpi/src/utils.c ****         s[0] = 0;
 2842              		.loc 1 1056 11 view .LVU815
 2843 01c6 00F0D280 		beq	.L226
1060:libscpi/src/utils.c ****         s[0] = 0;
 2844              		.loc 1 1060 5 is_stmt 1 view .LVU816
1060:libscpi/src/utils.c ****         s[0] = 0;
 2845              		.loc 1 1060 8 is_stmt 0 view .LVU817
 2846 01ca 2E2A     		cmp	r2, #46
1061:libscpi/src/utils.c ****         s--;
 2847              		.loc 1 1061 9 is_stmt 1 view .LVU818
1061:libscpi/src/utils.c ****         s--;
 2848              		.loc 1 1061 14 is_stmt 0 view .LVU819
ARM GAS  /tmp/ccT7RLP5.s 			page 81


 2849 01cc 04BF     		itt	eq
 2850 01ce 2B70     		strbeq	r3, [r5]
1062:libscpi/src/utils.c ****     }
 2851              		.loc 1 1062 9 is_stmt 1 view .LVU820
1062:libscpi/src/utils.c ****     }
 2852              		.loc 1 1062 10 is_stmt 0 view .LVU821
 2853 01d0 2546     		moveq	r5, r4
 2854              	.LVL285:
1065:libscpi/src/utils.c ****         s++;
 2855              		.loc 1 1065 5 is_stmt 1 view .LVU822
1065:libscpi/src/utils.c ****         s++;
 2856              		.loc 1 1065 8 is_stmt 0 view .LVU823
 2857 01d2 0028     		cmp	r0, #0
 2858 01d4 3FF44DAF 		beq	.L229
1066:libscpi/src/utils.c ****         s[0] = 'e';
 2859              		.loc 1 1066 9 is_stmt 1 view .LVU824
 2860              	.LVL286:
1067:libscpi/src/utils.c ****         s++;
 2861              		.loc 1 1067 9 view .LVU825
1067:libscpi/src/utils.c ****         s++;
 2862              		.loc 1 1067 14 is_stmt 0 view .LVU826
 2863 01d8 4FF06503 		mov	r3, #101
 2864 01dc 6B70     		strb	r3, [r5, #1]
1068:libscpi/src/utils.c ****         if (decpt != 0) {
 2865              		.loc 1 1068 9 is_stmt 1 view .LVU827
 2866              	.LVL287:
1069:libscpi/src/utils.c ****             if (decpt > 0) {
 2867              		.loc 1 1069 9 view .LVU828
1070:libscpi/src/utils.c ****                 s[0] = '+';
 2868              		.loc 1 1070 13 view .LVU829
1071:libscpi/src/utils.c ****             }
 2869              		.loc 1 1071 17 view .LVU830
1071:libscpi/src/utils.c ****             }
 2870              		.loc 1 1071 22 is_stmt 0 view .LVU831
 2871 01de CBBF     		itete	gt
 2872 01e0 2B23     		movgt	r3, #43
1074:libscpi/src/utils.c ****                 decpt = -decpt;
 2873              		.loc 1 1074 22 view .LVU832
 2874 01e2 2D23     		movle	r3, #45
1071:libscpi/src/utils.c ****             }
 2875              		.loc 1 1071 22 view .LVU833
 2876 01e4 AB70     		strbgt	r3, [r5, #2]
1073:libscpi/src/utils.c ****                 s[0] = '-';
 2877              		.loc 1 1073 13 is_stmt 1 view .LVU834
1073:libscpi/src/utils.c ****                 s[0] = '-';
 2878              		.loc 1 1073 13 view .LVU835
1074:libscpi/src/utils.c ****                 decpt = -decpt;
 2879              		.loc 1 1074 17 view .LVU836
1074:libscpi/src/utils.c ****                 decpt = -decpt;
 2880              		.loc 1 1074 22 is_stmt 0 view .LVU837
 2881 01e6 AB70     		strble	r3, [r5, #2]
1075:libscpi/src/utils.c ****             }
 2882              		.loc 1 1075 17 is_stmt 1 view .LVU838
1079:libscpi/src/utils.c ****         if (s[1] == 0) {
 2883              		.loc 1 1079 9 is_stmt 0 view .LVU839
 2884 01e8 4FF00003 		mov	r3, #0
 2885 01ec 0093     		str	r3, [sp]
ARM GAS  /tmp/ccT7RLP5.s 			page 82


1075:libscpi/src/utils.c ****             }
 2886              		.loc 1 1075 25 view .LVU840
 2887 01ee D8BF     		it	le
 2888 01f0 4042     		rsble	r0, r0, #0
 2889              	.LVL288:
1077:libscpi/src/utils.c ****         }
 2890              		.loc 1 1077 13 is_stmt 1 view .LVU841
1079:libscpi/src/utils.c ****         if (s[1] == 0) {
 2891              		.loc 1 1079 9 view .LVU842
 2892 01f2 0A23     		movs	r3, #10
 2893 01f4 0522     		movs	r2, #5
 2894 01f6 E91C     		adds	r1, r5, #3
 2895              	.LVL289:
1079:libscpi/src/utils.c ****         if (s[1] == 0) {
 2896              		.loc 1 1079 9 is_stmt 0 view .LVU843
 2897 01f8 FFF7FEFF 		bl	UInt32ToStrBaseSign
 2898              	.LVL290:
1080:libscpi/src/utils.c ****             s[2] = s[1];
 2899              		.loc 1 1080 9 is_stmt 1 view .LVU844
1080:libscpi/src/utils.c ****             s[2] = s[1];
 2900              		.loc 1 1080 12 is_stmt 0 view .LVU845
 2901 01fc 2B79     		ldrb	r3, [r5, #4]	@ zero_extendqisi2
 2902 01fe 002B     		cmp	r3, #0
 2903 0200 7FF437AF 		bne	.L229
1081:libscpi/src/utils.c ****             s[1] = s[0];
 2904              		.loc 1 1081 13 is_stmt 1 view .LVU846
1081:libscpi/src/utils.c ****             s[1] = s[0];
 2905              		.loc 1 1081 18 is_stmt 0 view .LVU847
 2906 0204 6B71     		strb	r3, [r5, #5]
1082:libscpi/src/utils.c ****             s[0] = '0';
 2907              		.loc 1 1082 13 is_stmt 1 view .LVU848
1082:libscpi/src/utils.c ****             s[0] = '0';
 2908              		.loc 1 1082 18 is_stmt 0 view .LVU849
 2909 0206 EB78     		ldrb	r3, [r5, #3]	@ zero_extendqisi2
 2910 0208 2B71     		strb	r3, [r5, #4]
1083:libscpi/src/utils.c ****         }
 2911              		.loc 1 1083 13 is_stmt 1 view .LVU850
1083:libscpi/src/utils.c ****         }
 2912              		.loc 1 1083 18 is_stmt 0 view .LVU851
 2913 020a 3023     		movs	r3, #48
 2914 020c EB70     		strb	r3, [r5, #3]
 2915 020e 30E7     		b	.L229
 2916              	.LVL291:
 2917              	.L208:
 2918              	.LBB46:
 2919              	.LBB44:
 959:libscpi/src/utils.c ****             r2++;
 2920              		.loc 1 959 13 is_stmt 1 view .LVU852
 959:libscpi/src/utils.c ****             r2++;
 2921              		.loc 1 959 18 is_stmt 0 view .LVU853
 2922 0210 3B46     		mov	r3, r7
 2923 0212 3246     		mov	r2, r6
 2924 0214 FFF7FEFF 		bl	__aeabi_ddiv
 2925              	.LVL292:
 2926 0218 41EC100B 		vmov	d0, r0, r1
 2927 021c 08A8     		add	r0, sp, #32
 2928 021e FFF7FEFF 		bl	modf
ARM GAS  /tmp/ccT7RLP5.s 			page 83


 2929              	.LVL293:
 960:libscpi/src/utils.c ****             r1--;
 2930              		.loc 1 960 15 view .LVU854
 2931 0222 059B     		ldr	r3, [sp, #20]
 2932 0224 0133     		adds	r3, r3, #1
 2933 0226 0593     		str	r3, [sp, #20]
 2934              	.LVL294:
 961:libscpi/src/utils.c ****         }
 2935              		.loc 1 961 15 view .LVU855
 2936 0228 08F1FF33 		add	r3, r8, #-1
 959:libscpi/src/utils.c ****             r2++;
 2937              		.loc 1 959 16 view .LVU856
 2938 022c 8DED0A0B 		vstr.64	d0, [sp, #40]
 960:libscpi/src/utils.c ****             r1--;
 2939              		.loc 1 960 13 is_stmt 1 view .LVU857
 2940              	.LVL295:
 961:libscpi/src/utils.c ****         }
 2941              		.loc 1 961 13 view .LVU858
 961:libscpi/src/utils.c ****         }
 2942              		.loc 1 961 15 is_stmt 0 view .LVU859
 2943 0230 0793     		str	r3, [sp, #28]
 2944 0232 74E7     		b	.L207
 2945              	.LVL296:
 2946              	.L210:
 964:libscpi/src/utils.c ****             buf[--w2] = (int) ((fj + .03) * 10) + '0';
 2947              		.loc 1 964 13 is_stmt 1 view .LVU860
 964:libscpi/src/utils.c ****             buf[--w2] = (int) ((fj + .03) * 10) + '0';
 2948              		.loc 1 964 18 is_stmt 0 view .LVU861
 2949 0234 474B     		ldr	r3, .L248+28
 2950 0236 0022     		movs	r2, #0
 2951 0238 3046     		mov	r0, r6
 2952 023a 3946     		mov	r1, r7
 2953 023c FFF7FEFF 		bl	__aeabi_ddiv
 2954              	.LVL297:
 2955 0240 41EC100B 		vmov	d0, r0, r1
 2956 0244 08A8     		add	r0, sp, #32
 2957 0246 FFF7FEFF 		bl	modf
 2958              	.LVL298:
 965:libscpi/src/utils.c ****             r2++;
 2959              		.loc 1 965 36 view .LVU862
 2960 024a 3BA3     		adr	r3, .L248
 2961 024c D3E90023 		ldrd	r2, [r3]
 964:libscpi/src/utils.c ****             buf[--w2] = (int) ((fj + .03) * 10) + '0';
 2962              		.loc 1 964 18 view .LVU863
 2963 0250 51EC100B 		vmov	r0, r1, d0
 964:libscpi/src/utils.c ****             buf[--w2] = (int) ((fj + .03) * 10) + '0';
 2964              		.loc 1 964 16 view .LVU864
 2965 0254 8DED0A0B 		vstr.64	d0, [sp, #40]
 965:libscpi/src/utils.c ****             r2++;
 2966              		.loc 1 965 13 is_stmt 1 view .LVU865
 2967              	.LVL299:
 965:libscpi/src/utils.c ****             r2++;
 2968              		.loc 1 965 36 is_stmt 0 view .LVU866
 2969 0258 FFF7FEFF 		bl	__aeabi_dadd
 2970              	.LVL300:
 965:libscpi/src/utils.c ****             r2++;
 2971              		.loc 1 965 43 view .LVU867
ARM GAS  /tmp/ccT7RLP5.s 			page 84


 2972 025c 3D4B     		ldr	r3, .L248+28
 2973 025e 0022     		movs	r2, #0
 2974 0260 FFF7FEFF 		bl	__aeabi_dmul
 2975              	.LVL301:
 965:libscpi/src/utils.c ****             r2++;
 2976              		.loc 1 965 25 view .LVU868
 2977 0264 FFF7FEFF 		bl	__aeabi_d2iz
 2978              	.LVL302:
 965:libscpi/src/utils.c ****             r2++;
 2979              		.loc 1 965 23 view .LVU869
 2980 0268 09F1FF39 		add	r9, r9, #-1
 2981              	.LVL303:
 965:libscpi/src/utils.c ****             r2++;
 2982              		.loc 1 965 49 view .LVU870
 2983 026c 3030     		adds	r0, r0, #48
 965:libscpi/src/utils.c ****             r2++;
 2984              		.loc 1 965 23 view .LVU871
 2985 026e 04F80900 		strb	r0, [r4, r9]
 966:libscpi/src/utils.c ****         }
 2986              		.loc 1 966 13 is_stmt 1 view .LVU872
 2987              	.LVL304:
 966:libscpi/src/utils.c ****         }
 2988              		.loc 1 966 13 is_stmt 0 view .LVU873
 2989 0272 5DE7     		b	.L209
 2990              	.LVL305:
 2991              	.L212:
 968:libscpi/src/utils.c ****     } else if (arg > 0) {
 2992              		.loc 1 968 36 is_stmt 1 view .LVU874
 968:libscpi/src/utils.c ****     } else if (arg > 0) {
 2993              		.loc 1 968 51 is_stmt 0 view .LVU875
 2994 0274 13F8010B 		ldrb	r0, [r3], #1	@ zero_extendqisi2
 968:libscpi/src/utils.c ****     } else if (arg > 0) {
 2995              		.loc 1 968 46 view .LVU876
 2996 0278 02F8010F 		strb	r0, [r2, #1]!
 2997 027c 6CE7     		b	.L211
 2998              	.LVL306:
 2999              	.L244:
 969:libscpi/src/utils.c ****         while ((fj = arg * 10) < 1) {
 3000              		.loc 1 969 12 is_stmt 1 view .LVU877
 969:libscpi/src/utils.c ****         while ((fj = arg * 10) < 1) {
 3001              		.loc 1 969 15 is_stmt 0 view .LVU878
 3002 027e DDE90201 		ldrd	r0, [sp, #8]
 3003 0282 0022     		movs	r2, #0
 3004 0284 0023     		movs	r3, #0
 3005 0286 FFF7FEFF 		bl	__aeabi_dcmpgt
 3006              	.LVL307:
 3007 028a 8146     		mov	r9, r0
 3008 028c C8B9     		cbnz	r0, .L237
 945:libscpi/src/utils.c ****     *sign = 0;
 3009              		.loc 1 945 8 view .LVU879
 3010 028e 8046     		mov	r8, r0
 3011 0290 67E7     		b	.L213
 3012              	.LVL308:
 3013              	.L215:
 971:libscpi/src/utils.c ****             r2--;
 3014              		.loc 1 971 13 is_stmt 1 view .LVU880
 972:libscpi/src/utils.c ****         }
ARM GAS  /tmp/ccT7RLP5.s 			page 85


 3015              		.loc 1 972 13 view .LVU881
 970:libscpi/src/utils.c ****             arg = fj;
 3016              		.loc 1 970 26 is_stmt 0 view .LVU882
 3017 0292 8DED028B 		vstr.64	d8, [sp, #8]
 972:libscpi/src/utils.c ****         }
 3018              		.loc 1 972 15 view .LVU883
 3019 0296 08F1FF38 		add	r8, r8, #-1
 3020              	.LVL309:
 3021              	.L214:
 970:libscpi/src/utils.c ****             arg = fj;
 3022              		.loc 1 970 15 is_stmt 1 view .LVU884
 970:libscpi/src/utils.c ****             arg = fj;
 3023              		.loc 1 970 26 is_stmt 0 view .LVU885
 3024 029a 3246     		mov	r2, r6
 3025 029c 3B46     		mov	r3, r7
 3026 029e DDE90201 		ldrd	r0, [sp, #8]
 3027 02a2 FFF7FEFF 		bl	__aeabi_dmul
 3028              	.LVL310:
 3029 02a6 0246     		mov	r2, r0
 3030 02a8 0B46     		mov	r3, r1
 3031 02aa 43EC182B 		vmov	d8, r2, r3
 970:libscpi/src/utils.c ****             arg = fj;
 3032              		.loc 1 970 15 view .LVU886
 3033 02ae 2A4B     		ldr	r3, .L248+32
 3034 02b0 0022     		movs	r2, #0
 3035 02b2 FFF7FEFF 		bl	__aeabi_dcmplt
 3036              	.LVL311:
 3037 02b6 8146     		mov	r9, r0
 3038 02b8 0028     		cmp	r0, #0
 3039 02ba EAD1     		bne	.L215
 3040 02bc 8DED0A8B 		vstr.64	d8, [sp, #40]
 3041 02c0 4FE7     		b	.L213
 3042              	.LVL312:
 3043              	.L237:
 970:libscpi/src/utils.c ****             arg = fj;
 3044              		.loc 1 970 26 view .LVU887
 3045 02c2 244F     		ldr	r7, .L248+28
 945:libscpi/src/utils.c ****     *sign = 0;
 3046              		.loc 1 945 8 view .LVU888
 3047 02c4 4FF00008 		mov	r8, #0
 970:libscpi/src/utils.c ****             arg = fj;
 3048              		.loc 1 970 26 view .LVU889
 3049 02c8 0026     		movs	r6, #0
 3050              	.LVL313:
 970:libscpi/src/utils.c ****             arg = fj;
 3051              		.loc 1 970 26 view .LVU890
 3052 02ca E6E7     		b	.L214
 3053              	.LVL314:
 3054              	.L217:
 982:libscpi/src/utils.c ****         arg = modf(arg, &fj);
 3055              		.loc 1 982 9 is_stmt 1 view .LVU891
 982:libscpi/src/utils.c ****         arg = modf(arg, &fj);
 3056              		.loc 1 982 13 is_stmt 0 view .LVU892
 3057 02cc 3246     		mov	r2, r6
 3058 02ce 3B46     		mov	r3, r7
 3059 02d0 DDE90201 		ldrd	r0, [sp, #8]
 3060 02d4 FFF7FEFF 		bl	__aeabi_dmul
ARM GAS  /tmp/ccT7RLP5.s 			page 86


 3061              	.LVL315:
 3062 02d8 41EC100B 		vmov	d0, r0, r1
 3063              	.LVL316:
 983:libscpi/src/utils.c ****         buf[w1++] = (int) fj + '0';
 3064              		.loc 1 983 9 is_stmt 1 view .LVU893
 983:libscpi/src/utils.c ****         buf[w1++] = (int) fj + '0';
 3065              		.loc 1 983 15 is_stmt 0 view .LVU894
 3066 02dc 0AA8     		add	r0, sp, #40
 3067              	.LVL317:
 983:libscpi/src/utils.c ****         buf[w1++] = (int) fj + '0';
 3068              		.loc 1 983 15 view .LVU895
 3069 02de FFF7FEFF 		bl	modf
 3070              	.LVL318:
 984:libscpi/src/utils.c ****     }
 3071              		.loc 1 984 21 view .LVU896
 3072 02e2 DDE90A01 		ldrd	r0, [sp, #40]
 983:libscpi/src/utils.c ****         buf[w1++] = (int) fj + '0';
 3073              		.loc 1 983 15 view .LVU897
 3074 02e6 8DED020B 		vstr.64	d0, [sp, #8]
 3075              	.LVL319:
 984:libscpi/src/utils.c ****     }
 3076              		.loc 1 984 9 is_stmt 1 view .LVU898
 984:libscpi/src/utils.c ****     }
 3077              		.loc 1 984 21 is_stmt 0 view .LVU899
 3078 02ea FFF7FEFF 		bl	__aeabi_d2iz
 3079              	.LVL320:
 984:libscpi/src/utils.c ****     }
 3080              		.loc 1 984 30 view .LVU900
 3081 02ee 3030     		adds	r0, r0, #48
 984:libscpi/src/utils.c ****     }
 3082              		.loc 1 984 19 view .LVU901
 3083 02f0 04F80900 		strb	r0, [r4, r9]
 3084 02f4 09F10109 		add	r9, r9, #1
 3085              	.LVL321:
 984:libscpi/src/utils.c ****     }
 3086              		.loc 1 984 19 view .LVU902
 3087 02f8 35E7     		b	.L216
 3088              	.LVL322:
 3089              	.L221:
 993:libscpi/src/utils.c ****         if (w2 > 0) {
 3090              		.loc 1 993 9 is_stmt 1 view .LVU903
 993:libscpi/src/utils.c ****         if (w2 > 0) {
 3091              		.loc 1 993 17 is_stmt 0 view .LVU904
 3092 02fa 6055     		strb	r0, [r4, r5]
 994:libscpi/src/utils.c ****             ++buf[--w2];
 3093              		.loc 1 994 9 is_stmt 1 view .LVU905
 994:libscpi/src/utils.c ****             ++buf[--w2];
 3094              		.loc 1 994 12 is_stmt 0 view .LVU906
 3095 02fc 25B1     		cbz	r5, .L219
 995:libscpi/src/utils.c ****         } else {
 3096              		.loc 1 995 13 is_stmt 1 view .LVU907
 3097 02fe 013D     		subs	r5, r5, #1
 3098              	.LVL323:
 995:libscpi/src/utils.c ****         } else {
 3099              		.loc 1 995 13 is_stmt 0 view .LVU908
 3100 0300 635D     		ldrb	r3, [r4, r5]	@ zero_extendqisi2
 3101 0302 0133     		adds	r3, r3, #1
ARM GAS  /tmp/ccT7RLP5.s 			page 87


 3102 0304 6355     		strb	r3, [r4, r5]
 3103 0306 37E7     		b	.L218
 3104              	.L219:
 997:libscpi/src/utils.c ****             (*decpt)++;
 3105              		.loc 1 997 13 is_stmt 1 view .LVU909
 997:libscpi/src/utils.c ****             (*decpt)++;
 3106              		.loc 1 997 21 is_stmt 0 view .LVU910
 3107 0308 0E70     		strb	r6, [r1]
 998:libscpi/src/utils.c ****         }
 3108              		.loc 1 998 13 is_stmt 1 view .LVU911
 3109              	.LVL324:
 998:libscpi/src/utils.c ****         }
 3110              		.loc 1 998 21 is_stmt 0 view .LVU912
 3111 030a 08F10108 		add	r8, r8, #1
 3112              	.LVL325:
 998:libscpi/src/utils.c ****         }
 3113              		.loc 1 998 21 view .LVU913
 3114 030e 33E7     		b	.L218
 3115              	.LVL326:
 3116              	.L222:
 998:libscpi/src/utils.c ****         }
 3117              		.loc 1 998 21 view .LVU914
 3118              	.LBE44:
 3119              	.LBE46:
1043:libscpi/src/utils.c ****         decpt = -decpt + 1;
 3120              		.loc 1 1043 12 is_stmt 1 view .LVU915
1043:libscpi/src/utils.c ****         decpt = -decpt + 1;
 3121              		.loc 1 1043 27 is_stmt 0 view .LVU916
 3122 0310 08F10303 		add	r3, r8, #3
1043:libscpi/src/utils.c ****         decpt = -decpt + 1;
 3123              		.loc 1 1043 15 view .LVU917
 3124 0314 032B     		cmp	r3, #3
 3125 0316 21D8     		bhi	.L224
1044:libscpi/src/utils.c ****         memmove(s + decpt + 1, s, __prec + 1);
 3126              		.loc 1 1044 9 is_stmt 1 view .LVU918
1045:libscpi/src/utils.c ****         memset(s, '0', decpt + 1);
 3127              		.loc 1 1045 9 view .LVU919
1045:libscpi/src/utils.c ****         memset(s, '0', decpt + 1);
 3128              		.loc 1 1045 27 is_stmt 0 view .LVU920
 3129 0318 C8F10200 		rsb	r0, r8, #2
1045:libscpi/src/utils.c ****         memset(s, '0', decpt + 1);
 3130              		.loc 1 1045 9 view .LVU921
 3131 031c 2146     		mov	r1, r4
 3132 031e 2044     		add	r0, r0, r4
 3133 0320 FFF7FEFF 		bl	memmove
 3134              	.LVL327:
1046:libscpi/src/utils.c ****         s[1] = '.';
 3135              		.loc 1 1046 9 is_stmt 1 view .LVU922
 3136 0324 C8F10202 		rsb	r2, r8, #2
 3137 0328 3021     		movs	r1, #48
 3138 032a 2046     		mov	r0, r4
 3139 032c FFF7FEFF 		bl	memset
 3140              	.LVL328:
1047:libscpi/src/utils.c ****         decpt = 0;
 3141              		.loc 1 1047 9 view .LVU923
1047:libscpi/src/utils.c ****         decpt = 0;
 3142              		.loc 1 1047 14 is_stmt 0 view .LVU924
ARM GAS  /tmp/ccT7RLP5.s 			page 88


 3143 0330 2E23     		movs	r3, #46
 3144 0332 6370     		strb	r3, [r4, #1]
 3145 0334 3EE7     		b	.L247
 3146              	.L249:
 3147 0336 00BF     		.align	3
 3148              	.L248:
 3149 0338 B81E85EB 		.word	3951369912
 3150 033c 51B89E3F 		.word	1067366481
 3151 0340 FFFFEF7F 		.word	2146435071
 3152 0344 00000000 		.word	.LC5
 3153 0348 04000000 		.word	.LC6
 3154 034c 08000000 		.word	.LC7
 3155 0350 0C000000 		.word	.LC8
 3156 0354 00002440 		.word	1076101120
 3157 0358 0000F03F 		.word	1072693248
 3158              	.L224:
1050:libscpi/src/utils.c ****         s[1] = '.';
 3159              		.loc 1 1050 9 is_stmt 1 view .LVU925
 3160 035c 611C     		adds	r1, r4, #1
 3161 035e A01C     		adds	r0, r4, #2
 3162 0360 FFF7FEFF 		bl	memmove
 3163              	.LVL329:
1051:libscpi/src/utils.c ****         decpt--;
 3164              		.loc 1 1051 9 view .LVU926
1051:libscpi/src/utils.c ****         decpt--;
 3165              		.loc 1 1051 14 is_stmt 0 view .LVU927
 3166 0364 2E23     		movs	r3, #46
 3167 0366 6370     		strb	r3, [r4, #1]
1052:libscpi/src/utils.c ****     }
 3168              		.loc 1 1052 9 is_stmt 1 view .LVU928
1052:libscpi/src/utils.c ****     }
 3169              		.loc 1 1052 14 is_stmt 0 view .LVU929
 3170 0368 08F1FF30 		add	r0, r8, #-1
 3171              	.LVL330:
1052:libscpi/src/utils.c ****     }
 3172              		.loc 1 1052 14 view .LVU930
 3173 036c 23E7     		b	.L223
 3174              	.L226:
1057:libscpi/src/utils.c ****         s--;
 3175              		.loc 1 1057 9 is_stmt 1 view .LVU931
1057:libscpi/src/utils.c ****         s--;
 3176              		.loc 1 1057 14 is_stmt 0 view .LVU932
 3177 036e 6370     		strb	r3, [r4, #1]
1058:libscpi/src/utils.c ****     }
 3178              		.loc 1 1058 9 is_stmt 1 view .LVU933
1058:libscpi/src/utils.c ****     }
 3179              		.loc 1 1058 9 is_stmt 0 view .LVU934
 3180 0370 24E7     		b	.L225
 3181              		.cfi_endproc
 3182              	.LFE28:
 3184 0372 00BF     		.section	.text.SCPI_GetNativeFormat,"ax",%progbits
 3185              		.align	1
 3186              		.global	SCPI_GetNativeFormat
 3187              		.syntax unified
 3188              		.thumb
 3189              		.thumb_func
 3190              		.fpu fpv4-sp-d16
ARM GAS  /tmp/ccT7RLP5.s 			page 89


 3192              	SCPI_GetNativeFormat:
 3193              	.LFB29:
1091:libscpi/src/utils.c **** 
1092:libscpi/src/utils.c **** /**
1093:libscpi/src/utils.c ****  * Get native CPU endiannes
1094:libscpi/src/utils.c ****  * @return
1095:libscpi/src/utils.c ****  */
1096:libscpi/src/utils.c **** scpi_array_format_t SCPI_GetNativeFormat(void) {
 3194              		.loc 1 1096 48 is_stmt 1 view -0
 3195              		.cfi_startproc
 3196              		@ args = 0, pretend = 0, frame = 0
 3197              		@ frame_needed = 0, uses_anonymous_args = 0
 3198              		@ link register save eliminated.
1097:libscpi/src/utils.c **** 
1098:libscpi/src/utils.c ****     union {
 3199              		.loc 1 1098 5 view .LVU936
1099:libscpi/src/utils.c ****         uint32_t i;
1100:libscpi/src/utils.c ****         char c[4];
1101:libscpi/src/utils.c ****     } bint = {0x01020304};
1102:libscpi/src/utils.c **** 
1103:libscpi/src/utils.c ****     return bint.c[0] == 1 ? SCPI_FORMAT_BIGENDIAN : SCPI_FORMAT_LITTLEENDIAN;
 3200              		.loc 1 1103 5 view .LVU937
1104:libscpi/src/utils.c **** }
 3201              		.loc 1 1104 1 is_stmt 0 view .LVU938
 3202 0000 0220     		movs	r0, #2
 3203 0002 7047     		bx	lr
 3204              		.cfi_endproc
 3205              	.LFE29:
 3207              		.section	.text.SCPI_Swap16,"ax",%progbits
 3208              		.align	1
 3209              		.global	SCPI_Swap16
 3210              		.syntax unified
 3211              		.thumb
 3212              		.thumb_func
 3213              		.fpu fpv4-sp-d16
 3215              	SCPI_Swap16:
 3216              	.LVL331:
 3217              	.LFB30:
1105:libscpi/src/utils.c **** 
1106:libscpi/src/utils.c **** /**
1107:libscpi/src/utils.c ****  * Swap 16bit number
1108:libscpi/src/utils.c ****  * @param val
1109:libscpi/src/utils.c ****  * @return
1110:libscpi/src/utils.c ****  */
1111:libscpi/src/utils.c **** uint16_t SCPI_Swap16(uint16_t val) {
 3218              		.loc 1 1111 36 is_stmt 1 view -0
 3219              		.cfi_startproc
 3220              		@ args = 0, pretend = 0, frame = 0
 3221              		@ frame_needed = 0, uses_anonymous_args = 0
 3222              		@ link register save eliminated.
1112:libscpi/src/utils.c ****     return ((val & 0x00FF) << 8) |
 3223              		.loc 1 1112 5 view .LVU940
 3224              		.loc 1 1112 34 is_stmt 0 view .LVU941
 3225 0000 40BA     		rev16	r0, r0
 3226              	.LVL332:
1113:libscpi/src/utils.c ****             ((val & 0xFF00) >> 8);
1114:libscpi/src/utils.c **** }
ARM GAS  /tmp/ccT7RLP5.s 			page 90


 3227              		.loc 1 1114 1 view .LVU942
 3228 0002 80B2     		uxth	r0, r0
 3229 0004 7047     		bx	lr
 3230              		.cfi_endproc
 3231              	.LFE30:
 3233              		.section	.text.SCPI_Swap32,"ax",%progbits
 3234              		.align	1
 3235              		.global	SCPI_Swap32
 3236              		.syntax unified
 3237              		.thumb
 3238              		.thumb_func
 3239              		.fpu fpv4-sp-d16
 3241              	SCPI_Swap32:
 3242              	.LVL333:
 3243              	.LFB31:
1115:libscpi/src/utils.c **** 
1116:libscpi/src/utils.c **** /**
1117:libscpi/src/utils.c ****  * Swap 32bit number
1118:libscpi/src/utils.c ****  * @param val
1119:libscpi/src/utils.c ****  * @return
1120:libscpi/src/utils.c ****  */
1121:libscpi/src/utils.c **** uint32_t SCPI_Swap32(uint32_t val) {
 3244              		.loc 1 1121 36 is_stmt 1 view -0
 3245              		.cfi_startproc
 3246              		@ args = 0, pretend = 0, frame = 0
 3247              		@ frame_needed = 0, uses_anonymous_args = 0
 3248              		@ link register save eliminated.
1122:libscpi/src/utils.c ****     return ((val & 0x000000FFul) << 24) |
 3249              		.loc 1 1122 5 view .LVU944
1123:libscpi/src/utils.c ****             ((val & 0x0000FF00ul) << 8) |
1124:libscpi/src/utils.c ****             ((val & 0x00FF0000ul) >> 8) |
1125:libscpi/src/utils.c ****             ((val & 0xFF000000ul) >> 24);
1126:libscpi/src/utils.c **** }
 3250              		.loc 1 1126 1 is_stmt 0 view .LVU945
 3251 0000 00BA     		rev	r0, r0
 3252              	.LVL334:
 3253              		.loc 1 1126 1 view .LVU946
 3254 0002 7047     		bx	lr
 3255              		.cfi_endproc
 3256              	.LFE31:
 3258              		.section	.text.SCPI_Swap64,"ax",%progbits
 3259              		.align	1
 3260              		.global	SCPI_Swap64
 3261              		.syntax unified
 3262              		.thumb
 3263              		.thumb_func
 3264              		.fpu fpv4-sp-d16
 3266              	SCPI_Swap64:
 3267              	.LVL335:
 3268              	.LFB32:
1127:libscpi/src/utils.c **** 
1128:libscpi/src/utils.c **** /**
1129:libscpi/src/utils.c ****  * Swap 64bit number
1130:libscpi/src/utils.c ****  * @param val
1131:libscpi/src/utils.c ****  * @return
1132:libscpi/src/utils.c ****  */
1133:libscpi/src/utils.c **** uint64_t SCPI_Swap64(uint64_t val) {
ARM GAS  /tmp/ccT7RLP5.s 			page 91


 3269              		.loc 1 1133 36 is_stmt 1 view -0
 3270              		.cfi_startproc
 3271              		@ args = 0, pretend = 0, frame = 0
 3272              		@ frame_needed = 0, uses_anonymous_args = 0
 3273              		@ link register save eliminated.
1134:libscpi/src/utils.c ****     return ((val & 0x00000000000000FFull) << 56) |
 3274              		.loc 1 1134 5 view .LVU948
1133:libscpi/src/utils.c ****     return ((val & 0x00000000000000FFull) << 56) |
 3275              		.loc 1 1133 36 is_stmt 0 view .LVU949
 3276 0000 0346     		mov	r3, r0
1135:libscpi/src/utils.c ****             ((val & 0x000000000000FF00ull) << 40) |
1136:libscpi/src/utils.c ****             ((val & 0x0000000000FF0000ull) << 24) |
1137:libscpi/src/utils.c ****             ((val & 0x00000000FF000000ull) << 8) |
1138:libscpi/src/utils.c ****             ((val & 0x000000FF00000000ull) >> 8) |
1139:libscpi/src/utils.c ****             ((val & 0x0000FF0000000000ull) >> 24) |
1140:libscpi/src/utils.c ****             ((val & 0x00FF000000000000ull) >> 40) |
1141:libscpi/src/utils.c ****             ((val & 0xFF00000000000000ull) >> 56);
1142:libscpi/src/utils.c **** }
 3277              		.loc 1 1142 1 view .LVU950
 3278 0002 08BA     		rev	r0, r1
 3279              	.LVL336:
 3280              		.loc 1 1142 1 view .LVU951
 3281 0004 19BA     		rev	r1, r3
 3282 0006 7047     		bx	lr
 3283              		.cfi_endproc
 3284              	.LFE32:
 3286              		.text
 3287              	.Letext0:
 3288              		.file 2 "/usr/include/newlib/machine/_default_types.h"
 3289              		.file 3 "/usr/lib/gcc/arm-none-eabi/9.2.1/include/stddef.h"
 3290              		.file 4 "/usr/include/newlib/sys/_types.h"
 3291              		.file 5 "/usr/include/newlib/sys/reent.h"
 3292              		.file 6 "/usr/include/newlib/sys/lock.h"
 3293              		.file 7 "/usr/include/newlib/sys/_stdint.h"
 3294              		.file 8 "/usr/include/newlib/stdlib.h"
 3295              		.file 9 "/usr/include/newlib/ctype.h"
 3296              		.file 10 "/usr/include/newlib/math.h"
 3297              		.file 11 "/usr/lib/gcc/arm-none-eabi/9.2.1/include/stdint.h"
 3298              		.file 12 "libscpi/inc/scpi/types.h"
 3299              		.file 13 "/usr/include/newlib/string.h"
 3300              		.file 14 "/usr/include/newlib/stdio.h"
 3301              		.file 15 "/usr/include/newlib/strings.h"
ARM GAS  /tmp/ccT7RLP5.s 			page 92


DEFINED SYMBOLS
                            *ABS*:0000000000000000 utils.c
     /tmp/ccT7RLP5.s:18     .text.patternSeparatorShortPos:0000000000000000 $t
     /tmp/ccT7RLP5.s:25     .text.patternSeparatorShortPos:0000000000000000 patternSeparatorShortPos
     /tmp/ccT7RLP5.s:76     .text.patternSeparatorShortPos:0000000000000020 $d
     /tmp/ccT7RLP5.s:81     .text.strnpbrk:0000000000000000 $t
     /tmp/ccT7RLP5.s:89     .text.strnpbrk:0000000000000000 strnpbrk
     /tmp/ccT7RLP5.s:160    .text.UInt32ToStrBaseSign:0000000000000000 $t
     /tmp/ccT7RLP5.s:168    .text.UInt32ToStrBaseSign:0000000000000000 UInt32ToStrBaseSign
     /tmp/ccT7RLP5.s:386    .text.UInt32ToStrBaseSign:00000000000000c8 $d
     /tmp/ccT7RLP5.s:392    .text.SCPI_Int32ToStr:0000000000000000 $t
     /tmp/ccT7RLP5.s:399    .text.SCPI_Int32ToStr:0000000000000000 SCPI_Int32ToStr
     /tmp/ccT7RLP5.s:428    .text.SCPI_UInt32ToStrBase:0000000000000000 $t
     /tmp/ccT7RLP5.s:435    .text.SCPI_UInt32ToStrBase:0000000000000000 SCPI_UInt32ToStrBase
     /tmp/ccT7RLP5.s:465    .text.UInt64ToStrBaseSign:0000000000000000 $t
     /tmp/ccT7RLP5.s:473    .text.UInt64ToStrBaseSign:0000000000000000 UInt64ToStrBaseSign
     /tmp/ccT7RLP5.s:724    .text.UInt64ToStrBaseSign:0000000000000118 $d
     /tmp/ccT7RLP5.s:731    .text.SCPI_Int64ToStr:0000000000000000 $t
     /tmp/ccT7RLP5.s:738    .text.SCPI_Int64ToStr:0000000000000000 SCPI_Int64ToStr
     /tmp/ccT7RLP5.s:768    .text.SCPI_UInt64ToStrBase:0000000000000000 $t
     /tmp/ccT7RLP5.s:775    .text.SCPI_UInt64ToStrBase:0000000000000000 SCPI_UInt64ToStrBase
     /tmp/ccT7RLP5.s:811    .text.SCPI_FloatToStr:0000000000000000 $t
     /tmp/ccT7RLP5.s:818    .text.SCPI_FloatToStr:0000000000000000 SCPI_FloatToStr
     /tmp/ccT7RLP5.s:872    .text.SCPI_FloatToStr:0000000000000028 $d
     /tmp/ccT7RLP5.s:880    .text.SCPI_DoubleToStr:0000000000000000 $t
     /tmp/ccT7RLP5.s:887    .text.SCPI_DoubleToStr:0000000000000000 SCPI_DoubleToStr
     /tmp/ccT7RLP5.s:930    .text.SCPI_DoubleToStr:000000000000001c $d
     /tmp/ccT7RLP5.s:935    .text.strBaseToInt32:0000000000000000 $t
     /tmp/ccT7RLP5.s:943    .text.strBaseToInt32:0000000000000000 strBaseToInt32
     /tmp/ccT7RLP5.s:985    .text.strBaseToUInt32:0000000000000000 $t
     /tmp/ccT7RLP5.s:993    .text.strBaseToUInt32:0000000000000000 strBaseToUInt32
     /tmp/ccT7RLP5.s:1035   .text.strBaseToInt64:0000000000000000 $t
     /tmp/ccT7RLP5.s:1043   .text.strBaseToInt64:0000000000000000 strBaseToInt64
     /tmp/ccT7RLP5.s:1085   .text.strBaseToUInt64:0000000000000000 $t
     /tmp/ccT7RLP5.s:1093   .text.strBaseToUInt64:0000000000000000 strBaseToUInt64
     /tmp/ccT7RLP5.s:1135   .text.strToFloat:0000000000000000 $t
     /tmp/ccT7RLP5.s:1143   .text.strToFloat:0000000000000000 strToFloat
     /tmp/ccT7RLP5.s:1186   .text.strToDouble:0000000000000000 $t
     /tmp/ccT7RLP5.s:1194   .text.strToDouble:0000000000000000 strToDouble
     /tmp/ccT7RLP5.s:1237   .text.compareStr:0000000000000000 $t
     /tmp/ccT7RLP5.s:1245   .text.compareStr:0000000000000000 compareStr
     /tmp/ccT7RLP5.s:1301   .text.compareStrAndNum:0000000000000000 $t
     /tmp/ccT7RLP5.s:1309   .text.compareStrAndNum:0000000000000000 compareStrAndNum
     /tmp/ccT7RLP5.s:1435   .text.compareStrAndNum:0000000000000060 $d
     /tmp/ccT7RLP5.s:1440   .text.skipWhitespace:0000000000000000 $t
     /tmp/ccT7RLP5.s:1448   .text.skipWhitespace:0000000000000000 skipWhitespace
     /tmp/ccT7RLP5.s:1495   .text.skipWhitespace:000000000000001c $d
     /tmp/ccT7RLP5.s:1500   .text.matchPattern:0000000000000000 $t
     /tmp/ccT7RLP5.s:1508   .text.matchPattern:0000000000000000 matchPattern
     /tmp/ccT7RLP5.s:1628   .text.matchCommand:0000000000000000 $t
     /tmp/ccT7RLP5.s:1636   .text.matchCommand:0000000000000000 matchCommand
     /tmp/ccT7RLP5.s:2268   .text.matchCommand:000000000000021c $d
     /tmp/ccT7RLP5.s:2275   .text.composeCompoundCommand:0000000000000000 $t
     /tmp/ccT7RLP5.s:2283   .text.composeCompoundCommand:0000000000000000 composeCompoundCommand
     /tmp/ccT7RLP5.s:2421   .text.SCPI_dtostre:0000000000000000 $t
     /tmp/ccT7RLP5.s:2428   .text.SCPI_dtostre:0000000000000000 SCPI_dtostre
     /tmp/ccT7RLP5.s:3149   .text.SCPI_dtostre:0000000000000338 $d
ARM GAS  /tmp/ccT7RLP5.s 			page 93


     /tmp/ccT7RLP5.s:3160   .text.SCPI_dtostre:000000000000035c $t
     /tmp/ccT7RLP5.s:3185   .text.SCPI_GetNativeFormat:0000000000000000 $t
     /tmp/ccT7RLP5.s:3192   .text.SCPI_GetNativeFormat:0000000000000000 SCPI_GetNativeFormat
     /tmp/ccT7RLP5.s:3208   .text.SCPI_Swap16:0000000000000000 $t
     /tmp/ccT7RLP5.s:3215   .text.SCPI_Swap16:0000000000000000 SCPI_Swap16
     /tmp/ccT7RLP5.s:3234   .text.SCPI_Swap32:0000000000000000 $t
     /tmp/ccT7RLP5.s:3241   .text.SCPI_Swap32:0000000000000000 SCPI_Swap32
     /tmp/ccT7RLP5.s:3259   .text.SCPI_Swap64:0000000000000000 $t
     /tmp/ccT7RLP5.s:3266   .text.SCPI_Swap64:0000000000000000 SCPI_Swap64

UNDEFINED SYMBOLS
_ctype_
__aeabi_uldivmod
__aeabi_f2d
snprintf
strlen
strtol
strtoul
strtoll
strtoull
strtof
strtod
strncasecmp
strnlen
memmove
__aeabi_dcmpun
__aeabi_dcmpgt
__aeabi_dcmplt
__aeabi_dcmpeq
__aeabi_ddiv
__aeabi_dadd
__aeabi_dmul
__aeabi_d2iz
strcpy
strncpy
frexp
modf
memset
