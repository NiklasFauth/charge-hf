ARM GAS  /tmp/ccx2yP0p.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 4
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"usbd_core.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.USBD_Init,"ax",%progbits
  18              		.align	1
  19              		.global	USBD_Init
  20              		.arch armv7e-m
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  24              		.fpu fpv4-sp-d16
  26              	USBD_Init:
  27              	.LVL0:
  28              	.LFB360:
  29              		.file 1 "Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c"
   1:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** /**
   2:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   ******************************************************************************
   3:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   * @file    usbd_core.c
   4:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   * @author  MCD Application Team
   5:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   * @brief   This file provides all the USBD core functions.
   6:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   ******************************************************************************
   7:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   * @attention
   8:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   *
   9:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   * <h2><center>&copy; Copyright (c) 2015 STMicroelectronics.
  10:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   * All rights reserved.</center></h2>
  11:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   *
  12:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   * This software component is licensed by ST under Ultimate Liberty license
  13:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   * SLA0044, the "License"; You may not use this file except in compliance with
  14:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   * the License. You may obtain a copy of the License at:
  15:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   *                      www.st.com/SLA0044
  16:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   *
  17:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   ******************************************************************************
  18:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   */
  19:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** 
  20:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** /* Includes ------------------------------------------------------------------*/
  21:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** #include "usbd_core.h"
  22:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** 
  23:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** /** @addtogroup STM32_USBD_DEVICE_LIBRARY
  24:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** * @{
  25:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** */
  26:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** 
  27:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** 
  28:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** /** @defgroup USBD_CORE
  29:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** * @brief usbd core module
ARM GAS  /tmp/ccx2yP0p.s 			page 2


  30:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** * @{
  31:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** */
  32:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** 
  33:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** /** @defgroup USBD_CORE_Private_TypesDefinitions
  34:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** * @{
  35:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** */
  36:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** 
  37:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** /**
  38:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** * @}
  39:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** */
  40:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** 
  41:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** 
  42:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** /** @defgroup USBD_CORE_Private_Defines
  43:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** * @{
  44:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** */
  45:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** 
  46:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** /**
  47:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** * @}
  48:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** */
  49:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** 
  50:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** 
  51:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** /** @defgroup USBD_CORE_Private_Macros
  52:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** * @{
  53:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** */
  54:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** 
  55:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** /**
  56:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** * @}
  57:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** */
  58:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** 
  59:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** 
  60:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** /** @defgroup USBD_CORE_Private_FunctionPrototypes
  61:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** * @{
  62:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** */
  63:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** 
  64:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** /**
  65:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** * @}
  66:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** */
  67:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** 
  68:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** /** @defgroup USBD_CORE_Private_Variables
  69:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** * @{
  70:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** */
  71:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** 
  72:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** /**
  73:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** * @}
  74:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** */
  75:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** 
  76:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** 
  77:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** /** @defgroup USBD_CORE_Private_Functions
  78:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** * @{
  79:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** */
  80:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** 
  81:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** /**
  82:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** * @brief  USBD_Init
  83:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** *         Initializes the device stack and load the class driver
  84:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** * @param  pdev: device instance
  85:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** * @param  pdesc: Descriptor structure address
  86:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** * @param  id: Low level core index
ARM GAS  /tmp/ccx2yP0p.s 			page 3


  87:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** * @retval None
  88:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** */
  89:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** USBD_StatusTypeDef USBD_Init(USBD_HandleTypeDef *pdev,
  90:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****                              USBD_DescriptorsTypeDef *pdesc, uint8_t id)
  91:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** {
  30              		.loc 1 91 1 view -0
  31              		.cfi_startproc
  32              		@ args = 0, pretend = 0, frame = 0
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  92:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   /* Check whether the USB Host handle is valid */
  93:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   if (pdev == NULL)
  34              		.loc 1 93 3 view .LVU1
  91:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   /* Check whether the USB Host handle is valid */
  35              		.loc 1 91 1 is_stmt 0 view .LVU2
  36 0000 08B5     		push	{r3, lr}
  37              	.LCFI0:
  38              		.cfi_def_cfa_offset 8
  39              		.cfi_offset 3, -8
  40              		.cfi_offset 14, -4
  41              		.loc 1 93 6 view .LVU3
  42 0002 80B1     		cbz	r0, .L5
  94:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   {
  95:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** #if (USBD_DEBUG_LEVEL > 1U)
  96:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****     USBD_ErrLog("Invalid Device handle");
  97:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** #endif
  98:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****     return USBD_FAIL;
  99:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   }
 100:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** 
 101:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   /* Unlink previous class*/
 102:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   if (pdev->pClass != NULL)
  43              		.loc 1 102 3 is_stmt 1 view .LVU4
  44              		.loc 1 102 6 is_stmt 0 view .LVU5
  45 0004 D0F8B432 		ldr	r3, [r0, #692]
  46 0008 13B1     		cbz	r3, .L3
 103:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   {
 104:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****     pdev->pClass = NULL;
  47              		.loc 1 104 5 is_stmt 1 view .LVU6
  48              		.loc 1 104 18 is_stmt 0 view .LVU7
  49 000a 0023     		movs	r3, #0
  50 000c C0F8B432 		str	r3, [r0, #692]
  51              	.L3:
 105:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   }
 106:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** 
 107:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   /* Assign USBD Descriptors */
 108:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   if (pdesc != NULL)
  52              		.loc 1 108 3 is_stmt 1 view .LVU8
  53              		.loc 1 108 6 is_stmt 0 view .LVU9
  54 0010 09B1     		cbz	r1, .L4
 109:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   {
 110:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****     pdev->pDesc = pdesc;
  55              		.loc 1 110 5 is_stmt 1 view .LVU10
  56              		.loc 1 110 17 is_stmt 0 view .LVU11
  57 0012 C0F8B012 		str	r1, [r0, #688]
  58              	.L4:
 111:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   }
 112:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** 
 113:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   /* Set Device initial State */
ARM GAS  /tmp/ccx2yP0p.s 			page 4


 114:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   pdev->dev_state = USBD_STATE_DEFAULT;
  59              		.loc 1 114 3 is_stmt 1 view .LVU12
  60              		.loc 1 114 19 is_stmt 0 view .LVU13
  61 0016 0123     		movs	r3, #1
  62 0018 80F89C32 		strb	r3, [r0, #668]
 115:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   pdev->id = id;
  63              		.loc 1 115 3 is_stmt 1 view .LVU14
  64              		.loc 1 115 12 is_stmt 0 view .LVU15
  65 001c 0270     		strb	r2, [r0]
 116:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   /* Initialize low level driver */
 117:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   USBD_LL_Init(pdev);
  66              		.loc 1 117 3 is_stmt 1 view .LVU16
  67 001e FFF7FEFF 		bl	USBD_LL_Init
  68              	.LVL1:
 118:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** 
 119:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   return USBD_OK;
  69              		.loc 1 119 3 view .LVU17
  70              		.loc 1 119 10 is_stmt 0 view .LVU18
  71 0022 0020     		movs	r0, #0
  72              	.L2:
 120:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** }
  73              		.loc 1 120 1 view .LVU19
  74 0024 08BD     		pop	{r3, pc}
  75              	.LVL2:
  76              	.L5:
  98:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   }
  77              		.loc 1 98 12 view .LVU20
  78 0026 0220     		movs	r0, #2
  79              	.LVL3:
  98:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   }
  80              		.loc 1 98 12 view .LVU21
  81 0028 FCE7     		b	.L2
  82              		.cfi_endproc
  83              	.LFE360:
  85              		.section	.text.USBD_DeInit,"ax",%progbits
  86              		.align	1
  87              		.global	USBD_DeInit
  88              		.syntax unified
  89              		.thumb
  90              		.thumb_func
  91              		.fpu fpv4-sp-d16
  93              	USBD_DeInit:
  94              	.LVL4:
  95              	.LFB361:
 121:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** 
 122:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** /**
 123:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** * @brief  USBD_DeInit
 124:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** *         Re-Initialize th device library
 125:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** * @param  pdev: device instance
 126:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** * @retval status: status
 127:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** */
 128:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** USBD_StatusTypeDef USBD_DeInit(USBD_HandleTypeDef *pdev)
 129:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** {
  96              		.loc 1 129 1 is_stmt 1 view -0
  97              		.cfi_startproc
  98              		@ args = 0, pretend = 0, frame = 0
  99              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  /tmp/ccx2yP0p.s 			page 5


 130:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   /* Set Default State */
 131:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   pdev->dev_state = USBD_STATE_DEFAULT;
 100              		.loc 1 131 3 view .LVU23
 101              		.loc 1 131 19 is_stmt 0 view .LVU24
 102 0000 0123     		movs	r3, #1
 129:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   /* Set Default State */
 103              		.loc 1 129 1 view .LVU25
 104 0002 10B5     		push	{r4, lr}
 105              	.LCFI1:
 106              		.cfi_def_cfa_offset 8
 107              		.cfi_offset 4, -8
 108              		.cfi_offset 14, -4
 109              		.loc 1 131 19 view .LVU26
 110 0004 80F89C32 		strb	r3, [r0, #668]
 132:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** 
 133:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   /* Free Class Resources */
 134:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   pdev->pClass->DeInit(pdev, (uint8_t)pdev->dev_config);
 111              		.loc 1 134 3 is_stmt 1 view .LVU27
 112              		.loc 1 134 15 is_stmt 0 view .LVU28
 113 0008 D0F8B432 		ldr	r3, [r0, #692]
 114              		.loc 1 134 3 view .LVU29
 115 000c 0179     		ldrb	r1, [r0, #4]	@ zero_extendqisi2
 116 000e 5B68     		ldr	r3, [r3, #4]
 129:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   /* Set Default State */
 117              		.loc 1 129 1 view .LVU30
 118 0010 0446     		mov	r4, r0
 119              		.loc 1 134 3 view .LVU31
 120 0012 9847     		blx	r3
 121              	.LVL5:
 135:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** 
 136:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   /* Stop the low level driver  */
 137:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   USBD_LL_Stop(pdev);
 122              		.loc 1 137 3 is_stmt 1 view .LVU32
 123 0014 2046     		mov	r0, r4
 124 0016 FFF7FEFF 		bl	USBD_LL_Stop
 125              	.LVL6:
 138:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** 
 139:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   /* Initialize low level driver */
 140:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   USBD_LL_DeInit(pdev);
 126              		.loc 1 140 3 view .LVU33
 127 001a 2046     		mov	r0, r4
 128 001c FFF7FEFF 		bl	USBD_LL_DeInit
 129              	.LVL7:
 141:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** 
 142:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   return USBD_OK;
 130              		.loc 1 142 3 view .LVU34
 143:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** }
 131              		.loc 1 143 1 is_stmt 0 view .LVU35
 132 0020 0020     		movs	r0, #0
 133 0022 10BD     		pop	{r4, pc}
 134              		.loc 1 143 1 view .LVU36
 135              		.cfi_endproc
 136              	.LFE361:
 138              		.section	.text.USBD_RegisterClass,"ax",%progbits
 139              		.align	1
 140              		.global	USBD_RegisterClass
 141              		.syntax unified
ARM GAS  /tmp/ccx2yP0p.s 			page 6


 142              		.thumb
 143              		.thumb_func
 144              		.fpu fpv4-sp-d16
 146              	USBD_RegisterClass:
 147              	.LVL8:
 148              	.LFB362:
 144:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** 
 145:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** /**
 146:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   * @brief  USBD_RegisterClass
 147:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   *         Link class driver to Device Core.
 148:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   * @param  pDevice : Device Handle
 149:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   * @param  pclass: Class handle
 150:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   * @retval USBD Status
 151:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   */
 152:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** USBD_StatusTypeDef  USBD_RegisterClass(USBD_HandleTypeDef *pdev, USBD_ClassTypeDef *pclass)
 153:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** {
 149              		.loc 1 153 1 is_stmt 1 view -0
 150              		.cfi_startproc
 151              		@ args = 0, pretend = 0, frame = 0
 152              		@ frame_needed = 0, uses_anonymous_args = 0
 153              		@ link register save eliminated.
 154:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   USBD_StatusTypeDef status = USBD_OK;
 154              		.loc 1 154 3 view .LVU38
 155:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   if (pclass != NULL)
 155              		.loc 1 155 3 view .LVU39
 156              		.loc 1 155 6 is_stmt 0 view .LVU40
 157 0000 19B1     		cbz	r1, .L15
 156:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   {
 157:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****     /* link the class to the USB Device handle */
 158:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****     pdev->pClass = pclass;
 158              		.loc 1 158 5 is_stmt 1 view .LVU41
 159              		.loc 1 158 18 is_stmt 0 view .LVU42
 160 0002 C0F8B412 		str	r1, [r0, #692]
 159:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****     status = USBD_OK;
 161              		.loc 1 159 5 is_stmt 1 view .LVU43
 162              		.loc 1 159 12 is_stmt 0 view .LVU44
 163 0006 0020     		movs	r0, #0
 164              	.LVL9:
 165              		.loc 1 159 12 view .LVU45
 166 0008 7047     		bx	lr
 167              	.LVL10:
 168              	.L15:
 160:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   }
 161:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   else
 162:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   {
 163:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** #if (USBD_DEBUG_LEVEL > 1U)
 164:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****     USBD_ErrLog("Invalid Class handle");
 165:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** #endif
 166:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****     status = USBD_FAIL;
 169              		.loc 1 166 12 view .LVU46
 170 000a 0220     		movs	r0, #2
 171              	.LVL11:
 167:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   }
 168:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** 
 169:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   return status;
 172              		.loc 1 169 3 is_stmt 1 view .LVU47
 170:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** }
ARM GAS  /tmp/ccx2yP0p.s 			page 7


 173              		.loc 1 170 1 is_stmt 0 view .LVU48
 174 000c 7047     		bx	lr
 175              		.cfi_endproc
 176              	.LFE362:
 178              		.section	.text.USBD_Start,"ax",%progbits
 179              		.align	1
 180              		.global	USBD_Start
 181              		.syntax unified
 182              		.thumb
 183              		.thumb_func
 184              		.fpu fpv4-sp-d16
 186              	USBD_Start:
 187              	.LVL12:
 188              	.LFB363:
 171:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** 
 172:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** /**
 173:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   * @brief  USBD_Start
 174:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   *         Start the USB Device Core.
 175:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   * @param  pdev: Device Handle
 176:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   * @retval USBD Status
 177:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   */
 178:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** USBD_StatusTypeDef  USBD_Start(USBD_HandleTypeDef *pdev)
 179:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** {
 189              		.loc 1 179 1 is_stmt 1 view -0
 190              		.cfi_startproc
 191              		@ args = 0, pretend = 0, frame = 0
 192              		@ frame_needed = 0, uses_anonymous_args = 0
 180:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   /* Start the low level driver  */
 181:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   USBD_LL_Start(pdev);
 193              		.loc 1 181 3 view .LVU50
 179:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   /* Start the low level driver  */
 194              		.loc 1 179 1 is_stmt 0 view .LVU51
 195 0000 08B5     		push	{r3, lr}
 196              	.LCFI2:
 197              		.cfi_def_cfa_offset 8
 198              		.cfi_offset 3, -8
 199              		.cfi_offset 14, -4
 200              		.loc 1 181 3 view .LVU52
 201 0002 FFF7FEFF 		bl	USBD_LL_Start
 202              	.LVL13:
 182:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** 
 183:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   return USBD_OK;
 203              		.loc 1 183 3 is_stmt 1 view .LVU53
 184:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** }
 204              		.loc 1 184 1 is_stmt 0 view .LVU54
 205 0006 0020     		movs	r0, #0
 206 0008 08BD     		pop	{r3, pc}
 207              		.cfi_endproc
 208              	.LFE363:
 210              		.section	.text.USBD_Stop,"ax",%progbits
 211              		.align	1
 212              		.global	USBD_Stop
 213              		.syntax unified
 214              		.thumb
 215              		.thumb_func
 216              		.fpu fpv4-sp-d16
 218              	USBD_Stop:
ARM GAS  /tmp/ccx2yP0p.s 			page 8


 219              	.LVL14:
 220              	.LFB364:
 185:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** 
 186:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** /**
 187:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   * @brief  USBD_Stop
 188:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   *         Stop the USB Device Core.
 189:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   * @param  pdev: Device Handle
 190:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   * @retval USBD Status
 191:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   */
 192:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** USBD_StatusTypeDef  USBD_Stop(USBD_HandleTypeDef *pdev)
 193:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** {
 221              		.loc 1 193 1 is_stmt 1 view -0
 222              		.cfi_startproc
 223              		@ args = 0, pretend = 0, frame = 0
 224              		@ frame_needed = 0, uses_anonymous_args = 0
 194:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   /* Free Class Resources */
 195:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   pdev->pClass->DeInit(pdev, (uint8_t)pdev->dev_config);
 225              		.loc 1 195 3 view .LVU56
 193:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   /* Free Class Resources */
 226              		.loc 1 193 1 is_stmt 0 view .LVU57
 227 0000 10B5     		push	{r4, lr}
 228              	.LCFI3:
 229              		.cfi_def_cfa_offset 8
 230              		.cfi_offset 4, -8
 231              		.cfi_offset 14, -4
 232              		.loc 1 195 15 view .LVU58
 233 0002 D0F8B432 		ldr	r3, [r0, #692]
 234              		.loc 1 195 3 view .LVU59
 235 0006 0179     		ldrb	r1, [r0, #4]	@ zero_extendqisi2
 236 0008 5B68     		ldr	r3, [r3, #4]
 193:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   /* Free Class Resources */
 237              		.loc 1 193 1 view .LVU60
 238 000a 0446     		mov	r4, r0
 239              		.loc 1 195 3 view .LVU61
 240 000c 9847     		blx	r3
 241              	.LVL15:
 196:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** 
 197:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   /* Stop the low level driver */
 198:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   USBD_LL_Stop(pdev);
 242              		.loc 1 198 3 is_stmt 1 view .LVU62
 243 000e 2046     		mov	r0, r4
 244 0010 FFF7FEFF 		bl	USBD_LL_Stop
 245              	.LVL16:
 199:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** 
 200:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   return USBD_OK;
 246              		.loc 1 200 3 view .LVU63
 201:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** }
 247              		.loc 1 201 1 is_stmt 0 view .LVU64
 248 0014 0020     		movs	r0, #0
 249 0016 10BD     		pop	{r4, pc}
 250              		.loc 1 201 1 view .LVU65
 251              		.cfi_endproc
 252              	.LFE364:
 254              		.section	.text.USBD_RunTestMode,"ax",%progbits
 255              		.align	1
 256              		.global	USBD_RunTestMode
 257              		.syntax unified
ARM GAS  /tmp/ccx2yP0p.s 			page 9


 258              		.thumb
 259              		.thumb_func
 260              		.fpu fpv4-sp-d16
 262              	USBD_RunTestMode:
 263              	.LVL17:
 264              	.LFB365:
 202:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** 
 203:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** /**
 204:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** * @brief  USBD_RunTestMode
 205:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** *         Launch test mode process
 206:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** * @param  pdev: device instance
 207:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** * @retval status
 208:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** */
 209:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** USBD_StatusTypeDef  USBD_RunTestMode(USBD_HandleTypeDef  *pdev)
 210:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** {
 265              		.loc 1 210 1 is_stmt 1 view -0
 266              		.cfi_startproc
 267              		@ args = 0, pretend = 0, frame = 0
 268              		@ frame_needed = 0, uses_anonymous_args = 0
 269              		@ link register save eliminated.
 211:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   /* Prevent unused argument compilation warning */
 212:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   UNUSED(pdev);
 270              		.loc 1 212 3 view .LVU67
 213:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** 
 214:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   return USBD_OK;
 271              		.loc 1 214 3 view .LVU68
 215:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** }
 272              		.loc 1 215 1 is_stmt 0 view .LVU69
 273 0000 0020     		movs	r0, #0
 274              	.LVL18:
 275              		.loc 1 215 1 view .LVU70
 276 0002 7047     		bx	lr
 277              		.cfi_endproc
 278              	.LFE365:
 280              		.section	.text.USBD_SetClassConfig,"ax",%progbits
 281              		.align	1
 282              		.global	USBD_SetClassConfig
 283              		.syntax unified
 284              		.thumb
 285              		.thumb_func
 286              		.fpu fpv4-sp-d16
 288              	USBD_SetClassConfig:
 289              	.LVL19:
 290              	.LFB366:
 216:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** 
 217:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** /**
 218:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** * @brief  USBD_SetClassConfig
 219:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** *        Configure device and start the interface
 220:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** * @param  pdev: device instance
 221:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** * @param  cfgidx: configuration index
 222:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** * @retval status
 223:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** */
 224:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** 
 225:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** USBD_StatusTypeDef USBD_SetClassConfig(USBD_HandleTypeDef  *pdev, uint8_t cfgidx)
 226:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** {
 291              		.loc 1 226 1 is_stmt 1 view -0
 292              		.cfi_startproc
ARM GAS  /tmp/ccx2yP0p.s 			page 10


 293              		@ args = 0, pretend = 0, frame = 0
 294              		@ frame_needed = 0, uses_anonymous_args = 0
 227:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   USBD_StatusTypeDef ret = USBD_FAIL;
 295              		.loc 1 227 3 view .LVU72
 228:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** 
 229:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   if (pdev->pClass != NULL)
 296              		.loc 1 229 3 view .LVU73
 226:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   USBD_StatusTypeDef ret = USBD_FAIL;
 297              		.loc 1 226 1 is_stmt 0 view .LVU74
 298 0000 08B5     		push	{r3, lr}
 299              	.LCFI4:
 300              		.cfi_def_cfa_offset 8
 301              		.cfi_offset 3, -8
 302              		.cfi_offset 14, -4
 303              		.loc 1 229 11 view .LVU75
 304 0002 D0F8B432 		ldr	r3, [r0, #692]
 305              		.loc 1 229 6 view .LVU76
 306 0006 0BB9     		cbnz	r3, .L20
 307              	.LVL20:
 308              	.L22:
 227:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   USBD_StatusTypeDef ret = USBD_FAIL;
 309              		.loc 1 227 22 view .LVU77
 310 0008 0220     		movs	r0, #2
 311              	.L21:
 312              	.LVL21:
 230:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   {
 231:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****     /* Set configuration  and Start the Class*/
 232:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****     if (pdev->pClass->Init(pdev, cfgidx) == 0U)
 233:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****     {
 234:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****       ret = USBD_OK;
 235:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****     }
 236:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   }
 237:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** 
 238:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   return ret;
 313              		.loc 1 238 3 is_stmt 1 view .LVU78
 239:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** }
 314              		.loc 1 239 1 is_stmt 0 view .LVU79
 315 000a 08BD     		pop	{r3, pc}
 316              	.LVL22:
 317              	.L20:
 232:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****     {
 318              		.loc 1 232 5 is_stmt 1 view .LVU80
 232:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****     {
 319              		.loc 1 232 9 is_stmt 0 view .LVU81
 320 000c 1B68     		ldr	r3, [r3]
 321 000e 9847     		blx	r3
 322              	.LVL23:
 232:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****     {
 323              		.loc 1 232 8 view .LVU82
 324 0010 0028     		cmp	r0, #0
 325 0012 FAD0     		beq	.L21
 326 0014 F8E7     		b	.L22
 327              		.cfi_endproc
 328              	.LFE366:
 330              		.section	.text.USBD_ClrClassConfig,"ax",%progbits
 331              		.align	1
 332              		.global	USBD_ClrClassConfig
ARM GAS  /tmp/ccx2yP0p.s 			page 11


 333              		.syntax unified
 334              		.thumb
 335              		.thumb_func
 336              		.fpu fpv4-sp-d16
 338              	USBD_ClrClassConfig:
 339              	.LVL24:
 340              	.LFB367:
 240:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** 
 241:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** /**
 242:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** * @brief  USBD_ClrClassConfig
 243:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** *         Clear current configuration
 244:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** * @param  pdev: device instance
 245:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** * @param  cfgidx: configuration index
 246:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** * @retval status: USBD_StatusTypeDef
 247:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** */
 248:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** USBD_StatusTypeDef USBD_ClrClassConfig(USBD_HandleTypeDef  *pdev, uint8_t cfgidx)
 249:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** {
 341              		.loc 1 249 1 is_stmt 1 view -0
 342              		.cfi_startproc
 343              		@ args = 0, pretend = 0, frame = 0
 344              		@ frame_needed = 0, uses_anonymous_args = 0
 250:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   /* Clear configuration  and De-initialize the Class process*/
 251:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   pdev->pClass->DeInit(pdev, cfgidx);
 345              		.loc 1 251 3 view .LVU84
 249:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   /* Clear configuration  and De-initialize the Class process*/
 346              		.loc 1 249 1 is_stmt 0 view .LVU85
 347 0000 08B5     		push	{r3, lr}
 348              	.LCFI5:
 349              		.cfi_def_cfa_offset 8
 350              		.cfi_offset 3, -8
 351              		.cfi_offset 14, -4
 352              		.loc 1 251 15 view .LVU86
 353 0002 D0F8B432 		ldr	r3, [r0, #692]
 354              		.loc 1 251 3 view .LVU87
 355 0006 5B68     		ldr	r3, [r3, #4]
 356 0008 9847     		blx	r3
 357              	.LVL25:
 252:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** 
 253:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   return USBD_OK;
 358              		.loc 1 253 3 is_stmt 1 view .LVU88
 254:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** }
 359              		.loc 1 254 1 is_stmt 0 view .LVU89
 360 000a 0020     		movs	r0, #0
 361 000c 08BD     		pop	{r3, pc}
 362              		.cfi_endproc
 363              	.LFE367:
 365              		.section	.text.USBD_LL_SetupStage,"ax",%progbits
 366              		.align	1
 367              		.global	USBD_LL_SetupStage
 368              		.syntax unified
 369              		.thumb
 370              		.thumb_func
 371              		.fpu fpv4-sp-d16
 373              	USBD_LL_SetupStage:
 374              	.LVL26:
 375              	.LFB368:
 255:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** 
ARM GAS  /tmp/ccx2yP0p.s 			page 12


 256:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** 
 257:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** /**
 258:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** * @brief  USBD_SetupStage
 259:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** *         Handle the setup stage
 260:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** * @param  pdev: device instance
 261:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** * @retval status
 262:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** */
 263:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** USBD_StatusTypeDef USBD_LL_SetupStage(USBD_HandleTypeDef *pdev, uint8_t *psetup)
 264:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** {
 376              		.loc 1 264 1 is_stmt 1 view -0
 377              		.cfi_startproc
 378              		@ args = 0, pretend = 0, frame = 0
 379              		@ frame_needed = 0, uses_anonymous_args = 0
 265:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   USBD_ParseSetupRequest(&pdev->request, psetup);
 380              		.loc 1 265 3 view .LVU91
 264:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   USBD_ParseSetupRequest(&pdev->request, psetup);
 381              		.loc 1 264 1 is_stmt 0 view .LVU92
 382 0000 38B5     		push	{r3, r4, r5, lr}
 383              	.LCFI6:
 384              		.cfi_def_cfa_offset 16
 385              		.cfi_offset 3, -16
 386              		.cfi_offset 4, -12
 387              		.cfi_offset 5, -8
 388              		.cfi_offset 14, -4
 264:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   USBD_ParseSetupRequest(&pdev->request, psetup);
 389              		.loc 1 264 1 view .LVU93
 390 0002 0446     		mov	r4, r0
 391              		.loc 1 265 3 view .LVU94
 392 0004 00F52A75 		add	r5, r0, #680
 393 0008 2846     		mov	r0, r5
 394              	.LVL27:
 395              		.loc 1 265 3 view .LVU95
 396 000a FFF7FEFF 		bl	USBD_ParseSetupRequest
 397              	.LVL28:
 266:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** 
 267:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   pdev->ep0_state = USBD_EP0_SETUP;
 398              		.loc 1 267 3 is_stmt 1 view .LVU96
 399              		.loc 1 267 19 is_stmt 0 view .LVU97
 400 000e 0123     		movs	r3, #1
 268:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** 
 269:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   pdev->ep0_data_len = pdev->request.wLength;
 270:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** 
 271:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   switch (pdev->request.bmRequest & 0x1FU)
 401              		.loc 1 271 24 view .LVU98
 402 0010 94F8A812 		ldrb	r1, [r4, #680]	@ zero_extendqisi2
 267:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** 
 403              		.loc 1 267 19 view .LVU99
 404 0014 C4F89432 		str	r3, [r4, #660]
 269:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** 
 405              		.loc 1 269 3 is_stmt 1 view .LVU100
 269:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** 
 406              		.loc 1 269 37 is_stmt 0 view .LVU101
 407 0018 B4F8AE32 		ldrh	r3, [r4, #686]
 408 001c C4F89832 		str	r3, [r4, #664]
 409              		.loc 1 271 3 is_stmt 1 view .LVU102
 410 0020 01F01F03 		and	r3, r1, #31
 411 0024 012B     		cmp	r3, #1
ARM GAS  /tmp/ccx2yP0p.s 			page 13


 412 0026 08D0     		beq	.L25
 413 0028 022B     		cmp	r3, #2
 414 002a 0BD0     		beq	.L26
 415 002c 7BB9     		cbnz	r3, .L27
 272:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   {
 273:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****     case USB_REQ_RECIPIENT_DEVICE:
 274:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****       USBD_StdDevReq(pdev, &pdev->request);
 416              		.loc 1 274 7 view .LVU103
 417 002e 2946     		mov	r1, r5
 418 0030 2046     		mov	r0, r4
 419 0032 FFF7FEFF 		bl	USBD_StdDevReq
 420              	.LVL29:
 275:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****       break;
 421              		.loc 1 275 7 view .LVU104
 422              	.L28:
 276:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** 
 277:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****     case USB_REQ_RECIPIENT_INTERFACE:
 278:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****       USBD_StdItfReq(pdev, &pdev->request);
 279:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****       break;
 280:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** 
 281:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****     case USB_REQ_RECIPIENT_ENDPOINT:
 282:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****       USBD_StdEPReq(pdev, &pdev->request);
 283:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****       break;
 284:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** 
 285:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****     default:
 286:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****       USBD_LL_StallEP(pdev, (pdev->request.bmRequest & 0x80U));
 287:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****       break;
 288:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   }
 289:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** 
 290:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   return USBD_OK;
 423              		.loc 1 290 3 view .LVU105
 291:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** }
 424              		.loc 1 291 1 is_stmt 0 view .LVU106
 425 0036 0020     		movs	r0, #0
 426 0038 38BD     		pop	{r3, r4, r5, pc}
 427              	.LVL30:
 428              	.L25:
 278:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****       break;
 429              		.loc 1 278 7 is_stmt 1 view .LVU107
 430 003a 2946     		mov	r1, r5
 431 003c 2046     		mov	r0, r4
 432 003e FFF7FEFF 		bl	USBD_StdItfReq
 433              	.LVL31:
 279:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** 
 434              		.loc 1 279 7 view .LVU108
 435 0042 F8E7     		b	.L28
 436              	.L26:
 282:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****       break;
 437              		.loc 1 282 7 view .LVU109
 438 0044 2946     		mov	r1, r5
 439 0046 2046     		mov	r0, r4
 440 0048 FFF7FEFF 		bl	USBD_StdEPReq
 441              	.LVL32:
 283:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** 
 442              		.loc 1 283 7 view .LVU110
 443 004c F3E7     		b	.L28
 444              	.L27:
ARM GAS  /tmp/ccx2yP0p.s 			page 14


 286:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****       break;
 445              		.loc 1 286 7 view .LVU111
 446 004e 01F08001 		and	r1, r1, #128
 447 0052 2046     		mov	r0, r4
 448 0054 FFF7FEFF 		bl	USBD_LL_StallEP
 449              	.LVL33:
 287:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   }
 450              		.loc 1 287 7 view .LVU112
 451 0058 EDE7     		b	.L28
 452              		.cfi_endproc
 453              	.LFE368:
 455              		.section	.text.USBD_LL_DataOutStage,"ax",%progbits
 456              		.align	1
 457              		.global	USBD_LL_DataOutStage
 458              		.syntax unified
 459              		.thumb
 460              		.thumb_func
 461              		.fpu fpv4-sp-d16
 463              	USBD_LL_DataOutStage:
 464              	.LVL34:
 465              	.LFB369:
 292:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** 
 293:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** /**
 294:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** * @brief  USBD_DataOutStage
 295:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** *         Handle data OUT stage
 296:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** * @param  pdev: device instance
 297:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** * @param  epnum: endpoint index
 298:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** * @retval status
 299:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** */
 300:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** USBD_StatusTypeDef USBD_LL_DataOutStage(USBD_HandleTypeDef *pdev,
 301:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****                                         uint8_t epnum, uint8_t *pdata)
 302:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** {
 466              		.loc 1 302 1 view -0
 467              		.cfi_startproc
 468              		@ args = 0, pretend = 0, frame = 0
 469              		@ frame_needed = 0, uses_anonymous_args = 0
 303:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   USBD_EndpointTypeDef *pep;
 470              		.loc 1 303 3 view .LVU114
 304:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** 
 305:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   if (epnum == 0U)
 471              		.loc 1 305 3 view .LVU115
 302:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   USBD_EndpointTypeDef *pep;
 472              		.loc 1 302 1 is_stmt 0 view .LVU116
 473 0000 70B5     		push	{r4, r5, r6, lr}
 474              	.LCFI7:
 475              		.cfi_def_cfa_offset 16
 476              		.cfi_offset 4, -16
 477              		.cfi_offset 5, -12
 478              		.cfi_offset 6, -8
 479              		.cfi_offset 14, -4
 302:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   USBD_EndpointTypeDef *pep;
 480              		.loc 1 302 1 view .LVU117
 481 0002 0446     		mov	r4, r0
 482 0004 1646     		mov	r6, r2
 483              		.loc 1 305 6 view .LVU118
 484 0006 0D46     		mov	r5, r1
 485 0008 39BB     		cbnz	r1, .L30
ARM GAS  /tmp/ccx2yP0p.s 			page 15


 306:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   {
 307:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****     pep = &pdev->ep_out[0];
 486              		.loc 1 307 5 is_stmt 1 view .LVU119
 487              	.LVL35:
 308:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** 
 309:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****     if (pdev->ep0_state == USBD_EP0_DATA_OUT)
 488              		.loc 1 309 5 view .LVU120
 489              		.loc 1 309 13 is_stmt 0 view .LVU121
 490 000a D0F89432 		ldr	r3, [r0, #660]
 491              		.loc 1 309 8 view .LVU122
 492 000e 032B     		cmp	r3, #3
 493 0010 1CD1     		bne	.L31
 310:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****     {
 311:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****       if (pep->rem_length > pep->maxpacket)
 494              		.loc 1 311 7 is_stmt 1 view .LVU123
 495              		.loc 1 311 32 is_stmt 0 view .LVU124
 496 0012 D0E95812 		ldrd	r1, r2, [r0, #352]
 497              	.LVL36:
 498              		.loc 1 311 10 view .LVU125
 499 0016 9142     		cmp	r1, r2
 500 0018 0BD9     		bls	.L32
 312:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****       {
 313:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****         pep->rem_length -= pep->maxpacket;
 501              		.loc 1 313 9 is_stmt 1 view .LVU126
 502              		.loc 1 313 25 is_stmt 0 view .LVU127
 503 001a 891A     		subs	r1, r1, r2
 314:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** 
 315:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****         USBD_CtlContinueRx(pdev, pdata,
 504              		.loc 1 315 9 view .LVU128
 505 001c 8A42     		cmp	r2, r1
 313:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** 
 506              		.loc 1 313 25 view .LVU129
 507 001e C0F86011 		str	r1, [r0, #352]
 508              		.loc 1 315 9 is_stmt 1 view .LVU130
 509 0022 8CBF     		ite	hi
 510 0024 8AB2     		uxthhi	r2, r1
 511 0026 92B2     		uxthls	r2, r2
 512 0028 3146     		mov	r1, r6
 513 002a FFF7FEFF 		bl	USBD_CtlContinueRx
 514              	.LVL37:
 515              	.L35:
 316:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****                            (uint16_t)MIN(pep->rem_length, pep->maxpacket));
 317:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****       }
 318:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****       else
 319:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****       {
 320:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****         if ((pdev->pClass->EP0_RxReady != NULL) &&
 321:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****             (pdev->dev_state == USBD_STATE_CONFIGURED))
 322:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****         {
 323:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****           pdev->pClass->EP0_RxReady(pdev);
 324:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****         }
 325:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****         USBD_CtlSendStatus(pdev);
 326:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****       }
 327:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****     }
 328:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****     else
 329:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****     {
 330:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****       if (pdev->ep0_state == USBD_EP0_STATUS_OUT)
 331:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****       {
ARM GAS  /tmp/ccx2yP0p.s 			page 16


 332:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****         /*
 333:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****          * STATUS PHASE completed, update ep0_state to idle
 334:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****          */
 335:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****         pdev->ep0_state = USBD_EP0_IDLE;
 336:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****         USBD_LL_StallEP(pdev, 0U);
 337:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****       }
 338:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****     }
 339:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   }
 340:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   else if ((pdev->pClass->DataOut != NULL) &&
 341:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****            (pdev->dev_state == USBD_STATE_CONFIGURED))
 342:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   {
 343:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****     pdev->pClass->DataOut(pdev, epnum);
 344:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   }
 345:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   else
 346:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   {
 347:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****     /* should never be in this condition */
 348:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****     return USBD_FAIL;
 349:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   }
 350:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** 
 351:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   return USBD_OK;
 352:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** }
 516              		.loc 1 352 1 is_stmt 0 view .LVU131
 517 002e 2846     		mov	r0, r5
 518 0030 70BD     		pop	{r4, r5, r6, pc}
 519              	.LVL38:
 520              	.L32:
 320:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****             (pdev->dev_state == USBD_STATE_CONFIGURED))
 521              		.loc 1 320 9 is_stmt 1 view .LVU132
 320:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****             (pdev->dev_state == USBD_STATE_CONFIGURED))
 522              		.loc 1 320 26 is_stmt 0 view .LVU133
 523 0032 D0F8B432 		ldr	r3, [r0, #692]
 524 0036 1B69     		ldr	r3, [r3, #16]
 320:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****             (pdev->dev_state == USBD_STATE_CONFIGURED))
 525              		.loc 1 320 12 view .LVU134
 526 0038 23B1     		cbz	r3, .L36
 320:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****             (pdev->dev_state == USBD_STATE_CONFIGURED))
 527              		.loc 1 320 49 discriminator 1 view .LVU135
 528 003a 90F89C22 		ldrb	r2, [r0, #668]	@ zero_extendqisi2
 529 003e 032A     		cmp	r2, #3
 530 0040 00D1     		bne	.L36
 323:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****         }
 531              		.loc 1 323 11 is_stmt 1 view .LVU136
 532 0042 9847     		blx	r3
 533              	.LVL39:
 534              	.L36:
 325:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****       }
 535              		.loc 1 325 9 view .LVU137
 536 0044 2046     		mov	r0, r4
 537 0046 FFF7FEFF 		bl	USBD_CtlSendStatus
 538              	.LVL40:
 539 004a F0E7     		b	.L35
 540              	.LVL41:
 541              	.L31:
 330:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****       {
 542              		.loc 1 330 7 view .LVU138
 330:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****       {
 543              		.loc 1 330 10 is_stmt 0 view .LVU139
ARM GAS  /tmp/ccx2yP0p.s 			page 17


 544 004c 052B     		cmp	r3, #5
 545 004e EED1     		bne	.L35
 335:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****         USBD_LL_StallEP(pdev, 0U);
 546              		.loc 1 335 9 is_stmt 1 view .LVU140
 335:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****         USBD_LL_StallEP(pdev, 0U);
 547              		.loc 1 335 25 is_stmt 0 view .LVU141
 548 0050 C4F89412 		str	r1, [r4, #660]
 336:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****       }
 549              		.loc 1 336 9 is_stmt 1 view .LVU142
 550 0054 FFF7FEFF 		bl	USBD_LL_StallEP
 551              	.LVL42:
 336:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****       }
 552              		.loc 1 336 9 is_stmt 0 view .LVU143
 553 0058 E9E7     		b	.L35
 554              	.LVL43:
 555              	.L30:
 340:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****            (pdev->dev_state == USBD_STATE_CONFIGURED))
 556              		.loc 1 340 8 is_stmt 1 view .LVU144
 340:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****            (pdev->dev_state == USBD_STATE_CONFIGURED))
 557              		.loc 1 340 25 is_stmt 0 view .LVU145
 558 005a D0F8B432 		ldr	r3, [r0, #692]
 559 005e 9B69     		ldr	r3, [r3, #24]
 340:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****            (pdev->dev_state == USBD_STATE_CONFIGURED))
 560              		.loc 1 340 11 view .LVU146
 561 0060 33B1     		cbz	r3, .L38
 340:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****            (pdev->dev_state == USBD_STATE_CONFIGURED))
 562              		.loc 1 340 44 discriminator 1 view .LVU147
 563 0062 90F89C22 		ldrb	r2, [r0, #668]	@ zero_extendqisi2
 564              	.LVL44:
 340:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****            (pdev->dev_state == USBD_STATE_CONFIGURED))
 565              		.loc 1 340 44 discriminator 1 view .LVU148
 566 0066 032A     		cmp	r2, #3
 567 0068 02D1     		bne	.L38
 343:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   }
 568              		.loc 1 343 5 is_stmt 1 view .LVU149
 569 006a 9847     		blx	r3
 570              	.LVL45:
 351:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** }
 571              		.loc 1 351 10 is_stmt 0 view .LVU150
 572 006c 0025     		movs	r5, #0
 343:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   }
 573              		.loc 1 343 5 view .LVU151
 574 006e DEE7     		b	.L35
 575              	.LVL46:
 576              	.L38:
 348:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   }
 577              		.loc 1 348 12 view .LVU152
 578 0070 0225     		movs	r5, #2
 579 0072 DCE7     		b	.L35
 580              		.cfi_endproc
 581              	.LFE369:
 583              		.section	.text.USBD_LL_DataInStage,"ax",%progbits
 584              		.align	1
 585              		.global	USBD_LL_DataInStage
 586              		.syntax unified
 587              		.thumb
 588              		.thumb_func
ARM GAS  /tmp/ccx2yP0p.s 			page 18


 589              		.fpu fpv4-sp-d16
 591              	USBD_LL_DataInStage:
 592              	.LVL47:
 593              	.LFB370:
 353:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** 
 354:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** /**
 355:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** * @brief  USBD_DataInStage
 356:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** *         Handle data in stage
 357:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** * @param  pdev: device instance
 358:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** * @param  epnum: endpoint index
 359:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** * @retval status
 360:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** */
 361:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** USBD_StatusTypeDef USBD_LL_DataInStage(USBD_HandleTypeDef *pdev,
 362:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****                                        uint8_t epnum, uint8_t *pdata)
 363:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** {
 594              		.loc 1 363 1 is_stmt 1 view -0
 595              		.cfi_startproc
 596              		@ args = 0, pretend = 0, frame = 0
 597              		@ frame_needed = 0, uses_anonymous_args = 0
 364:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   USBD_EndpointTypeDef *pep;
 598              		.loc 1 364 3 view .LVU154
 365:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** 
 366:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   if (epnum == 0U)
 599              		.loc 1 366 3 view .LVU155
 363:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   USBD_EndpointTypeDef *pep;
 600              		.loc 1 363 1 is_stmt 0 view .LVU156
 601 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 602              	.LCFI8:
 603              		.cfi_def_cfa_offset 24
 604              		.cfi_offset 3, -24
 605              		.cfi_offset 4, -20
 606              		.cfi_offset 5, -16
 607              		.cfi_offset 6, -12
 608              		.cfi_offset 7, -8
 609              		.cfi_offset 14, -4
 363:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   USBD_EndpointTypeDef *pep;
 610              		.loc 1 363 1 view .LVU157
 611 0002 0446     		mov	r4, r0
 612 0004 1746     		mov	r7, r2
 613              		.loc 1 366 6 view .LVU158
 614 0006 0D46     		mov	r5, r1
 615 0008 0029     		cmp	r1, #0
 616 000a 47D1     		bne	.L43
 367:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   {
 368:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****     pep = &pdev->ep_in[0];
 617              		.loc 1 368 5 is_stmt 1 view .LVU159
 618              	.LVL48:
 369:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** 
 370:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****     if (pdev->ep0_state == USBD_EP0_DATA_IN)
 619              		.loc 1 370 5 view .LVU160
 620              		.loc 1 370 13 is_stmt 0 view .LVU161
 621 000c D0F89432 		ldr	r3, [r0, #660]
 622              		.loc 1 370 8 view .LVU162
 623 0010 022B     		cmp	r3, #2
 624 0012 3CD1     		bne	.L44
 371:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****     {
 372:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****       if (pep->rem_length > pep->maxpacket)
ARM GAS  /tmp/ccx2yP0p.s 			page 19


 625              		.loc 1 372 7 is_stmt 1 view .LVU163
 626              		.loc 1 372 32 is_stmt 0 view .LVU164
 627 0014 D0E90863 		ldrd	r6, r3, [r0, #32]
 628              		.loc 1 372 10 view .LVU165
 629 0018 9E42     		cmp	r6, r3
 630 001a 14D9     		bls	.L45
 373:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****       {
 374:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****         pep->rem_length -= pep->maxpacket;
 631              		.loc 1 374 9 is_stmt 1 view .LVU166
 632              		.loc 1 374 25 is_stmt 0 view .LVU167
 633 001c F31A     		subs	r3, r6, r3
 634 001e 0362     		str	r3, [r0, #32]
 375:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** 
 376:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****         USBD_CtlContinueSendData(pdev, pdata, (uint16_t)pep->rem_length);
 635              		.loc 1 376 9 is_stmt 1 view .LVU168
 636 0020 9AB2     		uxth	r2, r3
 637              	.LVL49:
 638              		.loc 1 376 9 is_stmt 0 view .LVU169
 639 0022 3946     		mov	r1, r7
 640              	.LVL50:
 641              		.loc 1 376 9 view .LVU170
 642 0024 FFF7FEFF 		bl	USBD_CtlContinueSendData
 643              	.LVL51:
 377:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** 
 378:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****         /* Prepare endpoint for premature end of transfer */
 379:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****         USBD_LL_PrepareReceive(pdev, 0U, NULL, 0U);
 644              		.loc 1 379 9 is_stmt 1 view .LVU171
 645              	.L55:
 380:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****       }
 381:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****       else
 382:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****       {
 383:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****         /* last packet is MPS multiple, so send ZLP packet */
 384:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****         if ((pep->total_length % pep->maxpacket == 0U) &&
 385:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****             (pep->total_length >= pep->maxpacket) &&
 386:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****             (pep->total_length < pdev->ep0_data_len))
 387:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****         {
 388:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****           USBD_CtlContinueSendData(pdev, NULL, 0U);
 389:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****           pdev->ep0_data_len = 0U;
 390:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** 
 391:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****           /* Prepare endpoint for premature end of transfer */
 392:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****           USBD_LL_PrepareReceive(pdev, 0U, NULL, 0U);
 646              		.loc 1 392 11 view .LVU172
 647 0028 2B46     		mov	r3, r5
 648 002a 2A46     		mov	r2, r5
 649 002c 2946     		mov	r1, r5
 650 002e 2046     		mov	r0, r4
 651 0030 FFF7FEFF 		bl	USBD_LL_PrepareReceive
 652              	.LVL52:
 653              	.L46:
 393:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****         }
 394:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****         else
 395:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****         {
 396:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****           if ((pdev->pClass->EP0_TxSent != NULL) &&
 397:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****               (pdev->dev_state == USBD_STATE_CONFIGURED))
 398:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****           {
 399:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****             pdev->pClass->EP0_TxSent(pdev);
 400:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****           }
ARM GAS  /tmp/ccx2yP0p.s 			page 20


 401:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****           USBD_LL_StallEP(pdev, 0x80U);
 402:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****           USBD_CtlReceiveStatus(pdev);
 403:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****         }
 404:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****       }
 405:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****     }
 406:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****     else
 407:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****     {
 408:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****       if ((pdev->ep0_state == USBD_EP0_STATUS_IN) ||
 409:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****           (pdev->ep0_state == USBD_EP0_IDLE))
 410:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****       {
 411:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****         USBD_LL_StallEP(pdev, 0x80U);
 412:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****       }
 413:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****     }
 414:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** 
 415:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****     if (pdev->dev_test_mode == 1U)
 654              		.loc 1 415 5 view .LVU173
 655              		.loc 1 415 8 is_stmt 0 view .LVU174
 656 0034 94F8A032 		ldrb	r3, [r4, #672]	@ zero_extendqisi2
 657 0038 012B     		cmp	r3, #1
 658 003a 02D1     		bne	.L49
 416:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****     {
 417:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****       USBD_RunTestMode(pdev);
 659              		.loc 1 417 7 is_stmt 1 view .LVU175
 660              	.LVL53:
 212:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** 
 661              		.loc 1 212 3 view .LVU176
 214:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** }
 662              		.loc 1 214 3 view .LVU177
 418:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****       pdev->dev_test_mode = 0U;
 663              		.loc 1 418 7 view .LVU178
 664              		.loc 1 418 27 is_stmt 0 view .LVU179
 665 003c 0023     		movs	r3, #0
 666 003e 84F8A032 		strb	r3, [r4, #672]
 667              	.LVL54:
 668              	.L49:
 419:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****     }
 420:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   }
 421:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   else if ((pdev->pClass->DataIn != NULL) &&
 422:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****            (pdev->dev_state == USBD_STATE_CONFIGURED))
 423:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   {
 424:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****     pdev->pClass->DataIn(pdev, epnum);
 425:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   }
 426:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   else
 427:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   {
 428:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****     /* should never be in this condition */
 429:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****     return USBD_FAIL;
 430:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   }
 431:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** 
 432:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   return USBD_OK;
 433:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** }
 669              		.loc 1 433 1 view .LVU180
 670 0042 2846     		mov	r0, r5
 671 0044 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 672              	.LVL55:
 673              	.L45:
 384:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****             (pep->total_length >= pep->maxpacket) &&
 674              		.loc 1 384 9 is_stmt 1 view .LVU181
ARM GAS  /tmp/ccx2yP0p.s 			page 21


 384:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****             (pep->total_length >= pep->maxpacket) &&
 675              		.loc 1 384 17 is_stmt 0 view .LVU182
 676 0046 C269     		ldr	r2, [r0, #28]
 677              	.LVL56:
 384:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****             (pep->total_length >= pep->maxpacket) &&
 678              		.loc 1 384 32 view .LVU183
 679 0048 B2FBF3F6 		udiv	r6, r2, r3
 680 004c 03FB1626 		mls	r6, r3, r6, r2
 384:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****             (pep->total_length >= pep->maxpacket) &&
 681              		.loc 1 384 12 view .LVU184
 682 0050 5EB9     		cbnz	r6, .L47
 384:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****             (pep->total_length >= pep->maxpacket) &&
 683              		.loc 1 384 56 discriminator 1 view .LVU185
 684 0052 9342     		cmp	r3, r2
 685 0054 09D8     		bhi	.L47
 385:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****             (pep->total_length < pdev->ep0_data_len))
 686              		.loc 1 385 51 view .LVU186
 687 0056 D0F89832 		ldr	r3, [r0, #664]
 688 005a 9A42     		cmp	r2, r3
 689 005c 05D2     		bcs	.L47
 388:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****           pdev->ep0_data_len = 0U;
 690              		.loc 1 388 11 is_stmt 1 view .LVU187
 691 005e 0A46     		mov	r2, r1
 692 0060 FFF7FEFF 		bl	USBD_CtlContinueSendData
 693              	.LVL57:
 389:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** 
 694              		.loc 1 389 11 view .LVU188
 389:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** 
 695              		.loc 1 389 30 is_stmt 0 view .LVU189
 696 0064 C4F89852 		str	r5, [r4, #664]
 697 0068 DEE7     		b	.L55
 698              	.LVL58:
 699              	.L47:
 396:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****               (pdev->dev_state == USBD_STATE_CONFIGURED))
 700              		.loc 1 396 11 is_stmt 1 view .LVU190
 396:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****               (pdev->dev_state == USBD_STATE_CONFIGURED))
 701              		.loc 1 396 28 is_stmt 0 view .LVU191
 702 006a D4F8B432 		ldr	r3, [r4, #692]
 703 006e DB68     		ldr	r3, [r3, #12]
 396:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****               (pdev->dev_state == USBD_STATE_CONFIGURED))
 704              		.loc 1 396 14 view .LVU192
 705 0070 2BB1     		cbz	r3, .L48
 396:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****               (pdev->dev_state == USBD_STATE_CONFIGURED))
 706              		.loc 1 396 50 discriminator 1 view .LVU193
 707 0072 94F89C22 		ldrb	r2, [r4, #668]	@ zero_extendqisi2
 708 0076 032A     		cmp	r2, #3
 709 0078 01D1     		bne	.L48
 399:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****           }
 710              		.loc 1 399 13 is_stmt 1 view .LVU194
 711 007a 2046     		mov	r0, r4
 712              	.LVL59:
 399:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****           }
 713              		.loc 1 399 13 is_stmt 0 view .LVU195
 714 007c 9847     		blx	r3
 715              	.LVL60:
 716              	.L48:
 401:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****           USBD_CtlReceiveStatus(pdev);
ARM GAS  /tmp/ccx2yP0p.s 			page 22


 717              		.loc 1 401 11 is_stmt 1 view .LVU196
 718 007e 8021     		movs	r1, #128
 719 0080 2046     		mov	r0, r4
 720 0082 FFF7FEFF 		bl	USBD_LL_StallEP
 721              	.LVL61:
 402:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****         }
 722              		.loc 1 402 11 view .LVU197
 723 0086 2046     		mov	r0, r4
 724 0088 FFF7FEFF 		bl	USBD_CtlReceiveStatus
 725              	.LVL62:
 726 008c D2E7     		b	.L46
 727              	.LVL63:
 728              	.L44:
 408:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****           (pdev->ep0_state == USBD_EP0_IDLE))
 729              		.loc 1 408 7 discriminator 1 view .LVU198
 408:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****           (pdev->ep0_state == USBD_EP0_IDLE))
 730              		.loc 1 408 51 is_stmt 0 discriminator 1 view .LVU199
 731 008e 33F00403 		bics	r3, r3, #4
 732 0092 CFD1     		bne	.L46
 411:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****       }
 733              		.loc 1 411 9 is_stmt 1 view .LVU200
 734 0094 8021     		movs	r1, #128
 735              	.LVL64:
 411:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****       }
 736              		.loc 1 411 9 is_stmt 0 view .LVU201
 737 0096 FFF7FEFF 		bl	USBD_LL_StallEP
 738              	.LVL65:
 411:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****       }
 739              		.loc 1 411 9 view .LVU202
 740 009a CBE7     		b	.L46
 741              	.LVL66:
 742              	.L43:
 421:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****            (pdev->dev_state == USBD_STATE_CONFIGURED))
 743              		.loc 1 421 8 is_stmt 1 view .LVU203
 421:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****            (pdev->dev_state == USBD_STATE_CONFIGURED))
 744              		.loc 1 421 25 is_stmt 0 view .LVU204
 745 009c D0F8B432 		ldr	r3, [r0, #692]
 746 00a0 5B69     		ldr	r3, [r3, #20]
 421:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****            (pdev->dev_state == USBD_STATE_CONFIGURED))
 747              		.loc 1 421 11 view .LVU205
 748 00a2 33B1     		cbz	r3, .L51
 421:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****            (pdev->dev_state == USBD_STATE_CONFIGURED))
 749              		.loc 1 421 43 discriminator 1 view .LVU206
 750 00a4 90F89C22 		ldrb	r2, [r0, #668]	@ zero_extendqisi2
 751              	.LVL67:
 421:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****            (pdev->dev_state == USBD_STATE_CONFIGURED))
 752              		.loc 1 421 43 discriminator 1 view .LVU207
 753 00a8 032A     		cmp	r2, #3
 754 00aa 02D1     		bne	.L51
 424:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   }
 755              		.loc 1 424 5 is_stmt 1 view .LVU208
 756 00ac 9847     		blx	r3
 757              	.LVL68:
 432:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** }
 758              		.loc 1 432 10 is_stmt 0 view .LVU209
 759 00ae 0025     		movs	r5, #0
 424:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   }
ARM GAS  /tmp/ccx2yP0p.s 			page 23


 760              		.loc 1 424 5 view .LVU210
 761 00b0 C7E7     		b	.L49
 762              	.LVL69:
 763              	.L51:
 429:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   }
 764              		.loc 1 429 12 view .LVU211
 765 00b2 0225     		movs	r5, #2
 766 00b4 C5E7     		b	.L49
 767              		.cfi_endproc
 768              	.LFE370:
 770              		.section	.text.USBD_LL_Reset,"ax",%progbits
 771              		.align	1
 772              		.global	USBD_LL_Reset
 773              		.syntax unified
 774              		.thumb
 775              		.thumb_func
 776              		.fpu fpv4-sp-d16
 778              	USBD_LL_Reset:
 779              	.LVL70:
 780              	.LFB371:
 434:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** 
 435:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** /**
 436:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** * @brief  USBD_LL_Reset
 437:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** *         Handle Reset event
 438:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** * @param  pdev: device instance
 439:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** * @retval status
 440:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** */
 441:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** 
 442:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** USBD_StatusTypeDef USBD_LL_Reset(USBD_HandleTypeDef *pdev)
 443:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** {
 781              		.loc 1 443 1 is_stmt 1 view -0
 782              		.cfi_startproc
 783              		@ args = 0, pretend = 0, frame = 0
 784              		@ frame_needed = 0, uses_anonymous_args = 0
 444:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   /* Open EP0 OUT */
 445:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   USBD_LL_OpenEP(pdev, 0x00U, USBD_EP_TYPE_CTRL, USB_MAX_EP0_SIZE);
 785              		.loc 1 445 3 view .LVU213
 443:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   /* Open EP0 OUT */
 786              		.loc 1 443 1 is_stmt 0 view .LVU214
 787 0000 70B5     		push	{r4, r5, r6, lr}
 788              	.LCFI9:
 789              		.cfi_def_cfa_offset 16
 790              		.cfi_offset 4, -16
 791              		.cfi_offset 5, -12
 792              		.cfi_offset 6, -8
 793              		.cfi_offset 14, -4
 794              		.loc 1 445 3 view .LVU215
 795 0002 0022     		movs	r2, #0
 443:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   /* Open EP0 OUT */
 796              		.loc 1 443 1 view .LVU216
 797 0004 0446     		mov	r4, r0
 798              		.loc 1 445 3 view .LVU217
 799 0006 1146     		mov	r1, r2
 446:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   pdev->ep_out[0x00U & 0xFU].is_used = 1U;
 800              		.loc 1 446 38 view .LVU218
 801 0008 0125     		movs	r5, #1
 447:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** 
ARM GAS  /tmp/ccx2yP0p.s 			page 24


 448:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   pdev->ep_out[0].maxpacket = USB_MAX_EP0_SIZE;
 802              		.loc 1 448 29 view .LVU219
 803 000a 4026     		movs	r6, #64
 445:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   pdev->ep_out[0x00U & 0xFU].is_used = 1U;
 804              		.loc 1 445 3 view .LVU220
 805 000c 4023     		movs	r3, #64
 806 000e FFF7FEFF 		bl	USBD_LL_OpenEP
 807              	.LVL71:
 446:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   pdev->ep_out[0x00U & 0xFU].is_used = 1U;
 808              		.loc 1 446 3 is_stmt 1 view .LVU221
 449:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** 
 450:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   /* Open EP0 IN */
 451:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   USBD_LL_OpenEP(pdev, 0x80U, USBD_EP_TYPE_CTRL, USB_MAX_EP0_SIZE);
 809              		.loc 1 451 3 is_stmt 0 view .LVU222
 810 0012 3346     		mov	r3, r6
 811 0014 8021     		movs	r1, #128
 446:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** 
 812              		.loc 1 446 38 view .LVU223
 813 0016 C4F85851 		str	r5, [r4, #344]
 448:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** 
 814              		.loc 1 448 3 is_stmt 1 view .LVU224
 448:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** 
 815              		.loc 1 448 29 is_stmt 0 view .LVU225
 816 001a C4F86461 		str	r6, [r4, #356]
 817              		.loc 1 451 3 is_stmt 1 view .LVU226
 818 001e 0022     		movs	r2, #0
 819 0020 2046     		mov	r0, r4
 820 0022 FFF7FEFF 		bl	USBD_LL_OpenEP
 821              	.LVL72:
 452:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   pdev->ep_in[0x80U & 0xFU].is_used = 1U;
 822              		.loc 1 452 3 view .LVU227
 453:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** 
 454:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   pdev->ep_in[0].maxpacket = USB_MAX_EP0_SIZE;
 455:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** 
 456:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   /* Upon Reset call user call back */
 457:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   pdev->dev_state = USBD_STATE_DEFAULT;
 458:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   pdev->ep0_state = USBD_EP0_IDLE;
 459:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   pdev->dev_config = 0U;
 460:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   pdev->dev_remote_wakeup = 0U;
 461:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** 
 462:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   if (pdev->pClassData)
 823              		.loc 1 462 6 is_stmt 0 view .LVU228
 824 0026 D4F8B832 		ldr	r3, [r4, #696]
 452:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   pdev->ep_in[0x80U & 0xFU].is_used = 1U;
 825              		.loc 1 452 37 view .LVU229
 826 002a A561     		str	r5, [r4, #24]
 454:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** 
 827              		.loc 1 454 3 is_stmt 1 view .LVU230
 458:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   pdev->dev_config = 0U;
 828              		.loc 1 458 19 is_stmt 0 view .LVU231
 829 002c 0021     		movs	r1, #0
 454:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** 
 830              		.loc 1 454 28 view .LVU232
 831 002e 6662     		str	r6, [r4, #36]
 457:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   pdev->ep0_state = USBD_EP0_IDLE;
 832              		.loc 1 457 3 is_stmt 1 view .LVU233
 457:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   pdev->ep0_state = USBD_EP0_IDLE;
ARM GAS  /tmp/ccx2yP0p.s 			page 25


 833              		.loc 1 457 19 is_stmt 0 view .LVU234
 834 0030 84F89C52 		strb	r5, [r4, #668]
 458:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   pdev->dev_config = 0U;
 835              		.loc 1 458 3 is_stmt 1 view .LVU235
 458:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   pdev->dev_config = 0U;
 836              		.loc 1 458 19 is_stmt 0 view .LVU236
 837 0034 C4F89412 		str	r1, [r4, #660]
 459:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   pdev->dev_remote_wakeup = 0U;
 838              		.loc 1 459 3 is_stmt 1 view .LVU237
 459:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   pdev->dev_remote_wakeup = 0U;
 839              		.loc 1 459 20 is_stmt 0 view .LVU238
 840 0038 6160     		str	r1, [r4, #4]
 460:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** 
 841              		.loc 1 460 3 is_stmt 1 view .LVU239
 460:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** 
 842              		.loc 1 460 27 is_stmt 0 view .LVU240
 843 003a C4F8A412 		str	r1, [r4, #676]
 844              		.loc 1 462 3 is_stmt 1 view .LVU241
 845              		.loc 1 462 6 is_stmt 0 view .LVU242
 846 003e 23B1     		cbz	r3, .L57
 463:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   {
 464:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****     pdev->pClass->DeInit(pdev, (uint8_t)pdev->dev_config);
 847              		.loc 1 464 5 is_stmt 1 view .LVU243
 848              		.loc 1 464 17 is_stmt 0 view .LVU244
 849 0040 D4F8B432 		ldr	r3, [r4, #692]
 850              		.loc 1 464 5 view .LVU245
 851 0044 2046     		mov	r0, r4
 852 0046 5B68     		ldr	r3, [r3, #4]
 853 0048 9847     		blx	r3
 854              	.LVL73:
 855              	.L57:
 465:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   }
 466:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** 
 467:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   return USBD_OK;
 856              		.loc 1 467 3 is_stmt 1 view .LVU246
 468:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** }
 857              		.loc 1 468 1 is_stmt 0 view .LVU247
 858 004a 0020     		movs	r0, #0
 859 004c 70BD     		pop	{r4, r5, r6, pc}
 860              		.loc 1 468 1 view .LVU248
 861              		.cfi_endproc
 862              	.LFE371:
 864              		.section	.text.USBD_LL_SetSpeed,"ax",%progbits
 865              		.align	1
 866              		.global	USBD_LL_SetSpeed
 867              		.syntax unified
 868              		.thumb
 869              		.thumb_func
 870              		.fpu fpv4-sp-d16
 872              	USBD_LL_SetSpeed:
 873              	.LVL74:
 874              	.LFB372:
 469:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** 
 470:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** /**
 471:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** * @brief  USBD_LL_Reset
 472:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** *         Handle Reset event
 473:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** * @param  pdev: device instance
ARM GAS  /tmp/ccx2yP0p.s 			page 26


 474:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** * @retval status
 475:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** */
 476:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** USBD_StatusTypeDef USBD_LL_SetSpeed(USBD_HandleTypeDef *pdev,
 477:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****                                     USBD_SpeedTypeDef speed)
 478:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** {
 875              		.loc 1 478 1 is_stmt 1 view -0
 876              		.cfi_startproc
 877              		@ args = 0, pretend = 0, frame = 0
 878              		@ frame_needed = 0, uses_anonymous_args = 0
 879              		@ link register save eliminated.
 479:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   pdev->dev_speed = speed;
 880              		.loc 1 479 3 view .LVU250
 881              		.loc 1 479 19 is_stmt 0 view .LVU251
 882 0000 0174     		strb	r1, [r0, #16]
 480:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** 
 481:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   return USBD_OK;
 883              		.loc 1 481 3 is_stmt 1 view .LVU252
 482:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** }
 884              		.loc 1 482 1 is_stmt 0 view .LVU253
 885 0002 0020     		movs	r0, #0
 886              	.LVL75:
 887              		.loc 1 482 1 view .LVU254
 888 0004 7047     		bx	lr
 889              		.cfi_endproc
 890              	.LFE372:
 892              		.section	.text.USBD_LL_Suspend,"ax",%progbits
 893              		.align	1
 894              		.global	USBD_LL_Suspend
 895              		.syntax unified
 896              		.thumb
 897              		.thumb_func
 898              		.fpu fpv4-sp-d16
 900              	USBD_LL_Suspend:
 901              	.LVL76:
 902              	.LFB373:
 483:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** 
 484:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** /**
 485:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** * @brief  USBD_Suspend
 486:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** *         Handle Suspend event
 487:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** * @param  pdev: device instance
 488:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** * @retval status
 489:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** */
 490:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** 
 491:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** USBD_StatusTypeDef USBD_LL_Suspend(USBD_HandleTypeDef *pdev)
 492:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** {
 903              		.loc 1 492 1 is_stmt 1 view -0
 904              		.cfi_startproc
 905              		@ args = 0, pretend = 0, frame = 0
 906              		@ frame_needed = 0, uses_anonymous_args = 0
 907              		@ link register save eliminated.
 493:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   pdev->dev_old_state =  pdev->dev_state;
 908              		.loc 1 493 3 view .LVU256
 909              		.loc 1 493 23 is_stmt 0 view .LVU257
 910 0000 90F89C32 		ldrb	r3, [r0, #668]	@ zero_extendqisi2
 911 0004 80F89D32 		strb	r3, [r0, #669]
 494:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   pdev->dev_state  = USBD_STATE_SUSPENDED;
 912              		.loc 1 494 3 is_stmt 1 view .LVU258
ARM GAS  /tmp/ccx2yP0p.s 			page 27


 913              		.loc 1 494 20 is_stmt 0 view .LVU259
 914 0008 0423     		movs	r3, #4
 915 000a 80F89C32 		strb	r3, [r0, #668]
 495:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** 
 496:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   return USBD_OK;
 916              		.loc 1 496 3 is_stmt 1 view .LVU260
 497:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** }
 917              		.loc 1 497 1 is_stmt 0 view .LVU261
 918 000e 0020     		movs	r0, #0
 919              	.LVL77:
 920              		.loc 1 497 1 view .LVU262
 921 0010 7047     		bx	lr
 922              		.cfi_endproc
 923              	.LFE373:
 925              		.section	.text.USBD_LL_Resume,"ax",%progbits
 926              		.align	1
 927              		.global	USBD_LL_Resume
 928              		.syntax unified
 929              		.thumb
 930              		.thumb_func
 931              		.fpu fpv4-sp-d16
 933              	USBD_LL_Resume:
 934              	.LVL78:
 935              	.LFB374:
 498:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** 
 499:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** /**
 500:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** * @brief  USBD_Resume
 501:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** *         Handle Resume event
 502:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** * @param  pdev: device instance
 503:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** * @retval status
 504:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** */
 505:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** 
 506:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** USBD_StatusTypeDef USBD_LL_Resume(USBD_HandleTypeDef *pdev)
 507:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** {
 936              		.loc 1 507 1 is_stmt 1 view -0
 937              		.cfi_startproc
 938              		@ args = 0, pretend = 0, frame = 0
 939              		@ frame_needed = 0, uses_anonymous_args = 0
 940              		@ link register save eliminated.
 508:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   if (pdev->dev_state == USBD_STATE_SUSPENDED)
 941              		.loc 1 508 3 view .LVU264
 942              		.loc 1 508 6 is_stmt 0 view .LVU265
 943 0000 90F89C32 		ldrb	r3, [r0, #668]	@ zero_extendqisi2
 944 0004 042B     		cmp	r3, #4
 509:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   {
 510:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****     pdev->dev_state = pdev->dev_old_state;
 945              		.loc 1 510 5 is_stmt 1 view .LVU266
 946              		.loc 1 510 21 is_stmt 0 view .LVU267
 947 0006 04BF     		itt	eq
 948 0008 90F89D32 		ldrbeq	r3, [r0, #669]	@ zero_extendqisi2
 949 000c 80F89C32 		strbeq	r3, [r0, #668]
 511:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   }
 512:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** 
 513:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   return USBD_OK;
 950              		.loc 1 513 3 is_stmt 1 view .LVU268
 514:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** }
 951              		.loc 1 514 1 is_stmt 0 view .LVU269
ARM GAS  /tmp/ccx2yP0p.s 			page 28


 952 0010 0020     		movs	r0, #0
 953              	.LVL79:
 954              		.loc 1 514 1 view .LVU270
 955 0012 7047     		bx	lr
 956              		.cfi_endproc
 957              	.LFE374:
 959              		.section	.text.USBD_LL_SOF,"ax",%progbits
 960              		.align	1
 961              		.global	USBD_LL_SOF
 962              		.syntax unified
 963              		.thumb
 964              		.thumb_func
 965              		.fpu fpv4-sp-d16
 967              	USBD_LL_SOF:
 968              	.LVL80:
 969              	.LFB375:
 515:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** 
 516:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** /**
 517:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** * @brief  USBD_SOF
 518:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** *         Handle SOF event
 519:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** * @param  pdev: device instance
 520:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** * @retval status
 521:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** */
 522:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** 
 523:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** USBD_StatusTypeDef USBD_LL_SOF(USBD_HandleTypeDef *pdev)
 524:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** {
 970              		.loc 1 524 1 is_stmt 1 view -0
 971              		.cfi_startproc
 972              		@ args = 0, pretend = 0, frame = 0
 973              		@ frame_needed = 0, uses_anonymous_args = 0
 525:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   if (pdev->dev_state == USBD_STATE_CONFIGURED)
 974              		.loc 1 525 3 view .LVU272
 524:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   if (pdev->dev_state == USBD_STATE_CONFIGURED)
 975              		.loc 1 524 1 is_stmt 0 view .LVU273
 976 0000 08B5     		push	{r3, lr}
 977              	.LCFI10:
 978              		.cfi_def_cfa_offset 8
 979              		.cfi_offset 3, -8
 980              		.cfi_offset 14, -4
 981              		.loc 1 525 6 view .LVU274
 982 0002 90F89C22 		ldrb	r2, [r0, #668]	@ zero_extendqisi2
 983 0006 032A     		cmp	r2, #3
 984 0008 04D1     		bne	.L66
 526:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   {
 527:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****     if (pdev->pClass->SOF != NULL)
 985              		.loc 1 527 5 is_stmt 1 view .LVU275
 986              		.loc 1 527 21 is_stmt 0 view .LVU276
 987 000a D0F8B432 		ldr	r3, [r0, #692]
 988 000e DB69     		ldr	r3, [r3, #28]
 989              		.loc 1 527 8 view .LVU277
 990 0010 03B1     		cbz	r3, .L66
 528:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****     {
 529:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****       pdev->pClass->SOF(pdev);
 991              		.loc 1 529 7 is_stmt 1 view .LVU278
 992 0012 9847     		blx	r3
 993              	.LVL81:
 994              	.L66:
ARM GAS  /tmp/ccx2yP0p.s 			page 29


 530:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****     }
 531:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   }
 532:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** 
 533:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   return USBD_OK;
 995              		.loc 1 533 3 view .LVU279
 534:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** }
 996              		.loc 1 534 1 is_stmt 0 view .LVU280
 997 0014 0020     		movs	r0, #0
 998 0016 08BD     		pop	{r3, pc}
 999              		.cfi_endproc
 1000              	.LFE375:
 1002              		.section	.text.USBD_LL_IsoINIncomplete,"ax",%progbits
 1003              		.align	1
 1004              		.global	USBD_LL_IsoINIncomplete
 1005              		.syntax unified
 1006              		.thumb
 1007              		.thumb_func
 1008              		.fpu fpv4-sp-d16
 1010              	USBD_LL_IsoINIncomplete:
 1011              	.LVL82:
 1012              	.LFB376:
 535:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** 
 536:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** /**
 537:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** * @brief  USBD_IsoINIncomplete
 538:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** *         Handle iso in incomplete event
 539:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** * @param  pdev: device instance
 540:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** * @retval status
 541:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** */
 542:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** USBD_StatusTypeDef USBD_LL_IsoINIncomplete(USBD_HandleTypeDef *pdev,
 543:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****                                            uint8_t epnum)
 544:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** {
 1013              		.loc 1 544 1 is_stmt 1 view -0
 1014              		.cfi_startproc
 1015              		@ args = 0, pretend = 0, frame = 0
 1016              		@ frame_needed = 0, uses_anonymous_args = 0
 1017              		@ link register save eliminated.
 545:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   /* Prevent unused arguments compilation warning */
 546:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   UNUSED(pdev);
 1018              		.loc 1 546 3 view .LVU282
 547:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   UNUSED(epnum);
 1019              		.loc 1 547 3 view .LVU283
 548:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** 
 549:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   return USBD_OK;
 1020              		.loc 1 549 3 view .LVU284
 550:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** }
 1021              		.loc 1 550 1 is_stmt 0 view .LVU285
 1022 0000 0020     		movs	r0, #0
 1023              	.LVL83:
 1024              		.loc 1 550 1 view .LVU286
 1025 0002 7047     		bx	lr
 1026              		.cfi_endproc
 1027              	.LFE376:
 1029              		.section	.text.USBD_LL_IsoOUTIncomplete,"ax",%progbits
 1030              		.align	1
 1031              		.global	USBD_LL_IsoOUTIncomplete
 1032              		.syntax unified
 1033              		.thumb
ARM GAS  /tmp/ccx2yP0p.s 			page 30


 1034              		.thumb_func
 1035              		.fpu fpv4-sp-d16
 1037              	USBD_LL_IsoOUTIncomplete:
 1038              	.LFB383:
 1039              		.cfi_startproc
 1040              		@ args = 0, pretend = 0, frame = 0
 1041              		@ frame_needed = 0, uses_anonymous_args = 0
 1042              		@ link register save eliminated.
 1043 0000 0020     		movs	r0, #0
 1044 0002 7047     		bx	lr
 1045              		.cfi_endproc
 1046              	.LFE383:
 1048              		.section	.text.USBD_LL_DevConnected,"ax",%progbits
 1049              		.align	1
 1050              		.global	USBD_LL_DevConnected
 1051              		.syntax unified
 1052              		.thumb
 1053              		.thumb_func
 1054              		.fpu fpv4-sp-d16
 1056              	USBD_LL_DevConnected:
 1057              	.LFB381:
 1058              		.cfi_startproc
 1059              		@ args = 0, pretend = 0, frame = 0
 1060              		@ frame_needed = 0, uses_anonymous_args = 0
 1061              		@ link register save eliminated.
 1062 0000 0020     		movs	r0, #0
 1063 0002 7047     		bx	lr
 1064              		.cfi_endproc
 1065              	.LFE381:
 1067              		.section	.text.USBD_LL_DevDisconnected,"ax",%progbits
 1068              		.align	1
 1069              		.global	USBD_LL_DevDisconnected
 1070              		.syntax unified
 1071              		.thumb
 1072              		.thumb_func
 1073              		.fpu fpv4-sp-d16
 1075              	USBD_LL_DevDisconnected:
 1076              	.LVL84:
 1077              	.LFB379:
 551:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** 
 552:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** /**
 553:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** * @brief  USBD_IsoOUTIncomplete
 554:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** *         Handle iso out incomplete event
 555:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** * @param  pdev: device instance
 556:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** * @retval status
 557:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** */
 558:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** USBD_StatusTypeDef USBD_LL_IsoOUTIncomplete(USBD_HandleTypeDef *pdev,
 559:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****                                             uint8_t epnum)
 560:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** {
 561:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   /* Prevent unused arguments compilation warning */
 562:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   UNUSED(pdev);
 563:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   UNUSED(epnum);
 564:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** 
 565:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   return USBD_OK;
 566:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** }
 567:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** 
 568:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** /**
ARM GAS  /tmp/ccx2yP0p.s 			page 31


 569:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** * @brief  USBD_DevConnected
 570:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** *         Handle device connection event
 571:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** * @param  pdev: device instance
 572:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** * @retval status
 573:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** */
 574:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** USBD_StatusTypeDef USBD_LL_DevConnected(USBD_HandleTypeDef *pdev)
 575:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** {
 576:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   /* Prevent unused argument compilation warning */
 577:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   UNUSED(pdev);
 578:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** 
 579:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   return USBD_OK;
 580:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** }
 581:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** 
 582:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** /**
 583:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** * @brief  USBD_DevDisconnected
 584:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** *         Handle device disconnection event
 585:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** * @param  pdev: device instance
 586:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** * @retval status
 587:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** */
 588:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** USBD_StatusTypeDef USBD_LL_DevDisconnected(USBD_HandleTypeDef *pdev)
 589:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** {
 1078              		.loc 1 589 1 is_stmt 1 view -0
 1079              		.cfi_startproc
 1080              		@ args = 0, pretend = 0, frame = 0
 1081              		@ frame_needed = 0, uses_anonymous_args = 0
 590:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   /* Free Class Resources */
 591:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   pdev->dev_state = USBD_STATE_DEFAULT;
 1082              		.loc 1 591 3 view .LVU288
 589:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   /* Free Class Resources */
 1083              		.loc 1 589 1 is_stmt 0 view .LVU289
 1084 0000 08B5     		push	{r3, lr}
 1085              	.LCFI11:
 1086              		.cfi_def_cfa_offset 8
 1087              		.cfi_offset 3, -8
 1088              		.cfi_offset 14, -4
 1089              		.loc 1 591 19 view .LVU290
 1090 0002 0122     		movs	r2, #1
 1091 0004 80F89C22 		strb	r2, [r0, #668]
 592:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   pdev->pClass->DeInit(pdev, (uint8_t)pdev->dev_config);
 1092              		.loc 1 592 3 is_stmt 1 view .LVU291
 1093              		.loc 1 592 15 is_stmt 0 view .LVU292
 1094 0008 D0F8B422 		ldr	r2, [r0, #692]
 1095              		.loc 1 592 3 view .LVU293
 1096 000c 0179     		ldrb	r1, [r0, #4]	@ zero_extendqisi2
 1097 000e 5268     		ldr	r2, [r2, #4]
 1098 0010 9047     		blx	r2
 1099              	.LVL85:
 593:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** 
 594:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c ****   return USBD_OK;
 1100              		.loc 1 594 3 is_stmt 1 view .LVU294
 595:Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c **** }
 1101              		.loc 1 595 1 is_stmt 0 view .LVU295
 1102 0012 0020     		movs	r0, #0
 1103 0014 08BD     		pop	{r3, pc}
 1104              		.cfi_endproc
 1105              	.LFE379:
 1107              		.text
ARM GAS  /tmp/ccx2yP0p.s 			page 32


 1108              	.Letext0:
 1109              		.file 2 "/usr/include/newlib/machine/_default_types.h"
 1110              		.file 3 "/usr/lib/gcc/arm-none-eabi/9.2.1/include/stddef.h"
 1111              		.file 4 "/usr/include/newlib/sys/_types.h"
 1112              		.file 5 "/usr/include/newlib/sys/reent.h"
 1113              		.file 6 "/usr/include/newlib/sys/lock.h"
 1114              		.file 7 "/usr/include/newlib/sys/_stdint.h"
 1115              		.file 8 "/usr/include/newlib/stdlib.h"
 1116              		.file 9 "Drivers/CMSIS/Include/core_cm4.h"
 1117              		.file 10 "Drivers/CMSIS/Device/ST/STM32G4xx/Include/system_stm32g4xx.h"
 1118              		.file 11 "Drivers/STM32G4xx_HAL_Driver/Inc/stm32g4xx_hal_def.h"
 1119              		.file 12 "Drivers/STM32G4xx_HAL_Driver/Inc/stm32g4xx_hal_flash.h"
 1120              		.file 13 "Drivers/STM32G4xx_HAL_Driver/Inc/stm32g4xx_hal.h"
 1121              		.file 14 "Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h"
 1122              		.file 15 "Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_core.h"
 1123              		.file 16 "Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_ioreq.h"
 1124              		.file 17 "Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_ctlreq.h"
ARM GAS  /tmp/ccx2yP0p.s 			page 33


DEFINED SYMBOLS
                            *ABS*:0000000000000000 usbd_core.c
     /tmp/ccx2yP0p.s:18     .text.USBD_Init:0000000000000000 $t
     /tmp/ccx2yP0p.s:26     .text.USBD_Init:0000000000000000 USBD_Init
     /tmp/ccx2yP0p.s:86     .text.USBD_DeInit:0000000000000000 $t
     /tmp/ccx2yP0p.s:93     .text.USBD_DeInit:0000000000000000 USBD_DeInit
     /tmp/ccx2yP0p.s:139    .text.USBD_RegisterClass:0000000000000000 $t
     /tmp/ccx2yP0p.s:146    .text.USBD_RegisterClass:0000000000000000 USBD_RegisterClass
     /tmp/ccx2yP0p.s:179    .text.USBD_Start:0000000000000000 $t
     /tmp/ccx2yP0p.s:186    .text.USBD_Start:0000000000000000 USBD_Start
     /tmp/ccx2yP0p.s:211    .text.USBD_Stop:0000000000000000 $t
     /tmp/ccx2yP0p.s:218    .text.USBD_Stop:0000000000000000 USBD_Stop
     /tmp/ccx2yP0p.s:255    .text.USBD_RunTestMode:0000000000000000 $t
     /tmp/ccx2yP0p.s:262    .text.USBD_RunTestMode:0000000000000000 USBD_RunTestMode
     /tmp/ccx2yP0p.s:281    .text.USBD_SetClassConfig:0000000000000000 $t
     /tmp/ccx2yP0p.s:288    .text.USBD_SetClassConfig:0000000000000000 USBD_SetClassConfig
     /tmp/ccx2yP0p.s:331    .text.USBD_ClrClassConfig:0000000000000000 $t
     /tmp/ccx2yP0p.s:338    .text.USBD_ClrClassConfig:0000000000000000 USBD_ClrClassConfig
     /tmp/ccx2yP0p.s:366    .text.USBD_LL_SetupStage:0000000000000000 $t
     /tmp/ccx2yP0p.s:373    .text.USBD_LL_SetupStage:0000000000000000 USBD_LL_SetupStage
     /tmp/ccx2yP0p.s:456    .text.USBD_LL_DataOutStage:0000000000000000 $t
     /tmp/ccx2yP0p.s:463    .text.USBD_LL_DataOutStage:0000000000000000 USBD_LL_DataOutStage
     /tmp/ccx2yP0p.s:584    .text.USBD_LL_DataInStage:0000000000000000 $t
     /tmp/ccx2yP0p.s:591    .text.USBD_LL_DataInStage:0000000000000000 USBD_LL_DataInStage
     /tmp/ccx2yP0p.s:771    .text.USBD_LL_Reset:0000000000000000 $t
     /tmp/ccx2yP0p.s:778    .text.USBD_LL_Reset:0000000000000000 USBD_LL_Reset
     /tmp/ccx2yP0p.s:865    .text.USBD_LL_SetSpeed:0000000000000000 $t
     /tmp/ccx2yP0p.s:872    .text.USBD_LL_SetSpeed:0000000000000000 USBD_LL_SetSpeed
     /tmp/ccx2yP0p.s:893    .text.USBD_LL_Suspend:0000000000000000 $t
     /tmp/ccx2yP0p.s:900    .text.USBD_LL_Suspend:0000000000000000 USBD_LL_Suspend
     /tmp/ccx2yP0p.s:926    .text.USBD_LL_Resume:0000000000000000 $t
     /tmp/ccx2yP0p.s:933    .text.USBD_LL_Resume:0000000000000000 USBD_LL_Resume
     /tmp/ccx2yP0p.s:960    .text.USBD_LL_SOF:0000000000000000 $t
     /tmp/ccx2yP0p.s:967    .text.USBD_LL_SOF:0000000000000000 USBD_LL_SOF
     /tmp/ccx2yP0p.s:1003   .text.USBD_LL_IsoINIncomplete:0000000000000000 $t
     /tmp/ccx2yP0p.s:1010   .text.USBD_LL_IsoINIncomplete:0000000000000000 USBD_LL_IsoINIncomplete
     /tmp/ccx2yP0p.s:1030   .text.USBD_LL_IsoOUTIncomplete:0000000000000000 $t
     /tmp/ccx2yP0p.s:1037   .text.USBD_LL_IsoOUTIncomplete:0000000000000000 USBD_LL_IsoOUTIncomplete
     /tmp/ccx2yP0p.s:1049   .text.USBD_LL_DevConnected:0000000000000000 $t
     /tmp/ccx2yP0p.s:1056   .text.USBD_LL_DevConnected:0000000000000000 USBD_LL_DevConnected
     /tmp/ccx2yP0p.s:1068   .text.USBD_LL_DevDisconnected:0000000000000000 $t
     /tmp/ccx2yP0p.s:1075   .text.USBD_LL_DevDisconnected:0000000000000000 USBD_LL_DevDisconnected

UNDEFINED SYMBOLS
USBD_LL_Init
USBD_LL_Stop
USBD_LL_DeInit
USBD_LL_Start
USBD_ParseSetupRequest
USBD_StdDevReq
USBD_StdItfReq
USBD_StdEPReq
USBD_LL_StallEP
USBD_CtlContinueRx
USBD_CtlSendStatus
USBD_CtlContinueSendData
USBD_LL_PrepareReceive
ARM GAS  /tmp/ccx2yP0p.s 			page 34


USBD_CtlReceiveStatus
USBD_LL_OpenEP
